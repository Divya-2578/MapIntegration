(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else {
		var a = factory();
		for(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];
	}
})(window, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/p5.image-map-creator.ts");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/downloadjs/download.js":
/*!*********************************************!*\
  !*** ./node_modules/downloadjs/download.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;//download.js v4.2, by dandavis; 2008-2016. [MIT] see http://danml.com/download.html for tests/usage\n// v1 landed a FF+Chrome compat way of downloading strings to local un-named files, upgraded to use a hidden frame and optional mime\n// v2 added named files via a[download], msSaveBlob, IE (10+) support, and window.URL support for larger+faster saves than dataURLs\n// v3 added dataURL and Blob Input, bind-toggle arity, and legacy dataURL fallback was improved with force-download mime and base64 support. 3.1 improved safari handling.\n// v4 adds AMD/UMD, commonJS, and plain browser support\n// v4.1 adds url download capability via solo URL argument (same domain/CORS only)\n// v4.2 adds semantic variable names, long (over 2MB) dataURL support, and hidden by default temp anchors\n// https://github.com/rndme/download\n\n(function (root, factory) {\n\tif (true) {\n\t\t// AMD. Register as an anonymous module.\n\t\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t} else {}\n}(this, function () {\n\n\treturn function download(data, strFileName, strMimeType) {\n\n\t\tvar self = window, // this script is only for browsers anyway...\n\t\t\tdefaultMime = \"application/octet-stream\", // this default mime also triggers iframe downloads\n\t\t\tmimeType = strMimeType || defaultMime,\n\t\t\tpayload = data,\n\t\t\turl = !strFileName && !strMimeType && payload,\n\t\t\tanchor = document.createElement(\"a\"),\n\t\t\ttoString = function(a){return String(a);},\n\t\t\tmyBlob = (self.Blob || self.MozBlob || self.WebKitBlob || toString),\n\t\t\tfileName = strFileName || \"download\",\n\t\t\tblob,\n\t\t\treader;\n\t\t\tmyBlob= myBlob.call ? myBlob.bind(self) : Blob ;\n\t  \n\t\tif(String(this)===\"true\"){ //reverse arguments, allowing download.bind(true, \"text/xml\", \"export.xml\") to act as a callback\n\t\t\tpayload=[payload, mimeType];\n\t\t\tmimeType=payload[0];\n\t\t\tpayload=payload[1];\n\t\t}\n\n\n\t\tif(url && url.length< 2048){ // if no filename and no mime, assume a url was passed as the only argument\n\t\t\tfileName = url.split(\"/\").pop().split(\"?\")[0];\n\t\t\tanchor.href = url; // assign href prop to temp anchor\n\t\t  \tif(anchor.href.indexOf(url) !== -1){ // if the browser determines that it's a potentially valid url path:\n        \t\tvar ajax=new XMLHttpRequest();\n        \t\tajax.open( \"GET\", url, true);\n        \t\tajax.responseType = 'blob';\n        \t\tajax.onload= function(e){ \n\t\t\t\t  download(e.target.response, fileName, defaultMime);\n\t\t\t\t};\n        \t\tsetTimeout(function(){ ajax.send();}, 0); // allows setting custom ajax headers using the return:\n\t\t\t    return ajax;\n\t\t\t} // end if valid url?\n\t\t} // end if url?\n\n\n\t\t//go ahead and download dataURLs right away\n\t\tif(/^data:([\\w+-]+\\/[\\w+.-]+)?[,;]/.test(payload)){\n\t\t\n\t\t\tif(payload.length > (1024*1024*1.999) && myBlob !== toString ){\n\t\t\t\tpayload=dataUrlToBlob(payload);\n\t\t\t\tmimeType=payload.type || defaultMime;\n\t\t\t}else{\t\t\t\n\t\t\t\treturn navigator.msSaveBlob ?  // IE10 can't do a[download], only Blobs:\n\t\t\t\t\tnavigator.msSaveBlob(dataUrlToBlob(payload), fileName) :\n\t\t\t\t\tsaver(payload) ; // everyone else can save dataURLs un-processed\n\t\t\t}\n\t\t\t\n\t\t}else{//not data url, is it a string with special needs?\n\t\t\tif(/([\\x80-\\xff])/.test(payload)){\t\t\t  \n\t\t\t\tvar i=0, tempUiArr= new Uint8Array(payload.length), mx=tempUiArr.length;\n\t\t\t\tfor(i;i<mx;++i) tempUiArr[i]= payload.charCodeAt(i);\n\t\t\t \tpayload=new myBlob([tempUiArr], {type: mimeType});\n\t\t\t}\t\t  \n\t\t}\n\t\tblob = payload instanceof myBlob ?\n\t\t\tpayload :\n\t\t\tnew myBlob([payload], {type: mimeType}) ;\n\n\n\t\tfunction dataUrlToBlob(strUrl) {\n\t\t\tvar parts= strUrl.split(/[:;,]/),\n\t\t\ttype= parts[1],\n\t\t\tdecoder= parts[2] == \"base64\" ? atob : decodeURIComponent,\n\t\t\tbinData= decoder( parts.pop() ),\n\t\t\tmx= binData.length,\n\t\t\ti= 0,\n\t\t\tuiArr= new Uint8Array(mx);\n\n\t\t\tfor(i;i<mx;++i) uiArr[i]= binData.charCodeAt(i);\n\n\t\t\treturn new myBlob([uiArr], {type: type});\n\t\t }\n\n\t\tfunction saver(url, winMode){\n\n\t\t\tif ('download' in anchor) { //html5 A[download]\n\t\t\t\tanchor.href = url;\n\t\t\t\tanchor.setAttribute(\"download\", fileName);\n\t\t\t\tanchor.className = \"download-js-link\";\n\t\t\t\tanchor.innerHTML = \"downloading...\";\n\t\t\t\tanchor.style.display = \"none\";\n\t\t\t\tdocument.body.appendChild(anchor);\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tanchor.click();\n\t\t\t\t\tdocument.body.removeChild(anchor);\n\t\t\t\t\tif(winMode===true){setTimeout(function(){ self.URL.revokeObjectURL(anchor.href);}, 250 );}\n\t\t\t\t}, 66);\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// handle non-a[download] safari as best we can:\n\t\t\tif(/(Version)\\/(\\d+)\\.(\\d+)(?:\\.(\\d+))?.*Safari\\//.test(navigator.userAgent)) {\n\t\t\t\tif(/^data:/.test(url))\turl=\"data:\"+url.replace(/^data:([\\w\\/\\-\\+]+)/, defaultMime);\n\t\t\t\tif(!window.open(url)){ // popup blocked, offer direct download:\n\t\t\t\t\tif(confirm(\"Displaying New Document\\n\\nUse Save As... to download, then click back to return to this page.\")){ location.href=url; }\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t//do iframe dataURL download (old ch+FF):\n\t\t\tvar f = document.createElement(\"iframe\");\n\t\t\tdocument.body.appendChild(f);\n\n\t\t\tif(!winMode && /^data:/.test(url)){ // force a mime that will download:\n\t\t\t\turl=\"data:\"+url.replace(/^data:([\\w\\/\\-\\+]+)/, defaultMime);\n\t\t\t}\n\t\t\tf.src=url;\n\t\t\tsetTimeout(function(){ document.body.removeChild(f); }, 333);\n\n\t\t}//end saver\n\n\n\n\n\t\tif (navigator.msSaveBlob) { // IE10+ : (has Blob, but not a[download] or URL)\n\t\t\treturn navigator.msSaveBlob(blob, fileName);\n\t\t}\n\n\t\tif(self.URL){ // simple fast and modern way using Blob and URL:\n\t\t\tsaver(self.URL.createObjectURL(blob), true);\n\t\t}else{\n\t\t\t// handle non-Blob()+non-URL browsers:\n\t\t\tif(typeof blob === \"string\" || blob.constructor===toString ){\n\t\t\t\ttry{\n\t\t\t\t\treturn saver( \"data:\" +  mimeType   + \";base64,\"  +  self.btoa(blob)  );\n\t\t\t\t}catch(y){\n\t\t\t\t\treturn saver( \"data:\" +  mimeType   + \",\" + encodeURIComponent(blob)  );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Blob but not URL support:\n\t\t\treader=new FileReader();\n\t\t\treader.onload=function(e){\n\t\t\t\tsaver(this.result);\n\t\t\t};\n\t\t\treader.readAsDataURL(blob);\n\t\t}\n\t\treturn true;\n\t}; /* end download() */\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZG93bmxvYWRqcy9kb3dubG9hZC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kb3dubG9hZGpzL2Rvd25sb2FkLmpzP2FlYjEiXSwic291cmNlc0NvbnRlbnQiOlsiLy9kb3dubG9hZC5qcyB2NC4yLCBieSBkYW5kYXZpczsgMjAwOC0yMDE2LiBbTUlUXSBzZWUgaHR0cDovL2Rhbm1sLmNvbS9kb3dubG9hZC5odG1sIGZvciB0ZXN0cy91c2FnZVxuLy8gdjEgbGFuZGVkIGEgRkYrQ2hyb21lIGNvbXBhdCB3YXkgb2YgZG93bmxvYWRpbmcgc3RyaW5ncyB0byBsb2NhbCB1bi1uYW1lZCBmaWxlcywgdXBncmFkZWQgdG8gdXNlIGEgaGlkZGVuIGZyYW1lIGFuZCBvcHRpb25hbCBtaW1lXG4vLyB2MiBhZGRlZCBuYW1lZCBmaWxlcyB2aWEgYVtkb3dubG9hZF0sIG1zU2F2ZUJsb2IsIElFICgxMCspIHN1cHBvcnQsIGFuZCB3aW5kb3cuVVJMIHN1cHBvcnQgZm9yIGxhcmdlcitmYXN0ZXIgc2F2ZXMgdGhhbiBkYXRhVVJMc1xuLy8gdjMgYWRkZWQgZGF0YVVSTCBhbmQgQmxvYiBJbnB1dCwgYmluZC10b2dnbGUgYXJpdHksIGFuZCBsZWdhY3kgZGF0YVVSTCBmYWxsYmFjayB3YXMgaW1wcm92ZWQgd2l0aCBmb3JjZS1kb3dubG9hZCBtaW1lIGFuZCBiYXNlNjQgc3VwcG9ydC4gMy4xIGltcHJvdmVkIHNhZmFyaSBoYW5kbGluZy5cbi8vIHY0IGFkZHMgQU1EL1VNRCwgY29tbW9uSlMsIGFuZCBwbGFpbiBicm93c2VyIHN1cHBvcnRcbi8vIHY0LjEgYWRkcyB1cmwgZG93bmxvYWQgY2FwYWJpbGl0eSB2aWEgc29sbyBVUkwgYXJndW1lbnQgKHNhbWUgZG9tYWluL0NPUlMgb25seSlcbi8vIHY0LjIgYWRkcyBzZW1hbnRpYyB2YXJpYWJsZSBuYW1lcywgbG9uZyAob3ZlciAyTUIpIGRhdGFVUkwgc3VwcG9ydCwgYW5kIGhpZGRlbiBieSBkZWZhdWx0IHRlbXAgYW5jaG9yc1xuLy8gaHR0cHM6Ly9naXRodWIuY29tL3JuZG1lL2Rvd25sb2FkXG5cbihmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSkge1xuXHRpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG5cdFx0Ly8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLlxuXHRcdGRlZmluZShbXSwgZmFjdG9yeSk7XG5cdH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7XG5cdFx0Ly8gTm9kZS4gRG9lcyBub3Qgd29yayB3aXRoIHN0cmljdCBDb21tb25KUywgYnV0XG5cdFx0Ly8gb25seSBDb21tb25KUy1saWtlIGVudmlyb25tZW50cyB0aGF0IHN1cHBvcnQgbW9kdWxlLmV4cG9ydHMsXG5cdFx0Ly8gbGlrZSBOb2RlLlxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHR9IGVsc2Uge1xuXHRcdC8vIEJyb3dzZXIgZ2xvYmFscyAocm9vdCBpcyB3aW5kb3cpXG5cdFx0cm9vdC5kb3dubG9hZCA9IGZhY3RvcnkoKTtcbiAgfVxufSh0aGlzLCBmdW5jdGlvbiAoKSB7XG5cblx0cmV0dXJuIGZ1bmN0aW9uIGRvd25sb2FkKGRhdGEsIHN0ckZpbGVOYW1lLCBzdHJNaW1lVHlwZSkge1xuXG5cdFx0dmFyIHNlbGYgPSB3aW5kb3csIC8vIHRoaXMgc2NyaXB0IGlzIG9ubHkgZm9yIGJyb3dzZXJzIGFueXdheS4uLlxuXHRcdFx0ZGVmYXVsdE1pbWUgPSBcImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbVwiLCAvLyB0aGlzIGRlZmF1bHQgbWltZSBhbHNvIHRyaWdnZXJzIGlmcmFtZSBkb3dubG9hZHNcblx0XHRcdG1pbWVUeXBlID0gc3RyTWltZVR5cGUgfHwgZGVmYXVsdE1pbWUsXG5cdFx0XHRwYXlsb2FkID0gZGF0YSxcblx0XHRcdHVybCA9ICFzdHJGaWxlTmFtZSAmJiAhc3RyTWltZVR5cGUgJiYgcGF5bG9hZCxcblx0XHRcdGFuY2hvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpLFxuXHRcdFx0dG9TdHJpbmcgPSBmdW5jdGlvbihhKXtyZXR1cm4gU3RyaW5nKGEpO30sXG5cdFx0XHRteUJsb2IgPSAoc2VsZi5CbG9iIHx8IHNlbGYuTW96QmxvYiB8fCBzZWxmLldlYktpdEJsb2IgfHwgdG9TdHJpbmcpLFxuXHRcdFx0ZmlsZU5hbWUgPSBzdHJGaWxlTmFtZSB8fCBcImRvd25sb2FkXCIsXG5cdFx0XHRibG9iLFxuXHRcdFx0cmVhZGVyO1xuXHRcdFx0bXlCbG9iPSBteUJsb2IuY2FsbCA/IG15QmxvYi5iaW5kKHNlbGYpIDogQmxvYiA7XG5cdCAgXG5cdFx0aWYoU3RyaW5nKHRoaXMpPT09XCJ0cnVlXCIpeyAvL3JldmVyc2UgYXJndW1lbnRzLCBhbGxvd2luZyBkb3dubG9hZC5iaW5kKHRydWUsIFwidGV4dC94bWxcIiwgXCJleHBvcnQueG1sXCIpIHRvIGFjdCBhcyBhIGNhbGxiYWNrXG5cdFx0XHRwYXlsb2FkPVtwYXlsb2FkLCBtaW1lVHlwZV07XG5cdFx0XHRtaW1lVHlwZT1wYXlsb2FkWzBdO1xuXHRcdFx0cGF5bG9hZD1wYXlsb2FkWzFdO1xuXHRcdH1cblxuXG5cdFx0aWYodXJsICYmIHVybC5sZW5ndGg8IDIwNDgpeyAvLyBpZiBubyBmaWxlbmFtZSBhbmQgbm8gbWltZSwgYXNzdW1lIGEgdXJsIHdhcyBwYXNzZWQgYXMgdGhlIG9ubHkgYXJndW1lbnRcblx0XHRcdGZpbGVOYW1lID0gdXJsLnNwbGl0KFwiL1wiKS5wb3AoKS5zcGxpdChcIj9cIilbMF07XG5cdFx0XHRhbmNob3IuaHJlZiA9IHVybDsgLy8gYXNzaWduIGhyZWYgcHJvcCB0byB0ZW1wIGFuY2hvclxuXHRcdCAgXHRpZihhbmNob3IuaHJlZi5pbmRleE9mKHVybCkgIT09IC0xKXsgLy8gaWYgdGhlIGJyb3dzZXIgZGV0ZXJtaW5lcyB0aGF0IGl0J3MgYSBwb3RlbnRpYWxseSB2YWxpZCB1cmwgcGF0aDpcbiAgICAgICAgXHRcdHZhciBhamF4PW5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgICBcdFx0YWpheC5vcGVuKCBcIkdFVFwiLCB1cmwsIHRydWUpO1xuICAgICAgICBcdFx0YWpheC5yZXNwb25zZVR5cGUgPSAnYmxvYic7XG4gICAgICAgIFx0XHRhamF4Lm9ubG9hZD0gZnVuY3Rpb24oZSl7IFxuXHRcdFx0XHQgIGRvd25sb2FkKGUudGFyZ2V0LnJlc3BvbnNlLCBmaWxlTmFtZSwgZGVmYXVsdE1pbWUpO1xuXHRcdFx0XHR9O1xuICAgICAgICBcdFx0c2V0VGltZW91dChmdW5jdGlvbigpeyBhamF4LnNlbmQoKTt9LCAwKTsgLy8gYWxsb3dzIHNldHRpbmcgY3VzdG9tIGFqYXggaGVhZGVycyB1c2luZyB0aGUgcmV0dXJuOlxuXHRcdFx0ICAgIHJldHVybiBhamF4O1xuXHRcdFx0fSAvLyBlbmQgaWYgdmFsaWQgdXJsP1xuXHRcdH0gLy8gZW5kIGlmIHVybD9cblxuXG5cdFx0Ly9nbyBhaGVhZCBhbmQgZG93bmxvYWQgZGF0YVVSTHMgcmlnaHQgYXdheVxuXHRcdGlmKC9eZGF0YTooW1xcdystXStcXC9bXFx3Ky4tXSspP1ssO10vLnRlc3QocGF5bG9hZCkpe1xuXHRcdFxuXHRcdFx0aWYocGF5bG9hZC5sZW5ndGggPiAoMTAyNCoxMDI0KjEuOTk5KSAmJiBteUJsb2IgIT09IHRvU3RyaW5nICl7XG5cdFx0XHRcdHBheWxvYWQ9ZGF0YVVybFRvQmxvYihwYXlsb2FkKTtcblx0XHRcdFx0bWltZVR5cGU9cGF5bG9hZC50eXBlIHx8IGRlZmF1bHRNaW1lO1xuXHRcdFx0fWVsc2V7XHRcdFx0XG5cdFx0XHRcdHJldHVybiBuYXZpZ2F0b3IubXNTYXZlQmxvYiA/ICAvLyBJRTEwIGNhbid0IGRvIGFbZG93bmxvYWRdLCBvbmx5IEJsb2JzOlxuXHRcdFx0XHRcdG5hdmlnYXRvci5tc1NhdmVCbG9iKGRhdGFVcmxUb0Jsb2IocGF5bG9hZCksIGZpbGVOYW1lKSA6XG5cdFx0XHRcdFx0c2F2ZXIocGF5bG9hZCkgOyAvLyBldmVyeW9uZSBlbHNlIGNhbiBzYXZlIGRhdGFVUkxzIHVuLXByb2Nlc3NlZFxuXHRcdFx0fVxuXHRcdFx0XG5cdFx0fWVsc2V7Ly9ub3QgZGF0YSB1cmwsIGlzIGl0IGEgc3RyaW5nIHdpdGggc3BlY2lhbCBuZWVkcz9cblx0XHRcdGlmKC8oW1xceDgwLVxceGZmXSkvLnRlc3QocGF5bG9hZCkpe1x0XHRcdCAgXG5cdFx0XHRcdHZhciBpPTAsIHRlbXBVaUFycj0gbmV3IFVpbnQ4QXJyYXkocGF5bG9hZC5sZW5ndGgpLCBteD10ZW1wVWlBcnIubGVuZ3RoO1xuXHRcdFx0XHRmb3IoaTtpPG14OysraSkgdGVtcFVpQXJyW2ldPSBwYXlsb2FkLmNoYXJDb2RlQXQoaSk7XG5cdFx0XHQgXHRwYXlsb2FkPW5ldyBteUJsb2IoW3RlbXBVaUFycl0sIHt0eXBlOiBtaW1lVHlwZX0pO1xuXHRcdFx0fVx0XHQgIFxuXHRcdH1cblx0XHRibG9iID0gcGF5bG9hZCBpbnN0YW5jZW9mIG15QmxvYiA/XG5cdFx0XHRwYXlsb2FkIDpcblx0XHRcdG5ldyBteUJsb2IoW3BheWxvYWRdLCB7dHlwZTogbWltZVR5cGV9KSA7XG5cblxuXHRcdGZ1bmN0aW9uIGRhdGFVcmxUb0Jsb2Ioc3RyVXJsKSB7XG5cdFx0XHR2YXIgcGFydHM9IHN0clVybC5zcGxpdCgvWzo7LF0vKSxcblx0XHRcdHR5cGU9IHBhcnRzWzFdLFxuXHRcdFx0ZGVjb2Rlcj0gcGFydHNbMl0gPT0gXCJiYXNlNjRcIiA/IGF0b2IgOiBkZWNvZGVVUklDb21wb25lbnQsXG5cdFx0XHRiaW5EYXRhPSBkZWNvZGVyKCBwYXJ0cy5wb3AoKSApLFxuXHRcdFx0bXg9IGJpbkRhdGEubGVuZ3RoLFxuXHRcdFx0aT0gMCxcblx0XHRcdHVpQXJyPSBuZXcgVWludDhBcnJheShteCk7XG5cblx0XHRcdGZvcihpO2k8bXg7KytpKSB1aUFycltpXT0gYmluRGF0YS5jaGFyQ29kZUF0KGkpO1xuXG5cdFx0XHRyZXR1cm4gbmV3IG15QmxvYihbdWlBcnJdLCB7dHlwZTogdHlwZX0pO1xuXHRcdCB9XG5cblx0XHRmdW5jdGlvbiBzYXZlcih1cmwsIHdpbk1vZGUpe1xuXG5cdFx0XHRpZiAoJ2Rvd25sb2FkJyBpbiBhbmNob3IpIHsgLy9odG1sNSBBW2Rvd25sb2FkXVxuXHRcdFx0XHRhbmNob3IuaHJlZiA9IHVybDtcblx0XHRcdFx0YW5jaG9yLnNldEF0dHJpYnV0ZShcImRvd25sb2FkXCIsIGZpbGVOYW1lKTtcblx0XHRcdFx0YW5jaG9yLmNsYXNzTmFtZSA9IFwiZG93bmxvYWQtanMtbGlua1wiO1xuXHRcdFx0XHRhbmNob3IuaW5uZXJIVE1MID0gXCJkb3dubG9hZGluZy4uLlwiO1xuXHRcdFx0XHRhbmNob3Iuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuXHRcdFx0XHRkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGFuY2hvcik7XG5cdFx0XHRcdHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0YW5jaG9yLmNsaWNrKCk7XG5cdFx0XHRcdFx0ZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChhbmNob3IpO1xuXHRcdFx0XHRcdGlmKHdpbk1vZGU9PT10cnVlKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7IHNlbGYuVVJMLnJldm9rZU9iamVjdFVSTChhbmNob3IuaHJlZik7fSwgMjUwICk7fVxuXHRcdFx0XHR9LCA2Nik7XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBoYW5kbGUgbm9uLWFbZG93bmxvYWRdIHNhZmFyaSBhcyBiZXN0IHdlIGNhbjpcblx0XHRcdGlmKC8oVmVyc2lvbilcXC8oXFxkKylcXC4oXFxkKykoPzpcXC4oXFxkKykpPy4qU2FmYXJpXFwvLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpKSB7XG5cdFx0XHRcdGlmKC9eZGF0YTovLnRlc3QodXJsKSlcdHVybD1cImRhdGE6XCIrdXJsLnJlcGxhY2UoL15kYXRhOihbXFx3XFwvXFwtXFwrXSspLywgZGVmYXVsdE1pbWUpO1xuXHRcdFx0XHRpZighd2luZG93Lm9wZW4odXJsKSl7IC8vIHBvcHVwIGJsb2NrZWQsIG9mZmVyIGRpcmVjdCBkb3dubG9hZDpcblx0XHRcdFx0XHRpZihjb25maXJtKFwiRGlzcGxheWluZyBOZXcgRG9jdW1lbnRcXG5cXG5Vc2UgU2F2ZSBBcy4uLiB0byBkb3dubG9hZCwgdGhlbiBjbGljayBiYWNrIHRvIHJldHVybiB0byB0aGlzIHBhZ2UuXCIpKXsgbG9jYXRpb24uaHJlZj11cmw7IH1cblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblxuXHRcdFx0Ly9kbyBpZnJhbWUgZGF0YVVSTCBkb3dubG9hZCAob2xkIGNoK0ZGKTpcblx0XHRcdHZhciBmID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlmcmFtZVwiKTtcblx0XHRcdGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZik7XG5cblx0XHRcdGlmKCF3aW5Nb2RlICYmIC9eZGF0YTovLnRlc3QodXJsKSl7IC8vIGZvcmNlIGEgbWltZSB0aGF0IHdpbGwgZG93bmxvYWQ6XG5cdFx0XHRcdHVybD1cImRhdGE6XCIrdXJsLnJlcGxhY2UoL15kYXRhOihbXFx3XFwvXFwtXFwrXSspLywgZGVmYXVsdE1pbWUpO1xuXHRcdFx0fVxuXHRcdFx0Zi5zcmM9dXJsO1xuXHRcdFx0c2V0VGltZW91dChmdW5jdGlvbigpeyBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGYpOyB9LCAzMzMpO1xuXG5cdFx0fS8vZW5kIHNhdmVyXG5cblxuXG5cblx0XHRpZiAobmF2aWdhdG9yLm1zU2F2ZUJsb2IpIHsgLy8gSUUxMCsgOiAoaGFzIEJsb2IsIGJ1dCBub3QgYVtkb3dubG9hZF0gb3IgVVJMKVxuXHRcdFx0cmV0dXJuIG5hdmlnYXRvci5tc1NhdmVCbG9iKGJsb2IsIGZpbGVOYW1lKTtcblx0XHR9XG5cblx0XHRpZihzZWxmLlVSTCl7IC8vIHNpbXBsZSBmYXN0IGFuZCBtb2Rlcm4gd2F5IHVzaW5nIEJsb2IgYW5kIFVSTDpcblx0XHRcdHNhdmVyKHNlbGYuVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKSwgdHJ1ZSk7XG5cdFx0fWVsc2V7XG5cdFx0XHQvLyBoYW5kbGUgbm9uLUJsb2IoKStub24tVVJMIGJyb3dzZXJzOlxuXHRcdFx0aWYodHlwZW9mIGJsb2IgPT09IFwic3RyaW5nXCIgfHwgYmxvYi5jb25zdHJ1Y3Rvcj09PXRvU3RyaW5nICl7XG5cdFx0XHRcdHRyeXtcblx0XHRcdFx0XHRyZXR1cm4gc2F2ZXIoIFwiZGF0YTpcIiArICBtaW1lVHlwZSAgICsgXCI7YmFzZTY0LFwiICArICBzZWxmLmJ0b2EoYmxvYikgICk7XG5cdFx0XHRcdH1jYXRjaCh5KXtcblx0XHRcdFx0XHRyZXR1cm4gc2F2ZXIoIFwiZGF0YTpcIiArICBtaW1lVHlwZSAgICsgXCIsXCIgKyBlbmNvZGVVUklDb21wb25lbnQoYmxvYikgICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gQmxvYiBidXQgbm90IFVSTCBzdXBwb3J0OlxuXHRcdFx0cmVhZGVyPW5ldyBGaWxlUmVhZGVyKCk7XG5cdFx0XHRyZWFkZXIub25sb2FkPWZ1bmN0aW9uKGUpe1xuXHRcdFx0XHRzYXZlcih0aGlzLnJlc3VsdCk7XG5cdFx0XHR9O1xuXHRcdFx0cmVhZGVyLnJlYWRBc0RhdGFVUkwoYmxvYik7XG5cdFx0fVxuXHRcdHJldHVybiB0cnVlO1xuXHR9OyAvKiBlbmQgZG93bmxvYWQoKSAqL1xufSkpO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBLFVBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/downloadjs/download.js\n");

/***/ }),

/***/ "./node_modules/quicksettings/quicksettings.min.js":
/*!*********************************************************!*\
  !*** ./node_modules/quicksettings/quicksettings.min.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("!function(){function a(a,b){var d=c(\"div\",null,\"qs_label\",b);return d.innerHTML=a,d}function b(a,b,d,e){var f=c(\"input\",b,d,e);return f.type=a,f}function c(a,b,c,d){var e=document.createElement(a);if(e)return e.id=b,c&&(e.className=c),d&&d.appendChild(e),e}function d(){return navigator.userAgent.indexOf(\"rv:11\")!=-1||navigator.userAgent.indexOf(\"MSIE\")!=-1}function e(){var a=navigator.userAgent.toLowerCase();return!(a.indexOf(\"chrome\")>-1||a.indexOf(\"firefox\")>-1||a.indexOf(\"epiphany\")>-1)&&a.indexOf(\"safari/\")>-1}function f(){var a=navigator.userAgent.toLowerCase();return a.indexOf(\"edge\")>-1}function g(){var a=document.createElement(\"style\");a.innerText=i,document.head.appendChild(a),h=!0}var h=!1,i=\".qs_main{background-color:#dddddd;text-align:left;position:absolute;width:200px;font:12px sans-serif;box-shadow:5px 5px 8px rgba(0,0,0,0.35);user-select:none;-webkit-user-select:none;color:#000000;border:none}.qs_content{background-color:#cccccc;overflow-y:auto}.qs_title_bar{background-color:#eeeeee;user-select:none;-webkit-user-select:none;cursor:pointer;padding:5px;font-weight:bold;border:none;color:#000000}.qs_container{margin:5px;padding:5px;background-color:#eeeeee;border:none;position:relative}.qs_container_selected{border:none;background-color:#ffffff}.qs_range{-webkit-appearance:none;-moz-appearance:none;width:100%;height:17px;padding:0;margin:0;background-color:transparent;border:none;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.qs_range:focus{outline:none;border:none}.qs_range::-webkit-slider-runnable-track{width:100%;height:15px;cursor:pointer;background:#cccccc;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0}.qs_range:focus::-webkit-slider-runnable-track{background:#cccccc}.qs_range::-webkit-slider-thumb{-webkit-appearance:none;height:15px;width:15px;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0;background:#999999;cursor:pointer;margin-top:0}.qs_range::-moz-range-track{width:100%;height:15px;cursor:pointer;background:#cccccc;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0}.qs_range::-moz-range-thumb{height:15px;width:15px;border:none;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0;background:#999999;cursor:pointer}.qs_range::-ms-track{width:100%;height:15px;cursor:pointer;visibility:hidden;background:transparent}.qs_range::-ms-thumb{height:15px;width:15px;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0;background:#999999;cursor:pointer;border:none}.qs_range::-ms-fill-lower{background:#cccccc;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0}.qs_range:focus::-ms-fill-lower{background:#cccccc}.qs_range::-ms-fill-upper{background:#cccccc;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0}.qs_range:focus::-ms-fill-upper{background:#cccccc}.qs_button{background-color:#f6f6f6;color:#000000;height:30px;border:1px solid #aaaaaa;font:12px sans-serif}.qs_button:active{background-color:#ffffff;border:1px solid #aaaaaa}.qs_button:focus{border:1px solid #aaaaaa;outline:none}.qs_checkbox{cursor:pointer}.qs_checkbox input{position:absolute;left:-99999px}.qs_checkbox span{height:16px;width:100%;display:block;text-indent:20px;background:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAALklEQVQ4T2OcOXPmfwYKACPIgLS0NLKMmDVrFsOoAaNhMJoOGBioFwZkZUWoJgApdFaxjUM1YwAAAABJRU5ErkJggg==') no-repeat}.qs_checkbox input:checked+span{background:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAvElEQVQ4T63Tyw2EIBAA0OFKBxBL40wDRovAUACcKc1IB1zZDAkG18GYZTmSmafzgTnnMgwchoDWGlJKheGcP3JtnPceCqCUAmttSZznuYtgchsXQrgC+77DNE0kUpPbmBOoJaBOIVQylnqWgAAeKhDve/AN+EaklJBzhhgjWRoJVGTbNjiOowAIret6a+4jYIwpX8aDwLIs74C2D0IIYIyVP6Gm898m9kbVm85ljHUTf16k4VUefkwDrxk+zoUEwCt0GbUAAAAASUVORK5CYII=') no-repeat}.qs_checkbox_label{position:absolute;top:7px;left:30px}.qs_label{margin-bottom:3px;user-select:none;-webkit-user-select:none;cursor:default;font:12px sans-serif}.qs_text_input{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;width:100%;padding:0 0 0 5px;height:24px;border:1px inset #ffffff;background-color:#ffffff;color:#000000;font-size:12px}.qs_text_input:focus{outline:none;background:#ffffff;border:1px inset #ffffff}.qs_select{background:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAp0lEQVRIS+2SsQ3FIAwF7RVYhA5mgQFhFuhYhJKWL0eKxI8SGylKZ0p4+OBsHGNM+HChAiS7qkgyBKrovaLeOxhjbgtxZ+cFtgelFMg5QwgBvPd/EO5sDbKAlBLUWo/8CjmL075zDmKMj6rEKbpCqBL9aqc4ZUQAhVbInBMQUXz5Vg/WfxOktXZsWWtZLds9uIqlqaH1NFV3jdhSJA47E1CAaE8ViYp+wGiWMZ/T+cgAAAAASUVORK5CYII=') no-repeat right #f6f6f6;-webkit-appearance:none;-moz-appearance:none;appearance:none;color:#000000;width:100%;height:24px;border:1px solid #aaaaaa;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0;padding:0 5px;-moz-outline:none;font-size:14px}.qs_select option{font-size:14px}.qs_select::-ms-expand{display:none}.qs_select:focus{outline:none}.qs_number{height:24px}.qs_image{width:100%}.qs_progress{width:100%;height:15px;background-color:#cccccc;border:none;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.qs_progress_value{height:100%;background-color:#999999}.qs_textarea{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;resize:vertical;width:100%;padding:3px 5px;border:1px inset #ffffff;background-color:#ffffff;color:#000000;font-size:12px}.qs_textarea:focus{outline:none;background:#ffffff;border:1px inset #ffffff}.qs_color{position:absolute;left:-999999px}.qs_color_label{width:100%;height:20px;display:block;border:1px solid #aaaaaa;cursor:pointer;padding:0 0 0 5px;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.qs_file_chooser{position:absolute;left:-999999px}.qs_file_chooser_label{background-color:#f6f6f6;color:#000000;height:30px;border:1px solid #aaaaaa;font:12px sans-serif;width:100%;display:block;cursor:pointer;padding:7px;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}\",j={_version:\"2.1\",_topZ:1,_panel:null,_titleBar:null,_content:null,_startX:0,_startY:0,_hidden:!1,_collapsed:!1,_controls:null,_keyCode:-1,_draggable:!0,_collapsible:!0,_globalChangeHandler:null,useExtStyleSheet:function(){h=!0},create:function(a,b,c,d){var e=Object.create(this);return e._init(a,b,c,d),e},destroy:function(){this._panel.parentElement&&this._panel.parentElement.removeChild(this._panel);for(var a in this)this[a]=null},_init:function(a,b,c,d){h||g(),this._bindHandlers(),this._createPanel(a,b,d),this._createTitleBar(c||\"QuickSettings\"),this._createContent()},_bindHandlers:function(){this._startDrag=this._startDrag.bind(this),this._drag=this._drag.bind(this),this._endDrag=this._endDrag.bind(this),this._doubleClickTitle=this._doubleClickTitle.bind(this),this._onKeyUp=this._onKeyUp.bind(this)},getValuesAsJSON:function(a){var b={};for(var c in this._controls)this._controls[c].getValue&&(b[c]=this._controls[c].getValue());return a&&(b=JSON.stringify(b)),b},setValuesFromJSON:function(a){\"string\"==typeof a&&(a=JSON.parse(a));for(var b in a)this._controls[b].setValue&&this._controls[b].setValue(a[b]);return this},saveInLocalStorage:function(a){return this._localStorageName=a,this._readFromLocalStorage(a),this},clearLocalStorage:function(a){return localStorage.removeItem(a),this},_saveInLocalStorage:function(a){localStorage.setItem(a,this.getValuesAsJSON(!0))},_readFromLocalStorage:function(a){var b=localStorage.getItem(a);b&&this.setValuesFromJSON(b)},_createPanel:function(a,b,d){this._panel=c(\"div\",null,\"qs_main\",d||document.body),this._panel.style.zIndex=++j._topZ,this.setPosition(a||0,b||0),this._controls={}},_createTitleBar:function(a){this._titleBar=c(\"div\",null,\"qs_title_bar\",this._panel),this._titleBar.textContent=a,this._titleBar.addEventListener(\"mousedown\",this._startDrag),this._titleBar.addEventListener(\"dblclick\",this._doubleClickTitle)},_createContent:function(){this._content=c(\"div\",null,\"qs_content\",this._panel)},_createContainer:function(){var a=c(\"div\",null,\"qs_container\");return a.addEventListener(\"focus\",function(){this.className+=\" qs_container_selected\"},!0),a.addEventListener(\"blur\",function(){var a=this.className.indexOf(\" qs_container_selected\");a>-1&&(this.className=this.className.substr(0,a))},!0),this._content.appendChild(a),a},setPosition:function(a,b){return this._panel.style.left=a+\"px\",this._panel.style.top=Math.max(b,0)+\"px\",this},setSize:function(a,b){return this._panel.style.width=a+\"px\",this._content.style.width=a+\"px\",this._content.style.height=b-this._titleBar.offsetHeight+\"px\",this},setWidth:function(a){return this._panel.style.width=a+\"px\",this._content.style.width=a+\"px\",this},setHeight:function(a){return this._content.style.height=a-this._titleBar.offsetHeight+\"px\",this},setDraggable:function(a){return this._draggable=a,this._draggable||this._collapsible?this._titleBar.style.cursor=\"pointer\":this._titleBar.style.cursor=\"default\",this},_startDrag:function(a){this._draggable&&(this._panel.style.zIndex=++j._topZ,document.addEventListener(\"mousemove\",this._drag),document.addEventListener(\"mouseup\",this._endDrag),this._startX=a.clientX,this._startY=a.clientY),a.preventDefault()},_drag:function(a){var b=parseInt(this._panel.style.left),c=parseInt(this._panel.style.top),d=a.clientX,e=a.clientY;this.setPosition(b+d-this._startX,c+e-this._startY),this._startX=d,this._startY=e,a.preventDefault()},_endDrag:function(a){document.removeEventListener(\"mousemove\",this._drag),document.removeEventListener(\"mouseup\",this._endDrag),a.preventDefault()},setGlobalChangeHandler:function(a){return this._globalChangeHandler=a,this},_callGCH:function(){this._localStorageName&&this._saveInLocalStorage(this._localStorageName),this._globalChangeHandler&&this._globalChangeHandler()},hide:function(){return this._panel.style.visibility=\"hidden\",this._hidden=!0,this},show:function(){return this._panel.style.visibility=\"visible\",this._panel.style.zIndex=++j._topZ,this._hidden=!1,this},toggleVisibility:function(){return this._hidden?this.show():this.hide(),this},setCollapsible:function(a){return this._collapsible=a,this._draggable||this._collapsible?this._titleBar.style.cursor=\"pointer\":this._titleBar.style.cursor=\"default\",this},collapse:function(){return this._panel.removeChild(this._content),this._collapsed=!0,this},expand:function(){return this._panel.appendChild(this._content),this._collapsed=!1,this},toggleCollapsed:function(){return this._collapsed?this.expand():this.collapse(),this},setKey:function(a){return this._keyCode=a.toUpperCase().charCodeAt(0),document.body.addEventListener(\"keyup\",this.onKeyUp),this},_onKeyUp:function(a){a.keyCode===this._keyCode&&this.toggleVisibility()},_doubleClickTitle:function(){this._collapsible&&this.toggleCollapsed()},removeControl:function(a){if(this._controls[a])var b=this._controls[a].container;return b&&b.parentElement&&b.parentElement.removeChild(b),this._controls[a]=null,this},enableControl:function(a){return this._controls[a]&&(this._controls[a].control.disabled=!1),this},disableControl:function(a){return this._controls[a]&&(this._controls[a].control.disabled=!0),this},hideControl:function(a){return this._controls[a]&&(this._controls[a].container.style.display=\"none\"),this},showControl:function(a){return this._controls[a]&&(this._controls[a].container.style.display=\"block\"),this},overrideStyle:function(a,b,c){return this._controls[a]&&(this._controls[a].control.style[b]=c),this},hideTitle:function(a){var b=this._controls[a].label;return b&&(b.style.display=\"none\"),this},showTitle:function(a){var b=this._controls[a].label;return b&&(b.style.display=\"block\"),this},hideAllTitles:function(){for(var a in this._controls){var b=this._controls[a].label;b&&(b.style.display=\"none\")}return this},showAllTitles:function(){for(var a in this._controls){var b=this._controls[a].label;b&&(b.style.display=\"block\")}return this},getValue:function(a){return this._controls[a].getValue()},setValue:function(a,b){return this._controls[a].setValue(b),this._callGCH(),this},addBoolean:function(a,d,e){var f=this._createContainer(),g=c(\"label\",null,\"qs_checkbox_label\",f);g.textContent=a,g.setAttribute(\"for\",a);var h=c(\"label\",null,\"qs_checkbox\",f);h.setAttribute(\"for\",a);var i=b(\"checkbox\",a,null,h);i.checked=d;c(\"span\",null,null,h);this._controls[a]={container:f,control:i,getValue:function(){return this.control.checked},setValue:function(a){this.control.checked=a,e&&e(a)}};var j=this;return i.addEventListener(\"change\",function(){e&&e(i.checked),j._callGCH()}),this},bindBoolean:function(a,b,c){return this.addBoolean(a,b,function(b){c[a]=b})},addButton:function(a,c){var d=this._createContainer(),e=b(\"button\",a,\"qs_button\",d);e.value=a,this._controls[a]={container:d,control:e};var f=this;return e.addEventListener(\"click\",function(){c&&c(e),f._callGCH()}),this},addColor:function(g,h,i){if(e()||f()||d())return this.addText(g,h,i);var j=this._createContainer(),k=a(\"<b>\"+g+\":</b> \"+h,j),l=b(\"color\",g,\"qs_color\",j);l.value=h||\"#ff0000\";var m=c(\"label\",null,\"qs_color_label\",j);m.setAttribute(\"for\",g),m.style.backgroundColor=l.value,this._controls[g]={container:j,control:l,colorLabel:m,label:k,title:g,getValue:function(){return this.control.value},setValue:function(a){this.control.value=a,this.colorLabel.style.backgroundColor=l.value,this.label.innerHTML=\"<b>\"+this.title+\":</b> \"+this.control.value,i&&i(a)}};var n=this;return l.addEventListener(\"input\",function(){k.innerHTML=\"<b>\"+g+\":</b> \"+l.value,m.style.backgroundColor=l.value,i&&i(l.value),n._callGCH()}),this},bindColor:function(a,b,c){return this.addColor(a,b,function(b){c[a]=b})},addDate:function(c,e,f){var g;if(e instanceof Date){var h=e.getFullYear(),i=e.getMonth()+1;i<10&&(i=\"0\"+i);var j=e.getDate();g=h+\"-\"+i+\"-\"+j}else g=e;if(d())return this.addText(c,g,f);var k=this._createContainer(),l=a(\"<b>\"+c+\"</b>\",k),m=b(\"date\",c,\"qs_text_input\",k);m.value=g||\"\",this._controls[c]={container:k,control:m,label:l,getValue:function(){return this.control.value},setValue:function(a){var b;if(a instanceof Date){var c=a.getFullYear(),d=a.getMonth()+1;d<10&&(d=\"0\"+d);var e=a.getDate();e<10&&(e=\"0\"+e),b=c+\"-\"+d+\"-\"+e}else b=a;this.control.value=b||\"\",f&&f(b)}};var n=this;return m.addEventListener(\"input\",function(){f&&f(m.value),n._callGCH()}),this},bindDate:function(a,b,c){return this.addDate(a,b,function(b){c[a]=b})},addDropDown:function(b,d,e){for(var f=this._createContainer(),g=a(\"<b>\"+b+\"</b>\",f),h=c(\"select\",null,\"qs_select\",f),i=0;i<d.length;i++){var j=c(\"option\");j.label=d[i],j.innerText=d[i],h.add(j)}var k=this;return h.addEventListener(\"change\",function(){var a=h.selectedIndex,b=h.options;e&&e({index:a,value:b[a].label}),k._callGCH()}),this._controls[b]={container:f,control:h,label:g,getValue:function(){var a=this.control.selectedIndex;return{index:a,value:this.control.options[a].label}},setValue:function(a){var b;b=null!=a.index?a.index:a;var c=this.control.options;this.control.selectedIndex=b,e&&e({index:b,value:c[b].label})}},this},bindDropDown:function(a,b,c){return this.addDropDown(a,b,function(b){c[a]=b.value})},addElement:function(b,c){var d=this._createContainer(),e=a(\"<b>\"+b+\"</b>\",d);return d.appendChild(c),this._controls[b]={container:d,label:e},this},addFileChooser:function(d,e,f,g){var h=this._createContainer(),i=a(\"<b>\"+d+\"</b>\",h),j=b(\"file\",d,\"qs_file_chooser\",h);f&&(j.accept=f);var k=c(\"label\",null,\"qs_file_chooser_label\",h);k.setAttribute(\"for\",d),k.textContent=e||\"Choose a file...\",this._controls[d]={container:h,control:j,label:i,getValue:function(){return this.control.files[0]}};var l=this;return j.addEventListener(\"change\",function(){j.files&&j.files.length&&(k.textContent=j.files[0].name,g&&g(j.files[0]),l._callGCH())}),this},addHTML:function(b,d){var e=this._createContainer(),f=a(\"<b>\"+b+\":</b> \",e),g=c(\"div\",null,null,e);return g.innerHTML=d,this._controls[b]={label:f,control:g,getValue:function(){return this.control.innerHTML},setValue:function(a){this.control.innerHTML=a}},this},addImage:function(b,d){var e=this._createContainer(),f=a(\"<b>\"+b+\"</b>\",e);return img=c(\"img\",null,\"qs_image\",e),img.src=d,this._controls[b]={container:e,control:img,label:f,getValue:function(){return this.control.src},setValue:function(a){this.control.src=a}},this},addRange:function(a,b,c,d,e,f){return this._addNumber(\"range\",a,b,c,d,e,f)},addNumber:function(a,b,c,d,e,f){return this._addNumber(\"number\",a,b,c,d,e,f)},_addNumber:function(c,e,f,g,h,i,j){var k=this._createContainer(),l=a(\"\",k),m=\"range\"===c?\"qs_range\":\"qs_text_input qs_number\",n=b(c,e,m,k);n.min=f||0,n.max=g||100,n.step=i||1,n.value=h||0,l.innerHTML=\"<b>\"+e+\":</b> \"+n.value,this._controls[e]={container:k,control:n,label:l,title:e,callback:j,getValue:function(){return parseFloat(this.control.value)},setValue:function(a){this.control.value=a,this.label.innerHTML=\"<b>\"+this.title+\":</b> \"+this.control.value,j&&j(parseFloat(a))}};var o=\"input\";\"range\"===c&&d()&&(o=\"change\");var p=this;return n.addEventListener(o,function(){l.innerHTML=\"<b>\"+e+\":</b> \"+n.value,j&&j(parseFloat(n.value)),p._callGCH()}),this},bindRange:function(a,b,c,d,e,f){return this.addRange(a,b,c,d,e,function(b){f[a]=b})},bindNumber:function(a,b,c,d,e,f){return this.addNumber(a,b,c,d,e,function(b){f[a]=b})},setRangeParameters:function(a,b,c,d){return this.setNumberParameters(a,b,c,d)},setNumberParameters:function(a,b,c,d){var e=this._controls[a],f=e.control.value;return e.control.min=b,e.control.max=c,e.control.step=d,e.control.value!==f&&e.callback&&e.callback(e.control.value),this},addPassword:function(a,b,c){return this._addText(\"password\",a,b,c)},bindPassword:function(a,b,c){return this.addPassword(a,b,function(b){c[a]=b})},addProgressBar:function(b,d,e,f){var g=this._createContainer(),h=a(\"\",g),i=c(\"div\",null,\"qs_progress\",g),j=c(\"div\",null,\"qs_progress_value\",i);return j.style.width=e/d*100+\"%\",\"numbers\"===f?h.innerHTML=\"<b>\"+b+\":</b> \"+e+\" / \"+d:\"percent\"===f?h.innerHTML=\"<b>\"+b+\":</b> \"+Math.round(e/d*100)+\"%\":h.innerHTML=\"<b>\"+b+\"</b>\",this._controls[b]={container:g,control:i,valueDiv:j,valueDisplay:f,label:h,value:e,max:d,title:b,getValue:function(){return this.value},setValue:function(a){this.value=Math.max(0,Math.min(a,this.max)),this.valueDiv.style.width=this.value/this.max*100+\"%\",\"numbers\"===this.valueDisplay?this.label.innerHTML=\"<b>\"+this.title+\":</b> \"+this.value+\" / \"+this.max:\"percent\"===this.valueDisplay&&(this.label.innerHTML=\"<b>\"+this.title+\":</b> \"+Math.round(this.value/this.max*100)+\"%\")}},this},setProgressMax:function(a,b){var c=this._controls[a];return c.max=b,c.value=Math.min(c.value,c.max),c.valueDiv.style.width=c.value/c.max*100+\"%\",\"numbers\"===c.valueDisplay?c.label.innerHTML=\"<b>\"+c.title+\":</b> \"+c.value+\" / \"+c.max:\"percent\"===c.valueDisplay?c.label.innerHTML=\"<b>\"+c.title+\":</b> \"+Math.round(c.value/c.max*100)+\"%\":c.label.innerHTML=\"<b>\"+c.title+\"</b>\",this},addText:function(a,b,c){return this._addText(\"text\",a,b,c)},_addText:function(d,e,f,g){var h,i=this._createContainer(),j=a(\"<b>\"+e+\"</b>\",i);\"textarea\"===d?(h=c(\"textarea\",e,\"qs_textarea\",i),h.rows=5):h=b(d,e,\"qs_text_input\",i),h.value=f||\"\",this._controls[e]={container:i,control:h,label:j,getValue:function(){return this.control.value},setValue:function(a){this.control.value=a,g&&g(a)}};var k=this;return h.addEventListener(\"input\",function(){g&&g(h.value),k._callGCH()}),this},bindText:function(a,b,c){return this.addText(a,b,function(b){c[a]=b})},addTextArea:function(a,b,c){return this._addText(\"textarea\",a,b,c)},setTextAreaRows:function(a,b){return this._controls[a].control.rows=b,this},bindTextArea:function(a,b,c){return this.addTextArea(a,b,function(b){c[a]=b})},addTime:function(c,e,f){var g;if(e instanceof Date){var h=e.getHours();h<10&&(h=\"0\"+h);var i=e.getMinutes();i<10&&(i=\"0\"+i);var j=e.getSeconds();j<10&&(j=\"0\"+j),g=h+\":\"+i+\":\"+j}else g=e;if(d())return this.addText(c,g,f);var k=this._createContainer(),l=a(\"<b>\"+c+\"</b>\",k),m=b(\"time\",c,\"qs_text_input\",k);m.value=g||\"\",this._controls[c]={container:k,control:m,label:l,getValue:function(){return this.control.value},setValue:function(a){var b;if(a instanceof Date){var c=a.getHours();c<10&&(c=\"0\"+c);var d=a.getMinutes();d<10&&(d=\"0\"+d);var e=a.getSeconds();e<10&&(e=\"0\"+e),b=c+\":\"+d+\":\"+e}else b=a;this.control.value=b||\"\",f&&f(b)}};var n=this;return m.addEventListener(\"input\",function(){f&&f(m.value),n._callGCH()}),this},bindTime:function(a,b,c){return this.addTime(a,b,function(b){c[a]=b})}}; true?module.exports=j:undefined}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcXVpY2tzZXR0aW5ncy9xdWlja3NldHRpbmdzLm1pbi5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9xdWlja3NldHRpbmdzL3F1aWNrc2V0dGluZ3MubWluLmpzPzdkNWUiXSwic291cmNlc0NvbnRlbnQiOlsiIWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGIpe3ZhciBkPWMoXCJkaXZcIixudWxsLFwicXNfbGFiZWxcIixiKTtyZXR1cm4gZC5pbm5lckhUTUw9YSxkfWZ1bmN0aW9uIGIoYSxiLGQsZSl7dmFyIGY9YyhcImlucHV0XCIsYixkLGUpO3JldHVybiBmLnR5cGU9YSxmfWZ1bmN0aW9uIGMoYSxiLGMsZCl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChhKTtpZihlKXJldHVybiBlLmlkPWIsYyYmKGUuY2xhc3NOYW1lPWMpLGQmJmQuYXBwZW5kQ2hpbGQoZSksZX1mdW5jdGlvbiBkKCl7cmV0dXJuIG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcInJ2OjExXCIpIT0tMXx8bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiTVNJRVwiKSE9LTF9ZnVuY3Rpb24gZSgpe3ZhciBhPW5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKTtyZXR1cm4hKGEuaW5kZXhPZihcImNocm9tZVwiKT4tMXx8YS5pbmRleE9mKFwiZmlyZWZveFwiKT4tMXx8YS5pbmRleE9mKFwiZXBpcGhhbnlcIik+LTEpJiZhLmluZGV4T2YoXCJzYWZhcmkvXCIpPi0xfWZ1bmN0aW9uIGYoKXt2YXIgYT1uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCk7cmV0dXJuIGEuaW5kZXhPZihcImVkZ2VcIik+LTF9ZnVuY3Rpb24gZygpe3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTthLmlubmVyVGV4dD1pLGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoYSksaD0hMH12YXIgaD0hMSxpPVwiLnFzX21haW57YmFja2dyb3VuZC1jb2xvcjojZGRkZGRkO3RleHQtYWxpZ246bGVmdDtwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDoyMDBweDtmb250OjEycHggc2Fucy1zZXJpZjtib3gtc2hhZG93OjVweCA1cHggOHB4IHJnYmEoMCwwLDAsMC4zNSk7dXNlci1zZWxlY3Q6bm9uZTstd2Via2l0LXVzZXItc2VsZWN0Om5vbmU7Y29sb3I6IzAwMDAwMDtib3JkZXI6bm9uZX0ucXNfY29udGVudHtiYWNrZ3JvdW5kLWNvbG9yOiNjY2NjY2M7b3ZlcmZsb3cteTphdXRvfS5xc190aXRsZV9iYXJ7YmFja2dyb3VuZC1jb2xvcjojZWVlZWVlO3VzZXItc2VsZWN0Om5vbmU7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lO2N1cnNvcjpwb2ludGVyO3BhZGRpbmc6NXB4O2ZvbnQtd2VpZ2h0OmJvbGQ7Ym9yZGVyOm5vbmU7Y29sb3I6IzAwMDAwMH0ucXNfY29udGFpbmVye21hcmdpbjo1cHg7cGFkZGluZzo1cHg7YmFja2dyb3VuZC1jb2xvcjojZWVlZWVlO2JvcmRlcjpub25lO3Bvc2l0aW9uOnJlbGF0aXZlfS5xc19jb250YWluZXJfc2VsZWN0ZWR7Ym9yZGVyOm5vbmU7YmFja2dyb3VuZC1jb2xvcjojZmZmZmZmfS5xc19yYW5nZXstd2Via2l0LWFwcGVhcmFuY2U6bm9uZTstbW96LWFwcGVhcmFuY2U6bm9uZTt3aWR0aDoxMDAlO2hlaWdodDoxN3B4O3BhZGRpbmc6MDttYXJnaW46MDtiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50O2JvcmRlcjpub25lOy13ZWJraXQtYm94LXNpemluZzpib3JkZXItYm94Oy1tb3otYm94LXNpemluZzpib3JkZXItYm94O2JveC1zaXppbmc6Ym9yZGVyLWJveH0ucXNfcmFuZ2U6Zm9jdXN7b3V0bGluZTpub25lO2JvcmRlcjpub25lfS5xc19yYW5nZTo6LXdlYmtpdC1zbGlkZXItcnVubmFibGUtdHJhY2t7d2lkdGg6MTAwJTtoZWlnaHQ6MTVweDtjdXJzb3I6cG9pbnRlcjtiYWNrZ3JvdW5kOiNjY2NjY2M7LXdlYmtpdC1ib3JkZXItcmFkaXVzOjA7LW1vei1ib3JkZXItcmFkaXVzOjA7Ym9yZGVyLXJhZGl1czowfS5xc19yYW5nZTpmb2N1czo6LXdlYmtpdC1zbGlkZXItcnVubmFibGUtdHJhY2t7YmFja2dyb3VuZDojY2NjY2NjfS5xc19yYW5nZTo6LXdlYmtpdC1zbGlkZXItdGh1bWJ7LXdlYmtpdC1hcHBlYXJhbmNlOm5vbmU7aGVpZ2h0OjE1cHg7d2lkdGg6MTVweDstd2Via2l0LWJvcmRlci1yYWRpdXM6MDstbW96LWJvcmRlci1yYWRpdXM6MDtib3JkZXItcmFkaXVzOjA7YmFja2dyb3VuZDojOTk5OTk5O2N1cnNvcjpwb2ludGVyO21hcmdpbi10b3A6MH0ucXNfcmFuZ2U6Oi1tb3otcmFuZ2UtdHJhY2t7d2lkdGg6MTAwJTtoZWlnaHQ6MTVweDtjdXJzb3I6cG9pbnRlcjtiYWNrZ3JvdW5kOiNjY2NjY2M7LXdlYmtpdC1ib3JkZXItcmFkaXVzOjA7LW1vei1ib3JkZXItcmFkaXVzOjA7Ym9yZGVyLXJhZGl1czowfS5xc19yYW5nZTo6LW1vei1yYW5nZS10aHVtYntoZWlnaHQ6MTVweDt3aWR0aDoxNXB4O2JvcmRlcjpub25lOy13ZWJraXQtYm9yZGVyLXJhZGl1czowOy1tb3otYm9yZGVyLXJhZGl1czowO2JvcmRlci1yYWRpdXM6MDtiYWNrZ3JvdW5kOiM5OTk5OTk7Y3Vyc29yOnBvaW50ZXJ9LnFzX3JhbmdlOjotbXMtdHJhY2t7d2lkdGg6MTAwJTtoZWlnaHQ6MTVweDtjdXJzb3I6cG9pbnRlcjt2aXNpYmlsaXR5OmhpZGRlbjtiYWNrZ3JvdW5kOnRyYW5zcGFyZW50fS5xc19yYW5nZTo6LW1zLXRodW1ie2hlaWdodDoxNXB4O3dpZHRoOjE1cHg7LXdlYmtpdC1ib3JkZXItcmFkaXVzOjA7LW1vei1ib3JkZXItcmFkaXVzOjA7Ym9yZGVyLXJhZGl1czowO2JhY2tncm91bmQ6Izk5OTk5OTtjdXJzb3I6cG9pbnRlcjtib3JkZXI6bm9uZX0ucXNfcmFuZ2U6Oi1tcy1maWxsLWxvd2Vye2JhY2tncm91bmQ6I2NjY2NjYzstd2Via2l0LWJvcmRlci1yYWRpdXM6MDstbW96LWJvcmRlci1yYWRpdXM6MDtib3JkZXItcmFkaXVzOjB9LnFzX3JhbmdlOmZvY3VzOjotbXMtZmlsbC1sb3dlcntiYWNrZ3JvdW5kOiNjY2NjY2N9LnFzX3JhbmdlOjotbXMtZmlsbC11cHBlcntiYWNrZ3JvdW5kOiNjY2NjY2M7LXdlYmtpdC1ib3JkZXItcmFkaXVzOjA7LW1vei1ib3JkZXItcmFkaXVzOjA7Ym9yZGVyLXJhZGl1czowfS5xc19yYW5nZTpmb2N1czo6LW1zLWZpbGwtdXBwZXJ7YmFja2dyb3VuZDojY2NjY2NjfS5xc19idXR0b257YmFja2dyb3VuZC1jb2xvcjojZjZmNmY2O2NvbG9yOiMwMDAwMDA7aGVpZ2h0OjMwcHg7Ym9yZGVyOjFweCBzb2xpZCAjYWFhYWFhO2ZvbnQ6MTJweCBzYW5zLXNlcmlmfS5xc19idXR0b246YWN0aXZle2JhY2tncm91bmQtY29sb3I6I2ZmZmZmZjtib3JkZXI6MXB4IHNvbGlkICNhYWFhYWF9LnFzX2J1dHRvbjpmb2N1c3tib3JkZXI6MXB4IHNvbGlkICNhYWFhYWE7b3V0bGluZTpub25lfS5xc19jaGVja2JveHtjdXJzb3I6cG9pbnRlcn0ucXNfY2hlY2tib3ggaW5wdXR7cG9zaXRpb246YWJzb2x1dGU7bGVmdDotOTk5OTlweH0ucXNfY2hlY2tib3ggc3BhbntoZWlnaHQ6MTZweDt3aWR0aDoxMDAlO2Rpc3BsYXk6YmxvY2s7dGV4dC1pbmRlbnQ6MjBweDtiYWNrZ3JvdW5kOnVybCgnZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFCQUFBQUFRQ0FZQUFBQWY4LzloQUFBQUxrbEVRVlE0VDJPY09YUG1md1lLQUNQSWdMUzBOTEtNbURWckZzT29BYU5oTUpvT0dCaW9Gd1prWlVXb0pnQXBkRmF4alVNMVl3QUFBQUJKUlU1RXJrSmdnZz09Jykgbm8tcmVwZWF0fS5xc19jaGVja2JveCBpbnB1dDpjaGVja2VkK3NwYW57YmFja2dyb3VuZDp1cmwoJ2RhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQkFBQUFBUUNBWUFBQUFmOC85aEFBQUF2RWxFUVZRNFQ2M1R5dzJFSUJBQTBPRktCeEJMNDB3RFJvdkFVQUNjS2MxSUIxelpEQWtHMThHWVpUbVNtYWZ6Z1Rubk1nd2Nob0RXR2xKS2hlR2NQM0p0blBjZUNxQ1VBbXR0U1p6bnVZdGdjaHNYUXJnQys3N0RORTBrVXBQYm1CT29KYUJPSVZReWxucVdnQUFlS2hEdmUvQU4rRWFrbEpCemhoZ2pXUm9KVkdUYk5qaU9vd0FJcmV0NmErNGpZSXdwWDhhRHdMSXM3NEMyRDBJSVlJeVZQNkdtODk4bTlrYlZtODVsakhVVGYxNms0VlVlZmt3RHJ4ayt6b1VFd0N0MEdiVUFBQUFBU1VWT1JLNUNZSUk9Jykgbm8tcmVwZWF0fS5xc19jaGVja2JveF9sYWJlbHtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6N3B4O2xlZnQ6MzBweH0ucXNfbGFiZWx7bWFyZ2luLWJvdHRvbTozcHg7dXNlci1zZWxlY3Q6bm9uZTstd2Via2l0LXVzZXItc2VsZWN0Om5vbmU7Y3Vyc29yOmRlZmF1bHQ7Zm9udDoxMnB4IHNhbnMtc2VyaWZ9LnFzX3RleHRfaW5wdXR7LXdlYmtpdC1ib3gtc2l6aW5nOmJvcmRlci1ib3g7LW1vei1ib3gtc2l6aW5nOmJvcmRlci1ib3g7Ym94LXNpemluZzpib3JkZXItYm94O3dpZHRoOjEwMCU7cGFkZGluZzowIDAgMCA1cHg7aGVpZ2h0OjI0cHg7Ym9yZGVyOjFweCBpbnNldCAjZmZmZmZmO2JhY2tncm91bmQtY29sb3I6I2ZmZmZmZjtjb2xvcjojMDAwMDAwO2ZvbnQtc2l6ZToxMnB4fS5xc190ZXh0X2lucHV0OmZvY3Vze291dGxpbmU6bm9uZTtiYWNrZ3JvdW5kOiNmZmZmZmY7Ym9yZGVyOjFweCBpbnNldCAjZmZmZmZmfS5xc19zZWxlY3R7YmFja2dyb3VuZDp1cmwoJ2RhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQmdBQUFBWUNBWUFBQURnZHozNEFBQUFwMGxFUVZSSVMrMlNzUTNGSUF3RjdSVlloQTVtZ1FGaEZ1aFloSktXTDBlS3hJOFNHeWxLWjBwNCtPQnNIR05NK0hDaEFpUzdxa2d5Qktyb3ZhTGVPeGhqYmd0eForY0Z0Z2VsRk1nNVF3Z0J2UGQvRU81c0RiS0FsQkxVV28vOENqbUwwNzV6RG1LTWo2ckVLYnBDcUJMOWFxYzRaVVFBaFZiSW5CTVFVWHo1VmcvV2Z4T2t0WFpzV1d0Wkxkczl1SXFscWFIMU5GVjNqZGhTSkE0N0UxQ0FhRThWaVlwK3dHaVdNWi9UK2NnQUFBQUFTVVZPUks1Q1lJST0nKSBuby1yZXBlYXQgcmlnaHQgI2Y2ZjZmNjstd2Via2l0LWFwcGVhcmFuY2U6bm9uZTstbW96LWFwcGVhcmFuY2U6bm9uZTthcHBlYXJhbmNlOm5vbmU7Y29sb3I6IzAwMDAwMDt3aWR0aDoxMDAlO2hlaWdodDoyNHB4O2JvcmRlcjoxcHggc29saWQgI2FhYWFhYTstd2Via2l0LWJvcmRlci1yYWRpdXM6MDstbW96LWJvcmRlci1yYWRpdXM6MDtib3JkZXItcmFkaXVzOjA7cGFkZGluZzowIDVweDstbW96LW91dGxpbmU6bm9uZTtmb250LXNpemU6MTRweH0ucXNfc2VsZWN0IG9wdGlvbntmb250LXNpemU6MTRweH0ucXNfc2VsZWN0OjotbXMtZXhwYW5ke2Rpc3BsYXk6bm9uZX0ucXNfc2VsZWN0OmZvY3Vze291dGxpbmU6bm9uZX0ucXNfbnVtYmVye2hlaWdodDoyNHB4fS5xc19pbWFnZXt3aWR0aDoxMDAlfS5xc19wcm9ncmVzc3t3aWR0aDoxMDAlO2hlaWdodDoxNXB4O2JhY2tncm91bmQtY29sb3I6I2NjY2NjYztib3JkZXI6bm9uZTstd2Via2l0LWJveC1zaXppbmc6Ym9yZGVyLWJveDstbW96LWJveC1zaXppbmc6Ym9yZGVyLWJveDtib3gtc2l6aW5nOmJvcmRlci1ib3h9LnFzX3Byb2dyZXNzX3ZhbHVle2hlaWdodDoxMDAlO2JhY2tncm91bmQtY29sb3I6Izk5OTk5OX0ucXNfdGV4dGFyZWF7LXdlYmtpdC1ib3gtc2l6aW5nOmJvcmRlci1ib3g7LW1vei1ib3gtc2l6aW5nOmJvcmRlci1ib3g7Ym94LXNpemluZzpib3JkZXItYm94O3Jlc2l6ZTp2ZXJ0aWNhbDt3aWR0aDoxMDAlO3BhZGRpbmc6M3B4IDVweDtib3JkZXI6MXB4IGluc2V0ICNmZmZmZmY7YmFja2dyb3VuZC1jb2xvcjojZmZmZmZmO2NvbG9yOiMwMDAwMDA7Zm9udC1zaXplOjEycHh9LnFzX3RleHRhcmVhOmZvY3Vze291dGxpbmU6bm9uZTtiYWNrZ3JvdW5kOiNmZmZmZmY7Ym9yZGVyOjFweCBpbnNldCAjZmZmZmZmfS5xc19jb2xvcntwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0Oi05OTk5OTlweH0ucXNfY29sb3JfbGFiZWx7d2lkdGg6MTAwJTtoZWlnaHQ6MjBweDtkaXNwbGF5OmJsb2NrO2JvcmRlcjoxcHggc29saWQgI2FhYWFhYTtjdXJzb3I6cG9pbnRlcjtwYWRkaW5nOjAgMCAwIDVweDstd2Via2l0LWJveC1zaXppbmc6Ym9yZGVyLWJveDstbW96LWJveC1zaXppbmc6Ym9yZGVyLWJveDtib3gtc2l6aW5nOmJvcmRlci1ib3h9LnFzX2ZpbGVfY2hvb3Nlcntwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0Oi05OTk5OTlweH0ucXNfZmlsZV9jaG9vc2VyX2xhYmVse2JhY2tncm91bmQtY29sb3I6I2Y2ZjZmNjtjb2xvcjojMDAwMDAwO2hlaWdodDozMHB4O2JvcmRlcjoxcHggc29saWQgI2FhYWFhYTtmb250OjEycHggc2Fucy1zZXJpZjt3aWR0aDoxMDAlO2Rpc3BsYXk6YmxvY2s7Y3Vyc29yOnBvaW50ZXI7cGFkZGluZzo3cHg7LXdlYmtpdC1ib3gtc2l6aW5nOmJvcmRlci1ib3g7LW1vei1ib3gtc2l6aW5nOmJvcmRlci1ib3g7Ym94LXNpemluZzpib3JkZXItYm94O3doaXRlLXNwYWNlOm5vd3JhcDtvdmVyZmxvdzpoaWRkZW47dGV4dC1vdmVyZmxvdzplbGxpcHNpc31cIixqPXtfdmVyc2lvbjpcIjIuMVwiLF90b3BaOjEsX3BhbmVsOm51bGwsX3RpdGxlQmFyOm51bGwsX2NvbnRlbnQ6bnVsbCxfc3RhcnRYOjAsX3N0YXJ0WTowLF9oaWRkZW46ITEsX2NvbGxhcHNlZDohMSxfY29udHJvbHM6bnVsbCxfa2V5Q29kZTotMSxfZHJhZ2dhYmxlOiEwLF9jb2xsYXBzaWJsZTohMCxfZ2xvYmFsQ2hhbmdlSGFuZGxlcjpudWxsLHVzZUV4dFN0eWxlU2hlZXQ6ZnVuY3Rpb24oKXtoPSEwfSxjcmVhdGU6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9T2JqZWN0LmNyZWF0ZSh0aGlzKTtyZXR1cm4gZS5faW5pdChhLGIsYyxkKSxlfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5fcGFuZWwucGFyZW50RWxlbWVudCYmdGhpcy5fcGFuZWwucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZCh0aGlzLl9wYW5lbCk7Zm9yKHZhciBhIGluIHRoaXMpdGhpc1thXT1udWxsfSxfaW5pdDpmdW5jdGlvbihhLGIsYyxkKXtofHxnKCksdGhpcy5fYmluZEhhbmRsZXJzKCksdGhpcy5fY3JlYXRlUGFuZWwoYSxiLGQpLHRoaXMuX2NyZWF0ZVRpdGxlQmFyKGN8fFwiUXVpY2tTZXR0aW5nc1wiKSx0aGlzLl9jcmVhdGVDb250ZW50KCl9LF9iaW5kSGFuZGxlcnM6ZnVuY3Rpb24oKXt0aGlzLl9zdGFydERyYWc9dGhpcy5fc3RhcnREcmFnLmJpbmQodGhpcyksdGhpcy5fZHJhZz10aGlzLl9kcmFnLmJpbmQodGhpcyksdGhpcy5fZW5kRHJhZz10aGlzLl9lbmREcmFnLmJpbmQodGhpcyksdGhpcy5fZG91YmxlQ2xpY2tUaXRsZT10aGlzLl9kb3VibGVDbGlja1RpdGxlLmJpbmQodGhpcyksdGhpcy5fb25LZXlVcD10aGlzLl9vbktleVVwLmJpbmQodGhpcyl9LGdldFZhbHVlc0FzSlNPTjpmdW5jdGlvbihhKXt2YXIgYj17fTtmb3IodmFyIGMgaW4gdGhpcy5fY29udHJvbHMpdGhpcy5fY29udHJvbHNbY10uZ2V0VmFsdWUmJihiW2NdPXRoaXMuX2NvbnRyb2xzW2NdLmdldFZhbHVlKCkpO3JldHVybiBhJiYoYj1KU09OLnN0cmluZ2lmeShiKSksYn0sc2V0VmFsdWVzRnJvbUpTT046ZnVuY3Rpb24oYSl7XCJzdHJpbmdcIj09dHlwZW9mIGEmJihhPUpTT04ucGFyc2UoYSkpO2Zvcih2YXIgYiBpbiBhKXRoaXMuX2NvbnRyb2xzW2JdLnNldFZhbHVlJiZ0aGlzLl9jb250cm9sc1tiXS5zZXRWYWx1ZShhW2JdKTtyZXR1cm4gdGhpc30sc2F2ZUluTG9jYWxTdG9yYWdlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLl9sb2NhbFN0b3JhZ2VOYW1lPWEsdGhpcy5fcmVhZEZyb21Mb2NhbFN0b3JhZ2UoYSksdGhpc30sY2xlYXJMb2NhbFN0b3JhZ2U6ZnVuY3Rpb24oYSl7cmV0dXJuIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGEpLHRoaXN9LF9zYXZlSW5Mb2NhbFN0b3JhZ2U6ZnVuY3Rpb24oYSl7bG9jYWxTdG9yYWdlLnNldEl0ZW0oYSx0aGlzLmdldFZhbHVlc0FzSlNPTighMCkpfSxfcmVhZEZyb21Mb2NhbFN0b3JhZ2U6ZnVuY3Rpb24oYSl7dmFyIGI9bG9jYWxTdG9yYWdlLmdldEl0ZW0oYSk7YiYmdGhpcy5zZXRWYWx1ZXNGcm9tSlNPTihiKX0sX2NyZWF0ZVBhbmVsOmZ1bmN0aW9uKGEsYixkKXt0aGlzLl9wYW5lbD1jKFwiZGl2XCIsbnVsbCxcInFzX21haW5cIixkfHxkb2N1bWVudC5ib2R5KSx0aGlzLl9wYW5lbC5zdHlsZS56SW5kZXg9KytqLl90b3BaLHRoaXMuc2V0UG9zaXRpb24oYXx8MCxifHwwKSx0aGlzLl9jb250cm9scz17fX0sX2NyZWF0ZVRpdGxlQmFyOmZ1bmN0aW9uKGEpe3RoaXMuX3RpdGxlQmFyPWMoXCJkaXZcIixudWxsLFwicXNfdGl0bGVfYmFyXCIsdGhpcy5fcGFuZWwpLHRoaXMuX3RpdGxlQmFyLnRleHRDb250ZW50PWEsdGhpcy5fdGl0bGVCYXIuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLHRoaXMuX3N0YXJ0RHJhZyksdGhpcy5fdGl0bGVCYXIuYWRkRXZlbnRMaXN0ZW5lcihcImRibGNsaWNrXCIsdGhpcy5fZG91YmxlQ2xpY2tUaXRsZSl9LF9jcmVhdGVDb250ZW50OmZ1bmN0aW9uKCl7dGhpcy5fY29udGVudD1jKFwiZGl2XCIsbnVsbCxcInFzX2NvbnRlbnRcIix0aGlzLl9wYW5lbCl9LF9jcmVhdGVDb250YWluZXI6ZnVuY3Rpb24oKXt2YXIgYT1jKFwiZGl2XCIsbnVsbCxcInFzX2NvbnRhaW5lclwiKTtyZXR1cm4gYS5hZGRFdmVudExpc3RlbmVyKFwiZm9jdXNcIixmdW5jdGlvbigpe3RoaXMuY2xhc3NOYW1lKz1cIiBxc19jb250YWluZXJfc2VsZWN0ZWRcIn0sITApLGEuYWRkRXZlbnRMaXN0ZW5lcihcImJsdXJcIixmdW5jdGlvbigpe3ZhciBhPXRoaXMuY2xhc3NOYW1lLmluZGV4T2YoXCIgcXNfY29udGFpbmVyX3NlbGVjdGVkXCIpO2E+LTEmJih0aGlzLmNsYXNzTmFtZT10aGlzLmNsYXNzTmFtZS5zdWJzdHIoMCxhKSl9LCEwKSx0aGlzLl9jb250ZW50LmFwcGVuZENoaWxkKGEpLGF9LHNldFBvc2l0aW9uOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuX3BhbmVsLnN0eWxlLmxlZnQ9YStcInB4XCIsdGhpcy5fcGFuZWwuc3R5bGUudG9wPU1hdGgubWF4KGIsMCkrXCJweFwiLHRoaXN9LHNldFNpemU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5fcGFuZWwuc3R5bGUud2lkdGg9YStcInB4XCIsdGhpcy5fY29udGVudC5zdHlsZS53aWR0aD1hK1wicHhcIix0aGlzLl9jb250ZW50LnN0eWxlLmhlaWdodD1iLXRoaXMuX3RpdGxlQmFyLm9mZnNldEhlaWdodCtcInB4XCIsdGhpc30sc2V0V2lkdGg6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuX3BhbmVsLnN0eWxlLndpZHRoPWErXCJweFwiLHRoaXMuX2NvbnRlbnQuc3R5bGUud2lkdGg9YStcInB4XCIsdGhpc30sc2V0SGVpZ2h0OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLl9jb250ZW50LnN0eWxlLmhlaWdodD1hLXRoaXMuX3RpdGxlQmFyLm9mZnNldEhlaWdodCtcInB4XCIsdGhpc30sc2V0RHJhZ2dhYmxlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLl9kcmFnZ2FibGU9YSx0aGlzLl9kcmFnZ2FibGV8fHRoaXMuX2NvbGxhcHNpYmxlP3RoaXMuX3RpdGxlQmFyLnN0eWxlLmN1cnNvcj1cInBvaW50ZXJcIjp0aGlzLl90aXRsZUJhci5zdHlsZS5jdXJzb3I9XCJkZWZhdWx0XCIsdGhpc30sX3N0YXJ0RHJhZzpmdW5jdGlvbihhKXt0aGlzLl9kcmFnZ2FibGUmJih0aGlzLl9wYW5lbC5zdHlsZS56SW5kZXg9KytqLl90b3BaLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIix0aGlzLl9kcmFnKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLHRoaXMuX2VuZERyYWcpLHRoaXMuX3N0YXJ0WD1hLmNsaWVudFgsdGhpcy5fc3RhcnRZPWEuY2xpZW50WSksYS5wcmV2ZW50RGVmYXVsdCgpfSxfZHJhZzpmdW5jdGlvbihhKXt2YXIgYj1wYXJzZUludCh0aGlzLl9wYW5lbC5zdHlsZS5sZWZ0KSxjPXBhcnNlSW50KHRoaXMuX3BhbmVsLnN0eWxlLnRvcCksZD1hLmNsaWVudFgsZT1hLmNsaWVudFk7dGhpcy5zZXRQb3NpdGlvbihiK2QtdGhpcy5fc3RhcnRYLGMrZS10aGlzLl9zdGFydFkpLHRoaXMuX3N0YXJ0WD1kLHRoaXMuX3N0YXJ0WT1lLGEucHJldmVudERlZmF1bHQoKX0sX2VuZERyYWc6ZnVuY3Rpb24oYSl7ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLHRoaXMuX2RyYWcpLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsdGhpcy5fZW5kRHJhZyksYS5wcmV2ZW50RGVmYXVsdCgpfSxzZXRHbG9iYWxDaGFuZ2VIYW5kbGVyOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLl9nbG9iYWxDaGFuZ2VIYW5kbGVyPWEsdGhpc30sX2NhbGxHQ0g6ZnVuY3Rpb24oKXt0aGlzLl9sb2NhbFN0b3JhZ2VOYW1lJiZ0aGlzLl9zYXZlSW5Mb2NhbFN0b3JhZ2UodGhpcy5fbG9jYWxTdG9yYWdlTmFtZSksdGhpcy5fZ2xvYmFsQ2hhbmdlSGFuZGxlciYmdGhpcy5fZ2xvYmFsQ2hhbmdlSGFuZGxlcigpfSxoaWRlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BhbmVsLnN0eWxlLnZpc2liaWxpdHk9XCJoaWRkZW5cIix0aGlzLl9oaWRkZW49ITAsdGhpc30sc2hvdzpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wYW5lbC5zdHlsZS52aXNpYmlsaXR5PVwidmlzaWJsZVwiLHRoaXMuX3BhbmVsLnN0eWxlLnpJbmRleD0rK2ouX3RvcFosdGhpcy5faGlkZGVuPSExLHRoaXN9LHRvZ2dsZVZpc2liaWxpdHk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faGlkZGVuP3RoaXMuc2hvdygpOnRoaXMuaGlkZSgpLHRoaXN9LHNldENvbGxhcHNpYmxlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLl9jb2xsYXBzaWJsZT1hLHRoaXMuX2RyYWdnYWJsZXx8dGhpcy5fY29sbGFwc2libGU/dGhpcy5fdGl0bGVCYXIuc3R5bGUuY3Vyc29yPVwicG9pbnRlclwiOnRoaXMuX3RpdGxlQmFyLnN0eWxlLmN1cnNvcj1cImRlZmF1bHRcIix0aGlzfSxjb2xsYXBzZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wYW5lbC5yZW1vdmVDaGlsZCh0aGlzLl9jb250ZW50KSx0aGlzLl9jb2xsYXBzZWQ9ITAsdGhpc30sZXhwYW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BhbmVsLmFwcGVuZENoaWxkKHRoaXMuX2NvbnRlbnQpLHRoaXMuX2NvbGxhcHNlZD0hMSx0aGlzfSx0b2dnbGVDb2xsYXBzZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29sbGFwc2VkP3RoaXMuZXhwYW5kKCk6dGhpcy5jb2xsYXBzZSgpLHRoaXN9LHNldEtleTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5fa2V5Q29kZT1hLnRvVXBwZXJDYXNlKCkuY2hhckNvZGVBdCgwKSxkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLHRoaXMub25LZXlVcCksdGhpc30sX29uS2V5VXA6ZnVuY3Rpb24oYSl7YS5rZXlDb2RlPT09dGhpcy5fa2V5Q29kZSYmdGhpcy50b2dnbGVWaXNpYmlsaXR5KCl9LF9kb3VibGVDbGlja1RpdGxlOmZ1bmN0aW9uKCl7dGhpcy5fY29sbGFwc2libGUmJnRoaXMudG9nZ2xlQ29sbGFwc2VkKCl9LHJlbW92ZUNvbnRyb2w6ZnVuY3Rpb24oYSl7aWYodGhpcy5fY29udHJvbHNbYV0pdmFyIGI9dGhpcy5fY29udHJvbHNbYV0uY29udGFpbmVyO3JldHVybiBiJiZiLnBhcmVudEVsZW1lbnQmJmIucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZChiKSx0aGlzLl9jb250cm9sc1thXT1udWxsLHRoaXN9LGVuYWJsZUNvbnRyb2w6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuX2NvbnRyb2xzW2FdJiYodGhpcy5fY29udHJvbHNbYV0uY29udHJvbC5kaXNhYmxlZD0hMSksdGhpc30sZGlzYWJsZUNvbnRyb2w6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuX2NvbnRyb2xzW2FdJiYodGhpcy5fY29udHJvbHNbYV0uY29udHJvbC5kaXNhYmxlZD0hMCksdGhpc30saGlkZUNvbnRyb2w6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuX2NvbnRyb2xzW2FdJiYodGhpcy5fY29udHJvbHNbYV0uY29udGFpbmVyLnN0eWxlLmRpc3BsYXk9XCJub25lXCIpLHRoaXN9LHNob3dDb250cm9sOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLl9jb250cm9sc1thXSYmKHRoaXMuX2NvbnRyb2xzW2FdLmNvbnRhaW5lci5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIiksdGhpc30sb3ZlcnJpZGVTdHlsZTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIHRoaXMuX2NvbnRyb2xzW2FdJiYodGhpcy5fY29udHJvbHNbYV0uY29udHJvbC5zdHlsZVtiXT1jKSx0aGlzfSxoaWRlVGl0bGU6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5fY29udHJvbHNbYV0ubGFiZWw7cmV0dXJuIGImJihiLnN0eWxlLmRpc3BsYXk9XCJub25lXCIpLHRoaXN9LHNob3dUaXRsZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLl9jb250cm9sc1thXS5sYWJlbDtyZXR1cm4gYiYmKGIuc3R5bGUuZGlzcGxheT1cImJsb2NrXCIpLHRoaXN9LGhpZGVBbGxUaXRsZXM6ZnVuY3Rpb24oKXtmb3IodmFyIGEgaW4gdGhpcy5fY29udHJvbHMpe3ZhciBiPXRoaXMuX2NvbnRyb2xzW2FdLmxhYmVsO2ImJihiLnN0eWxlLmRpc3BsYXk9XCJub25lXCIpfXJldHVybiB0aGlzfSxzaG93QWxsVGl0bGVzOmZ1bmN0aW9uKCl7Zm9yKHZhciBhIGluIHRoaXMuX2NvbnRyb2xzKXt2YXIgYj10aGlzLl9jb250cm9sc1thXS5sYWJlbDtiJiYoYi5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIil9cmV0dXJuIHRoaXN9LGdldFZhbHVlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLl9jb250cm9sc1thXS5nZXRWYWx1ZSgpfSxzZXRWYWx1ZTpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLl9jb250cm9sc1thXS5zZXRWYWx1ZShiKSx0aGlzLl9jYWxsR0NIKCksdGhpc30sYWRkQm9vbGVhbjpmdW5jdGlvbihhLGQsZSl7dmFyIGY9dGhpcy5fY3JlYXRlQ29udGFpbmVyKCksZz1jKFwibGFiZWxcIixudWxsLFwicXNfY2hlY2tib3hfbGFiZWxcIixmKTtnLnRleHRDb250ZW50PWEsZy5zZXRBdHRyaWJ1dGUoXCJmb3JcIixhKTt2YXIgaD1jKFwibGFiZWxcIixudWxsLFwicXNfY2hlY2tib3hcIixmKTtoLnNldEF0dHJpYnV0ZShcImZvclwiLGEpO3ZhciBpPWIoXCJjaGVja2JveFwiLGEsbnVsbCxoKTtpLmNoZWNrZWQ9ZDtjKFwic3BhblwiLG51bGwsbnVsbCxoKTt0aGlzLl9jb250cm9sc1thXT17Y29udGFpbmVyOmYsY29udHJvbDppLGdldFZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udHJvbC5jaGVja2VkfSxzZXRWYWx1ZTpmdW5jdGlvbihhKXt0aGlzLmNvbnRyb2wuY2hlY2tlZD1hLGUmJmUoYSl9fTt2YXIgaj10aGlzO3JldHVybiBpLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIixmdW5jdGlvbigpe2UmJmUoaS5jaGVja2VkKSxqLl9jYWxsR0NIKCl9KSx0aGlzfSxiaW5kQm9vbGVhbjpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIHRoaXMuYWRkQm9vbGVhbihhLGIsZnVuY3Rpb24oYil7Y1thXT1ifSl9LGFkZEJ1dHRvbjpmdW5jdGlvbihhLGMpe3ZhciBkPXRoaXMuX2NyZWF0ZUNvbnRhaW5lcigpLGU9YihcImJ1dHRvblwiLGEsXCJxc19idXR0b25cIixkKTtlLnZhbHVlPWEsdGhpcy5fY29udHJvbHNbYV09e2NvbnRhaW5lcjpkLGNvbnRyb2w6ZX07dmFyIGY9dGhpcztyZXR1cm4gZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixmdW5jdGlvbigpe2MmJmMoZSksZi5fY2FsbEdDSCgpfSksdGhpc30sYWRkQ29sb3I6ZnVuY3Rpb24oZyxoLGkpe2lmKGUoKXx8ZigpfHxkKCkpcmV0dXJuIHRoaXMuYWRkVGV4dChnLGgsaSk7dmFyIGo9dGhpcy5fY3JlYXRlQ29udGFpbmVyKCksaz1hKFwiPGI+XCIrZytcIjo8L2I+IFwiK2gsaiksbD1iKFwiY29sb3JcIixnLFwicXNfY29sb3JcIixqKTtsLnZhbHVlPWh8fFwiI2ZmMDAwMFwiO3ZhciBtPWMoXCJsYWJlbFwiLG51bGwsXCJxc19jb2xvcl9sYWJlbFwiLGopO20uc2V0QXR0cmlidXRlKFwiZm9yXCIsZyksbS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9bC52YWx1ZSx0aGlzLl9jb250cm9sc1tnXT17Y29udGFpbmVyOmosY29udHJvbDpsLGNvbG9yTGFiZWw6bSxsYWJlbDprLHRpdGxlOmcsZ2V0VmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250cm9sLnZhbHVlfSxzZXRWYWx1ZTpmdW5jdGlvbihhKXt0aGlzLmNvbnRyb2wudmFsdWU9YSx0aGlzLmNvbG9yTGFiZWwuc3R5bGUuYmFja2dyb3VuZENvbG9yPWwudmFsdWUsdGhpcy5sYWJlbC5pbm5lckhUTUw9XCI8Yj5cIit0aGlzLnRpdGxlK1wiOjwvYj4gXCIrdGhpcy5jb250cm9sLnZhbHVlLGkmJmkoYSl9fTt2YXIgbj10aGlzO3JldHVybiBsLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLGZ1bmN0aW9uKCl7ay5pbm5lckhUTUw9XCI8Yj5cIitnK1wiOjwvYj4gXCIrbC52YWx1ZSxtLnN0eWxlLmJhY2tncm91bmRDb2xvcj1sLnZhbHVlLGkmJmkobC52YWx1ZSksbi5fY2FsbEdDSCgpfSksdGhpc30sYmluZENvbG9yOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gdGhpcy5hZGRDb2xvcihhLGIsZnVuY3Rpb24oYil7Y1thXT1ifSl9LGFkZERhdGU6ZnVuY3Rpb24oYyxlLGYpe3ZhciBnO2lmKGUgaW5zdGFuY2VvZiBEYXRlKXt2YXIgaD1lLmdldEZ1bGxZZWFyKCksaT1lLmdldE1vbnRoKCkrMTtpPDEwJiYoaT1cIjBcIitpKTt2YXIgaj1lLmdldERhdGUoKTtnPWgrXCItXCIraStcIi1cIitqfWVsc2UgZz1lO2lmKGQoKSlyZXR1cm4gdGhpcy5hZGRUZXh0KGMsZyxmKTt2YXIgaz10aGlzLl9jcmVhdGVDb250YWluZXIoKSxsPWEoXCI8Yj5cIitjK1wiPC9iPlwiLGspLG09YihcImRhdGVcIixjLFwicXNfdGV4dF9pbnB1dFwiLGspO20udmFsdWU9Z3x8XCJcIix0aGlzLl9jb250cm9sc1tjXT17Y29udGFpbmVyOmssY29udHJvbDptLGxhYmVsOmwsZ2V0VmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250cm9sLnZhbHVlfSxzZXRWYWx1ZTpmdW5jdGlvbihhKXt2YXIgYjtpZihhIGluc3RhbmNlb2YgRGF0ZSl7dmFyIGM9YS5nZXRGdWxsWWVhcigpLGQ9YS5nZXRNb250aCgpKzE7ZDwxMCYmKGQ9XCIwXCIrZCk7dmFyIGU9YS5nZXREYXRlKCk7ZTwxMCYmKGU9XCIwXCIrZSksYj1jK1wiLVwiK2QrXCItXCIrZX1lbHNlIGI9YTt0aGlzLmNvbnRyb2wudmFsdWU9Ynx8XCJcIixmJiZmKGIpfX07dmFyIG49dGhpcztyZXR1cm4gbS5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIixmdW5jdGlvbigpe2YmJmYobS52YWx1ZSksbi5fY2FsbEdDSCgpfSksdGhpc30sYmluZERhdGU6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB0aGlzLmFkZERhdGUoYSxiLGZ1bmN0aW9uKGIpe2NbYV09Yn0pfSxhZGREcm9wRG93bjpmdW5jdGlvbihiLGQsZSl7Zm9yKHZhciBmPXRoaXMuX2NyZWF0ZUNvbnRhaW5lcigpLGc9YShcIjxiPlwiK2IrXCI8L2I+XCIsZiksaD1jKFwic2VsZWN0XCIsbnVsbCxcInFzX3NlbGVjdFwiLGYpLGk9MDtpPGQubGVuZ3RoO2krKyl7dmFyIGo9YyhcIm9wdGlvblwiKTtqLmxhYmVsPWRbaV0sai5pbm5lclRleHQ9ZFtpXSxoLmFkZChqKX12YXIgaz10aGlzO3JldHVybiBoLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIixmdW5jdGlvbigpe3ZhciBhPWguc2VsZWN0ZWRJbmRleCxiPWgub3B0aW9ucztlJiZlKHtpbmRleDphLHZhbHVlOmJbYV0ubGFiZWx9KSxrLl9jYWxsR0NIKCl9KSx0aGlzLl9jb250cm9sc1tiXT17Y29udGFpbmVyOmYsY29udHJvbDpoLGxhYmVsOmcsZ2V0VmFsdWU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmNvbnRyb2wuc2VsZWN0ZWRJbmRleDtyZXR1cm57aW5kZXg6YSx2YWx1ZTp0aGlzLmNvbnRyb2wub3B0aW9uc1thXS5sYWJlbH19LHNldFZhbHVlOmZ1bmN0aW9uKGEpe3ZhciBiO2I9bnVsbCE9YS5pbmRleD9hLmluZGV4OmE7dmFyIGM9dGhpcy5jb250cm9sLm9wdGlvbnM7dGhpcy5jb250cm9sLnNlbGVjdGVkSW5kZXg9YixlJiZlKHtpbmRleDpiLHZhbHVlOmNbYl0ubGFiZWx9KX19LHRoaXN9LGJpbmREcm9wRG93bjpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIHRoaXMuYWRkRHJvcERvd24oYSxiLGZ1bmN0aW9uKGIpe2NbYV09Yi52YWx1ZX0pfSxhZGRFbGVtZW50OmZ1bmN0aW9uKGIsYyl7dmFyIGQ9dGhpcy5fY3JlYXRlQ29udGFpbmVyKCksZT1hKFwiPGI+XCIrYitcIjwvYj5cIixkKTtyZXR1cm4gZC5hcHBlbmRDaGlsZChjKSx0aGlzLl9jb250cm9sc1tiXT17Y29udGFpbmVyOmQsbGFiZWw6ZX0sdGhpc30sYWRkRmlsZUNob29zZXI6ZnVuY3Rpb24oZCxlLGYsZyl7dmFyIGg9dGhpcy5fY3JlYXRlQ29udGFpbmVyKCksaT1hKFwiPGI+XCIrZCtcIjwvYj5cIixoKSxqPWIoXCJmaWxlXCIsZCxcInFzX2ZpbGVfY2hvb3NlclwiLGgpO2YmJihqLmFjY2VwdD1mKTt2YXIgaz1jKFwibGFiZWxcIixudWxsLFwicXNfZmlsZV9jaG9vc2VyX2xhYmVsXCIsaCk7ay5zZXRBdHRyaWJ1dGUoXCJmb3JcIixkKSxrLnRleHRDb250ZW50PWV8fFwiQ2hvb3NlIGEgZmlsZS4uLlwiLHRoaXMuX2NvbnRyb2xzW2RdPXtjb250YWluZXI6aCxjb250cm9sOmosbGFiZWw6aSxnZXRWYWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRyb2wuZmlsZXNbMF19fTt2YXIgbD10aGlzO3JldHVybiBqLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIixmdW5jdGlvbigpe2ouZmlsZXMmJmouZmlsZXMubGVuZ3RoJiYoay50ZXh0Q29udGVudD1qLmZpbGVzWzBdLm5hbWUsZyYmZyhqLmZpbGVzWzBdKSxsLl9jYWxsR0NIKCkpfSksdGhpc30sYWRkSFRNTDpmdW5jdGlvbihiLGQpe3ZhciBlPXRoaXMuX2NyZWF0ZUNvbnRhaW5lcigpLGY9YShcIjxiPlwiK2IrXCI6PC9iPiBcIixlKSxnPWMoXCJkaXZcIixudWxsLG51bGwsZSk7cmV0dXJuIGcuaW5uZXJIVE1MPWQsdGhpcy5fY29udHJvbHNbYl09e2xhYmVsOmYsY29udHJvbDpnLGdldFZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udHJvbC5pbm5lckhUTUx9LHNldFZhbHVlOmZ1bmN0aW9uKGEpe3RoaXMuY29udHJvbC5pbm5lckhUTUw9YX19LHRoaXN9LGFkZEltYWdlOmZ1bmN0aW9uKGIsZCl7dmFyIGU9dGhpcy5fY3JlYXRlQ29udGFpbmVyKCksZj1hKFwiPGI+XCIrYitcIjwvYj5cIixlKTtyZXR1cm4gaW1nPWMoXCJpbWdcIixudWxsLFwicXNfaW1hZ2VcIixlKSxpbWcuc3JjPWQsdGhpcy5fY29udHJvbHNbYl09e2NvbnRhaW5lcjplLGNvbnRyb2w6aW1nLGxhYmVsOmYsZ2V0VmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250cm9sLnNyY30sc2V0VmFsdWU6ZnVuY3Rpb24oYSl7dGhpcy5jb250cm9sLnNyYz1hfX0sdGhpc30sYWRkUmFuZ2U6ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3JldHVybiB0aGlzLl9hZGROdW1iZXIoXCJyYW5nZVwiLGEsYixjLGQsZSxmKX0sYWRkTnVtYmVyOmZ1bmN0aW9uKGEsYixjLGQsZSxmKXtyZXR1cm4gdGhpcy5fYWRkTnVtYmVyKFwibnVtYmVyXCIsYSxiLGMsZCxlLGYpfSxfYWRkTnVtYmVyOmZ1bmN0aW9uKGMsZSxmLGcsaCxpLGope3ZhciBrPXRoaXMuX2NyZWF0ZUNvbnRhaW5lcigpLGw9YShcIlwiLGspLG09XCJyYW5nZVwiPT09Yz9cInFzX3JhbmdlXCI6XCJxc190ZXh0X2lucHV0IHFzX251bWJlclwiLG49YihjLGUsbSxrKTtuLm1pbj1mfHwwLG4ubWF4PWd8fDEwMCxuLnN0ZXA9aXx8MSxuLnZhbHVlPWh8fDAsbC5pbm5lckhUTUw9XCI8Yj5cIitlK1wiOjwvYj4gXCIrbi52YWx1ZSx0aGlzLl9jb250cm9sc1tlXT17Y29udGFpbmVyOmssY29udHJvbDpuLGxhYmVsOmwsdGl0bGU6ZSxjYWxsYmFjazpqLGdldFZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHBhcnNlRmxvYXQodGhpcy5jb250cm9sLnZhbHVlKX0sc2V0VmFsdWU6ZnVuY3Rpb24oYSl7dGhpcy5jb250cm9sLnZhbHVlPWEsdGhpcy5sYWJlbC5pbm5lckhUTUw9XCI8Yj5cIit0aGlzLnRpdGxlK1wiOjwvYj4gXCIrdGhpcy5jb250cm9sLnZhbHVlLGomJmoocGFyc2VGbG9hdChhKSl9fTt2YXIgbz1cImlucHV0XCI7XCJyYW5nZVwiPT09YyYmZCgpJiYobz1cImNoYW5nZVwiKTt2YXIgcD10aGlzO3JldHVybiBuLmFkZEV2ZW50TGlzdGVuZXIobyxmdW5jdGlvbigpe2wuaW5uZXJIVE1MPVwiPGI+XCIrZStcIjo8L2I+IFwiK24udmFsdWUsaiYmaihwYXJzZUZsb2F0KG4udmFsdWUpKSxwLl9jYWxsR0NIKCl9KSx0aGlzfSxiaW5kUmFuZ2U6ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3JldHVybiB0aGlzLmFkZFJhbmdlKGEsYixjLGQsZSxmdW5jdGlvbihiKXtmW2FdPWJ9KX0sYmluZE51bWJlcjpmdW5jdGlvbihhLGIsYyxkLGUsZil7cmV0dXJuIHRoaXMuYWRkTnVtYmVyKGEsYixjLGQsZSxmdW5jdGlvbihiKXtmW2FdPWJ9KX0sc2V0UmFuZ2VQYXJhbWV0ZXJzOmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiB0aGlzLnNldE51bWJlclBhcmFtZXRlcnMoYSxiLGMsZCl9LHNldE51bWJlclBhcmFtZXRlcnM6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9dGhpcy5fY29udHJvbHNbYV0sZj1lLmNvbnRyb2wudmFsdWU7cmV0dXJuIGUuY29udHJvbC5taW49YixlLmNvbnRyb2wubWF4PWMsZS5jb250cm9sLnN0ZXA9ZCxlLmNvbnRyb2wudmFsdWUhPT1mJiZlLmNhbGxiYWNrJiZlLmNhbGxiYWNrKGUuY29udHJvbC52YWx1ZSksdGhpc30sYWRkUGFzc3dvcmQ6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB0aGlzLl9hZGRUZXh0KFwicGFzc3dvcmRcIixhLGIsYyl9LGJpbmRQYXNzd29yZDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIHRoaXMuYWRkUGFzc3dvcmQoYSxiLGZ1bmN0aW9uKGIpe2NbYV09Yn0pfSxhZGRQcm9ncmVzc0JhcjpmdW5jdGlvbihiLGQsZSxmKXt2YXIgZz10aGlzLl9jcmVhdGVDb250YWluZXIoKSxoPWEoXCJcIixnKSxpPWMoXCJkaXZcIixudWxsLFwicXNfcHJvZ3Jlc3NcIixnKSxqPWMoXCJkaXZcIixudWxsLFwicXNfcHJvZ3Jlc3NfdmFsdWVcIixpKTtyZXR1cm4gai5zdHlsZS53aWR0aD1lL2QqMTAwK1wiJVwiLFwibnVtYmVyc1wiPT09Zj9oLmlubmVySFRNTD1cIjxiPlwiK2IrXCI6PC9iPiBcIitlK1wiIC8gXCIrZDpcInBlcmNlbnRcIj09PWY/aC5pbm5lckhUTUw9XCI8Yj5cIitiK1wiOjwvYj4gXCIrTWF0aC5yb3VuZChlL2QqMTAwKStcIiVcIjpoLmlubmVySFRNTD1cIjxiPlwiK2IrXCI8L2I+XCIsdGhpcy5fY29udHJvbHNbYl09e2NvbnRhaW5lcjpnLGNvbnRyb2w6aSx2YWx1ZURpdjpqLHZhbHVlRGlzcGxheTpmLGxhYmVsOmgsdmFsdWU6ZSxtYXg6ZCx0aXRsZTpiLGdldFZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmFsdWV9LHNldFZhbHVlOmZ1bmN0aW9uKGEpe3RoaXMudmFsdWU9TWF0aC5tYXgoMCxNYXRoLm1pbihhLHRoaXMubWF4KSksdGhpcy52YWx1ZURpdi5zdHlsZS53aWR0aD10aGlzLnZhbHVlL3RoaXMubWF4KjEwMCtcIiVcIixcIm51bWJlcnNcIj09PXRoaXMudmFsdWVEaXNwbGF5P3RoaXMubGFiZWwuaW5uZXJIVE1MPVwiPGI+XCIrdGhpcy50aXRsZStcIjo8L2I+IFwiK3RoaXMudmFsdWUrXCIgLyBcIit0aGlzLm1heDpcInBlcmNlbnRcIj09PXRoaXMudmFsdWVEaXNwbGF5JiYodGhpcy5sYWJlbC5pbm5lckhUTUw9XCI8Yj5cIit0aGlzLnRpdGxlK1wiOjwvYj4gXCIrTWF0aC5yb3VuZCh0aGlzLnZhbHVlL3RoaXMubWF4KjEwMCkrXCIlXCIpfX0sdGhpc30sc2V0UHJvZ3Jlc3NNYXg6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLl9jb250cm9sc1thXTtyZXR1cm4gYy5tYXg9YixjLnZhbHVlPU1hdGgubWluKGMudmFsdWUsYy5tYXgpLGMudmFsdWVEaXYuc3R5bGUud2lkdGg9Yy52YWx1ZS9jLm1heCoxMDArXCIlXCIsXCJudW1iZXJzXCI9PT1jLnZhbHVlRGlzcGxheT9jLmxhYmVsLmlubmVySFRNTD1cIjxiPlwiK2MudGl0bGUrXCI6PC9iPiBcIitjLnZhbHVlK1wiIC8gXCIrYy5tYXg6XCJwZXJjZW50XCI9PT1jLnZhbHVlRGlzcGxheT9jLmxhYmVsLmlubmVySFRNTD1cIjxiPlwiK2MudGl0bGUrXCI6PC9iPiBcIitNYXRoLnJvdW5kKGMudmFsdWUvYy5tYXgqMTAwKStcIiVcIjpjLmxhYmVsLmlubmVySFRNTD1cIjxiPlwiK2MudGl0bGUrXCI8L2I+XCIsdGhpc30sYWRkVGV4dDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIHRoaXMuX2FkZFRleHQoXCJ0ZXh0XCIsYSxiLGMpfSxfYWRkVGV4dDpmdW5jdGlvbihkLGUsZixnKXt2YXIgaCxpPXRoaXMuX2NyZWF0ZUNvbnRhaW5lcigpLGo9YShcIjxiPlwiK2UrXCI8L2I+XCIsaSk7XCJ0ZXh0YXJlYVwiPT09ZD8oaD1jKFwidGV4dGFyZWFcIixlLFwicXNfdGV4dGFyZWFcIixpKSxoLnJvd3M9NSk6aD1iKGQsZSxcInFzX3RleHRfaW5wdXRcIixpKSxoLnZhbHVlPWZ8fFwiXCIsdGhpcy5fY29udHJvbHNbZV09e2NvbnRhaW5lcjppLGNvbnRyb2w6aCxsYWJlbDpqLGdldFZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udHJvbC52YWx1ZX0sc2V0VmFsdWU6ZnVuY3Rpb24oYSl7dGhpcy5jb250cm9sLnZhbHVlPWEsZyYmZyhhKX19O3ZhciBrPXRoaXM7cmV0dXJuIGguYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsZnVuY3Rpb24oKXtnJiZnKGgudmFsdWUpLGsuX2NhbGxHQ0goKX0pLHRoaXN9LGJpbmRUZXh0OmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gdGhpcy5hZGRUZXh0KGEsYixmdW5jdGlvbihiKXtjW2FdPWJ9KX0sYWRkVGV4dEFyZWE6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB0aGlzLl9hZGRUZXh0KFwidGV4dGFyZWFcIixhLGIsYyl9LHNldFRleHRBcmVhUm93czpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLl9jb250cm9sc1thXS5jb250cm9sLnJvd3M9Yix0aGlzfSxiaW5kVGV4dEFyZWE6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB0aGlzLmFkZFRleHRBcmVhKGEsYixmdW5jdGlvbihiKXtjW2FdPWJ9KX0sYWRkVGltZTpmdW5jdGlvbihjLGUsZil7dmFyIGc7aWYoZSBpbnN0YW5jZW9mIERhdGUpe3ZhciBoPWUuZ2V0SG91cnMoKTtoPDEwJiYoaD1cIjBcIitoKTt2YXIgaT1lLmdldE1pbnV0ZXMoKTtpPDEwJiYoaT1cIjBcIitpKTt2YXIgaj1lLmdldFNlY29uZHMoKTtqPDEwJiYoaj1cIjBcIitqKSxnPWgrXCI6XCIraStcIjpcIitqfWVsc2UgZz1lO2lmKGQoKSlyZXR1cm4gdGhpcy5hZGRUZXh0KGMsZyxmKTt2YXIgaz10aGlzLl9jcmVhdGVDb250YWluZXIoKSxsPWEoXCI8Yj5cIitjK1wiPC9iPlwiLGspLG09YihcInRpbWVcIixjLFwicXNfdGV4dF9pbnB1dFwiLGspO20udmFsdWU9Z3x8XCJcIix0aGlzLl9jb250cm9sc1tjXT17Y29udGFpbmVyOmssY29udHJvbDptLGxhYmVsOmwsZ2V0VmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250cm9sLnZhbHVlfSxzZXRWYWx1ZTpmdW5jdGlvbihhKXt2YXIgYjtpZihhIGluc3RhbmNlb2YgRGF0ZSl7dmFyIGM9YS5nZXRIb3VycygpO2M8MTAmJihjPVwiMFwiK2MpO3ZhciBkPWEuZ2V0TWludXRlcygpO2Q8MTAmJihkPVwiMFwiK2QpO3ZhciBlPWEuZ2V0U2Vjb25kcygpO2U8MTAmJihlPVwiMFwiK2UpLGI9YytcIjpcIitkK1wiOlwiK2V9ZWxzZSBiPWE7dGhpcy5jb250cm9sLnZhbHVlPWJ8fFwiXCIsZiYmZihiKX19O3ZhciBuPXRoaXM7cmV0dXJuIG0uYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsZnVuY3Rpb24oKXtmJiZmKG0udmFsdWUpLG4uX2NhbGxHQ0goKX0pLHRoaXN9LGJpbmRUaW1lOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gdGhpcy5hZGRUaW1lKGEsYixmdW5jdGlvbihiKXtjW2FdPWJ9KX19O1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPWo6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShqKTp3aW5kb3cuUXVpY2tTZXR0aW5ncz1qfSgpOyJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/quicksettings/quicksettings.min.js\n");

/***/ }),

/***/ "./node_modules/undo-manager/lib/undomanager.js":
/*!******************************************************!*\
  !*** ./node_modules/undo-manager/lib/undomanager.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_RESULT__;/*\nSimple Javascript undo and redo.\nhttps://github.com/ArthurClemens/Javascript-Undo-Manager\n*/\n\n;(function() {\n\n\t'use strict';\n\n    function removeFromTo(array, from, to) {\n        array.splice(from,\n            !to ||\n            1 + to - from + (!(to < 0 ^ from >= 0) && (to < 0 || -1) * array.length));\n        return array.length;\n    }\n\n    var UndoManager = function() {\n\n        var commands = [],\n            index = -1,\n            limit = 0,\n            isExecuting = false,\n            callback,\n            \n            // functions\n            execute;\n\n        execute = function(command, action) {\n            if (!command || typeof command[action] !== \"function\") {\n                return this;\n            }\n            isExecuting = true;\n\n            command[action]();\n\n            isExecuting = false;\n            return this;\n        };\n\n        return {\n\n            /*\n            Add a command to the queue.\n            */\n            add: function (command) {\n                if (isExecuting) {\n                    return this;\n                }\n                // if we are here after having called undo,\n                // invalidate items higher on the stack\n                commands.splice(index + 1, commands.length - index);\n\n                commands.push(command);\n                \n                // if limit is set, remove items from the start\n                if (limit && commands.length > limit) {\n                    removeFromTo(commands, 0, -(limit+1));\n                }\n                \n                // set the current index to the end\n                index = commands.length - 1;\n                if (callback) {\n                    callback();\n                }\n                return this;\n            },\n\n            /*\n            Pass a function to be called on undo and redo actions.\n            */\n            setCallback: function (callbackFunc) {\n                callback = callbackFunc;\n            },\n\n            /*\n            Perform undo: call the undo function at the current index and decrease the index by 1.\n            */\n            undo: function () {\n                var command = commands[index];\n                if (!command) {\n                    return this;\n                }\n                execute(command, \"undo\");\n                index -= 1;\n                if (callback) {\n                    callback();\n                }\n                return this;\n            },\n\n            /*\n            Perform redo: call the redo function at the next index and increase the index by 1.\n            */\n            redo: function () {\n                var command = commands[index + 1];\n                if (!command) {\n                    return this;\n                }\n                execute(command, \"redo\");\n                index += 1;\n                if (callback) {\n                    callback();\n                }\n                return this;\n            },\n\n            /*\n            Clears the memory, losing all stored states. Reset the index.\n            */\n            clear: function () {\n                var prev_size = commands.length;\n\n                commands = [];\n                index = -1;\n\n                if (callback && (prev_size > 0)) {\n                    callback();\n                }\n            },\n\n            hasUndo: function () {\n                return index !== -1;\n            },\n\n            hasRedo: function () {\n                return index < (commands.length - 1);\n            },\n\n            getCommands: function () {\n                return commands;\n            },\n\n            getIndex: function() {\n                return index;\n            },\n            \n            setLimit: function (l) {\n                limit = l;\n            }\n        };\n    };\n\n\tif (true) {\n\t\t// AMD. Register as an anonymous module.\n\t\t!(__WEBPACK_AMD_DEFINE_RESULT__ = (function() {\n\t\t\treturn UndoManager;\n\t\t}).call(exports, __webpack_require__, exports, module),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t} else {}\n\n}());\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdW5kby1tYW5hZ2VyL2xpYi91bmRvbWFuYWdlci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91bmRvLW1hbmFnZXIvbGliL3VuZG9tYW5hZ2VyLmpzPzljNzMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcblNpbXBsZSBKYXZhc2NyaXB0IHVuZG8gYW5kIHJlZG8uXG5odHRwczovL2dpdGh1Yi5jb20vQXJ0aHVyQ2xlbWVucy9KYXZhc2NyaXB0LVVuZG8tTWFuYWdlclxuKi9cblxuOyhmdW5jdGlvbigpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cbiAgICBmdW5jdGlvbiByZW1vdmVGcm9tVG8oYXJyYXksIGZyb20sIHRvKSB7XG4gICAgICAgIGFycmF5LnNwbGljZShmcm9tLFxuICAgICAgICAgICAgIXRvIHx8XG4gICAgICAgICAgICAxICsgdG8gLSBmcm9tICsgKCEodG8gPCAwIF4gZnJvbSA+PSAwKSAmJiAodG8gPCAwIHx8IC0xKSAqIGFycmF5Lmxlbmd0aCkpO1xuICAgICAgICByZXR1cm4gYXJyYXkubGVuZ3RoO1xuICAgIH1cblxuICAgIHZhciBVbmRvTWFuYWdlciA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBjb21tYW5kcyA9IFtdLFxuICAgICAgICAgICAgaW5kZXggPSAtMSxcbiAgICAgICAgICAgIGxpbWl0ID0gMCxcbiAgICAgICAgICAgIGlzRXhlY3V0aW5nID0gZmFsc2UsXG4gICAgICAgICAgICBjYWxsYmFjayxcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gZnVuY3Rpb25zXG4gICAgICAgICAgICBleGVjdXRlO1xuXG4gICAgICAgIGV4ZWN1dGUgPSBmdW5jdGlvbihjb21tYW5kLCBhY3Rpb24pIHtcbiAgICAgICAgICAgIGlmICghY29tbWFuZCB8fCB0eXBlb2YgY29tbWFuZFthY3Rpb25dICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlzRXhlY3V0aW5nID0gdHJ1ZTtcblxuICAgICAgICAgICAgY29tbWFuZFthY3Rpb25dKCk7XG5cbiAgICAgICAgICAgIGlzRXhlY3V0aW5nID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4ge1xuXG4gICAgICAgICAgICAvKlxuICAgICAgICAgICAgQWRkIGEgY29tbWFuZCB0byB0aGUgcXVldWUuXG4gICAgICAgICAgICAqL1xuICAgICAgICAgICAgYWRkOiBmdW5jdGlvbiAoY29tbWFuZCkge1xuICAgICAgICAgICAgICAgIGlmIChpc0V4ZWN1dGluZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gaWYgd2UgYXJlIGhlcmUgYWZ0ZXIgaGF2aW5nIGNhbGxlZCB1bmRvLFxuICAgICAgICAgICAgICAgIC8vIGludmFsaWRhdGUgaXRlbXMgaGlnaGVyIG9uIHRoZSBzdGFja1xuICAgICAgICAgICAgICAgIGNvbW1hbmRzLnNwbGljZShpbmRleCArIDEsIGNvbW1hbmRzLmxlbmd0aCAtIGluZGV4KTtcblxuICAgICAgICAgICAgICAgIGNvbW1hbmRzLnB1c2goY29tbWFuZCk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gaWYgbGltaXQgaXMgc2V0LCByZW1vdmUgaXRlbXMgZnJvbSB0aGUgc3RhcnRcbiAgICAgICAgICAgICAgICBpZiAobGltaXQgJiYgY29tbWFuZHMubGVuZ3RoID4gbGltaXQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlRnJvbVRvKGNvbW1hbmRzLCAwLCAtKGxpbWl0KzEpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gc2V0IHRoZSBjdXJyZW50IGluZGV4IHRvIHRoZSBlbmRcbiAgICAgICAgICAgICAgICBpbmRleCA9IGNvbW1hbmRzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgLypcbiAgICAgICAgICAgIFBhc3MgYSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgb24gdW5kbyBhbmQgcmVkbyBhY3Rpb25zLlxuICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHNldENhbGxiYWNrOiBmdW5jdGlvbiAoY2FsbGJhY2tGdW5jKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2sgPSBjYWxsYmFja0Z1bmM7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAvKlxuICAgICAgICAgICAgUGVyZm9ybSB1bmRvOiBjYWxsIHRoZSB1bmRvIGZ1bmN0aW9uIGF0IHRoZSBjdXJyZW50IGluZGV4IGFuZCBkZWNyZWFzZSB0aGUgaW5kZXggYnkgMS5cbiAgICAgICAgICAgICovXG4gICAgICAgICAgICB1bmRvOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNvbW1hbmQgPSBjb21tYW5kc1tpbmRleF07XG4gICAgICAgICAgICAgICAgaWYgKCFjb21tYW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBleGVjdXRlKGNvbW1hbmQsIFwidW5kb1wiKTtcbiAgICAgICAgICAgICAgICBpbmRleCAtPSAxO1xuICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIC8qXG4gICAgICAgICAgICBQZXJmb3JtIHJlZG86IGNhbGwgdGhlIHJlZG8gZnVuY3Rpb24gYXQgdGhlIG5leHQgaW5kZXggYW5kIGluY3JlYXNlIHRoZSBpbmRleCBieSAxLlxuICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHJlZG86IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgY29tbWFuZCA9IGNvbW1hbmRzW2luZGV4ICsgMV07XG4gICAgICAgICAgICAgICAgaWYgKCFjb21tYW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBleGVjdXRlKGNvbW1hbmQsIFwicmVkb1wiKTtcbiAgICAgICAgICAgICAgICBpbmRleCArPSAxO1xuICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIC8qXG4gICAgICAgICAgICBDbGVhcnMgdGhlIG1lbW9yeSwgbG9zaW5nIGFsbCBzdG9yZWQgc3RhdGVzLiBSZXNldCB0aGUgaW5kZXguXG4gICAgICAgICAgICAqL1xuICAgICAgICAgICAgY2xlYXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgcHJldl9zaXplID0gY29tbWFuZHMubGVuZ3RoO1xuXG4gICAgICAgICAgICAgICAgY29tbWFuZHMgPSBbXTtcbiAgICAgICAgICAgICAgICBpbmRleCA9IC0xO1xuXG4gICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrICYmIChwcmV2X3NpemUgPiAwKSkge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGhhc1VuZG86IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5kZXggIT09IC0xO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgaGFzUmVkbzogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpbmRleCA8IChjb21tYW5kcy5sZW5ndGggLSAxKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGdldENvbW1hbmRzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbW1hbmRzO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgZ2V0SW5kZXg6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHNldExpbWl0OiBmdW5jdGlvbiAobCkge1xuICAgICAgICAgICAgICAgIGxpbWl0ID0gbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9O1xuXG5cdGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBkZWZpbmUuYW1kID09PSAnb2JqZWN0JyAmJiBkZWZpbmUuYW1kKSB7XG5cdFx0Ly8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLlxuXHRcdGRlZmluZShmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiBVbmRvTWFuYWdlcjtcblx0XHR9KTtcblx0fSBlbHNlIGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykge1xuXHRcdG1vZHVsZS5leHBvcnRzID0gVW5kb01hbmFnZXI7XG5cdH0gZWxzZSB7XG5cdFx0d2luZG93LlVuZG9NYW5hZ2VyID0gVW5kb01hbmFnZXI7XG5cdH1cblxufSgpKTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQSxVQUlBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/undo-manager/lib/undomanager.js\n");

/***/ }),

/***/ "./package.json":
/*!**********************!*\
  !*** ./package.json ***!
  \**********************/
/*! exports provided: name, version, description, main, types, scripts, repository, release-it, keywords, author, license, bugs, homepage, devDependencies, dependencies, default */
/***/ (function(module) {

eval("module.exports = JSON.parse(\"{\\\"name\\\":\\\"image-map-creator\\\",\\\"version\\\":\\\"1.1.10\\\",\\\"description\\\":\\\"This is a simple map creator tool made with the p5.js library. I want it\\\\r to be easy to use for both the end user and the developper.\\\",\\\"main\\\":\\\"dist/image-map-creator.bundle.js\\\",\\\"types\\\":\\\"dist/src/p5.image-map-creator.d.ts\\\",\\\"scripts\\\":{\\\"test\\\":\\\"echo \\\\\\\"Error: no test specified\\\\\\\" && exit 1\\\",\\\"watch\\\":\\\"webpack --env dev --watch\\\",\\\"build\\\":\\\"webpack --env dev\\\",\\\"dist\\\":\\\"npm run clean && webpack --env prod\\\",\\\"clean\\\":\\\"rm -rf dist\\\",\\\"release\\\":\\\"dotenv release-it\\\"},\\\"repository\\\":{\\\"type\\\":\\\"git\\\",\\\"url\\\":\\\"git+https://github.com/n-peugnet/image-map-creator.git\\\"},\\\"release-it\\\":{\\\"hooks\\\":{\\\"after:bump\\\":\\\"npm run dist\\\"},\\\"npm\\\":{\\\"publish\\\":true},\\\"github\\\":{\\\"release\\\":true,\\\"assets\\\":[\\\"dist/*.js\\\"]}},\\\"keywords\\\":[],\\\"author\\\":\\\"\\\",\\\"license\\\":\\\"MIT\\\",\\\"bugs\\\":{\\\"url\\\":\\\"https://github.com/n-peugnet/image-map-creator/issues\\\"},\\\"homepage\\\":\\\"https://github.com/n-peugnet/image-map-creator#readme\\\",\\\"devDependencies\\\":{\\\"@types/downloadjs\\\":\\\"^1.4.2\\\",\\\"@types/p5\\\":\\\"^0.7.3\\\",\\\"css-loader\\\":\\\"^1.0.1\\\",\\\"dotenv-cli\\\":\\\"^2.0.1\\\",\\\"release-it\\\":\\\"^14.0.2\\\",\\\"style-loader\\\":\\\"^0.23.1\\\",\\\"ts-loader\\\":\\\"^5.4.5\\\",\\\"typescript\\\":\\\"^3.9.9\\\",\\\"webpack\\\":\\\"^4.44.1\\\",\\\"webpack-cli\\\":\\\"^3.3.12\\\"},\\\"dependencies\\\":{\\\"downloadjs\\\":\\\"^1.4.7\\\",\\\"quicksettings\\\":\\\"^3.0.1\\\",\\\"undo-manager\\\":\\\"^1.0.5\\\"}}\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWNrYWdlLmpzb24uanMiLCJzb3VyY2VzIjpbXSwibWFwcGluZ3MiOiIiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./package.json\n");

/***/ }),

/***/ "./src/class.area.ts":
/*!***************************!*\
  !*** ./src/class.area.ts ***!
  \***************************/
/*! exports provided: Area, AreaEmpty, AreaCircle, AreaPoly, AreaRect, AreaDefault */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Area\", function() { return Area; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AreaEmpty\", function() { return AreaEmpty; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AreaCircle\", function() { return AreaCircle; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AreaPoly\", function() { return AreaPoly; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AreaRect\", function() { return AreaRect; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AreaDefault\", function() { return AreaDefault; });\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\n/* harmony import */ var _class_coord__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./class.coord */ \"./src/class.coord.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\nvar Area = /** @class */ (function () {\r\n    /**\r\n     * @param {Shape} shape the type of area\r\n     * @param {Coord[]} coords the list of coordinates\r\n     * @param {string} href the link this area is going to point to\r\n     * @param {number} id the unique id\r\n     */\r\n    function Area(shape, coords, href, title, id) {\r\n        if (coords === void 0) { coords = []; }\r\n        if (href === void 0) { href = \"\"; }\r\n        if (title === void 0) { title = \"\"; }\r\n        if (id === void 0) { id = 0; }\r\n        this.shape = shape;\r\n        this.coords = coords;\r\n        this.href = href;\r\n        this.title = title;\r\n        this.id = id;\r\n    }\r\n    Area.fromObject = function (o) {\r\n        switch (o.shape) {\r\n            case 'rect':\r\n                var r = o;\r\n                return new AreaRect(r.coords.map(_class_coord__WEBPACK_IMPORTED_MODULE_1__[\"Coord\"].fromObject), r.href, r.title, r.id);\r\n            case 'circle':\r\n                var c = o;\r\n                return new AreaCircle(c.coords.map(_class_coord__WEBPACK_IMPORTED_MODULE_1__[\"Coord\"].fromObject), c.radius, c.href, c.title, c.id);\r\n            case 'poly':\r\n                var p = o;\r\n                return new AreaPoly(p.coords.map(_class_coord__WEBPACK_IMPORTED_MODULE_1__[\"Coord\"].fromObject), p.href, p.title, p.id, p.closed);\r\n            case 'default':\r\n                var d = o;\r\n                return new AreaDefault(d.iMap, d.href, d.title);\r\n            default:\r\n                throw 'Not an area';\r\n        }\r\n    };\r\n    Area.prototype.getId = function () {\r\n        return this.id;\r\n    };\r\n    Area.prototype.setShape = function (shape) {\r\n        this.shape = shape;\r\n        return this;\r\n    };\r\n    Area.prototype.getShape = function () {\r\n        return this.shape;\r\n    };\r\n    /**\r\n     * Adds a coordinate to the coords array, and returns it's new length\r\n     * @param {Coord} coord coordinate\r\n     */\r\n    Area.prototype.addCoord = function (coord) {\r\n        return this.coords.push(coord);\r\n    };\r\n    Area.prototype.setCoords = function (coords) {\r\n        this.coords = coords;\r\n        return this;\r\n    };\r\n    Area.prototype.getCoords = function () {\r\n        return this.coords;\r\n    };\r\n    /**\r\n     * Returns a copy of this area's coordinates list\r\n     */\r\n    Area.prototype.drawingCoords = function () {\r\n        return this.coords.slice();\r\n    };\r\n    Area.prototype.getPoints = function () {\r\n        return this.coords;\r\n    };\r\n    Area.prototype.isEmpty = function () {\r\n        return this.coords.length == 0;\r\n    };\r\n    /**\r\n     * @param {Area} area\r\n     */\r\n    Area.prototype.equals = function (area) {\r\n        return this.id == area.id;\r\n    };\r\n    /**\r\n     * Retuns a deep copy of this area's coordinates\r\n     */\r\n    Area.prototype.copyCoords = function () {\r\n        var copy = [];\r\n        this.coords.forEach(function (val, index) {\r\n            copy[index] = new _class_coord__WEBPACK_IMPORTED_MODULE_1__[\"Coord\"](val.x, val.y);\r\n        });\r\n        return copy;\r\n    };\r\n    Area.prototype.updateLastCoord = function (coord) {\r\n        this.coords[this.coords.length - 1] = coord;\r\n        return this;\r\n    };\r\n    //------------------------ Start Interface Movable -------------------------------\r\n    Area.prototype.move = function (coord) {\r\n        var fcoord = this.firstCoord();\r\n        if (coord != undefined) {\r\n            fcoord.add(coord);\r\n        }\r\n    };\r\n    Area.prototype.getPosition = function () {\r\n        return this.firstCoord();\r\n    };\r\n    Area.prototype.setPosition = function (coord) {\r\n        var move = this.coords[0].diff(coord);\r\n        this.move(move);\r\n    };\r\n    //------------------------- End Interface Movable --------------------------------\r\n    Area.prototype.isValidShape = function () {\r\n        return this.isDrawable();\r\n    };\r\n    /**\r\n     * @param {Coord} coord\r\n     * @param {number} tolerance\r\n     * @returns {Coord|false}\r\n     */\r\n    Area.prototype.isOverPoint = function (coord, tolerance) {\r\n        var point = this.getPoints().find(function (c) {\r\n            return _class_coord__WEBPACK_IMPORTED_MODULE_1__[\"Coord\"].dist(coord, c) < tolerance;\r\n        });\r\n        return point ? point : false;\r\n    };\r\n    Area.prototype.setHref = function (url) {\r\n        this.href = url;\r\n        return this;\r\n    };\r\n    Area.prototype.getHref = function () {\r\n        return this.href;\r\n    };\r\n    Area.prototype.getHrefVerbose = function () {\r\n        return this.href === \"\" ? \"undefined\" : this.href;\r\n    };\r\n    Area.prototype.setTitle = function (title) {\r\n        this.title = title;\r\n        return this;\r\n    };\r\n    Area.prototype.getTitle = function () {\r\n        return this.title;\r\n    };\r\n    Area.prototype.setId = function (id) {\r\n        this.id = id;\r\n        return this;\r\n    };\r\n    Area.prototype.firstCoord = function () {\r\n        return this.coords[0];\r\n    };\r\n    Area.prototype.htmlCoords = function (dec, scale) {\r\n        return this.drawingCoords().map(function (c) {\r\n            return c.toHtml(dec, scale);\r\n        }).join(',');\r\n    };\r\n    Area.prototype.toHtml = function (scale) {\r\n        if (scale === void 0) { scale = 1; }\r\n        var htmlCoords = this.htmlCoords(0, scale);\r\n        htmlCoords = htmlCoords ? \"coords=\\\"\" + htmlCoords + \"\\\"\" : \"\";\r\n        var href = this.href ? \"href=\\\"\" + this.href + \"\\\"\" : \"nohref\";\r\n        var title = this.title ? \"title=\\\"\" + this.title + \"\\\"\" : \"\";\r\n        return \"<area shape=\\\"\" + this.shape + \"\\\" \" + htmlCoords + \" \" + href + \" alt=\\\"\" + this.href + \"\\\" \" + title + \" />\";\r\n    };\r\n    Area.prototype.toSvg = function (scale) {\r\n        if (scale === void 0) { scale = 1; }\r\n        return \"<a xlink:href=\\\"\" + this.href + \"\\\">\" + this.svgArea(scale) + \"</a>\";\r\n    };\r\n    return Area;\r\n}());\r\n\r\nvar AreaEmpty = /** @class */ (function (_super) {\r\n    __extends(AreaEmpty, _super);\r\n    function AreaEmpty() {\r\n        return _super.call(this, \"empty\") || this;\r\n    }\r\n    AreaEmpty.prototype.isDrawable = function () {\r\n        return false;\r\n    };\r\n    AreaEmpty.prototype.svgArea = function (scale) {\r\n        return \"\";\r\n    };\r\n    AreaEmpty.prototype.isOver = function (coord) {\r\n        return false;\r\n    };\r\n    AreaEmpty.prototype.display = function (p) { };\r\n    return AreaEmpty;\r\n}(Area));\r\n\r\nvar AreaCircle = /** @class */ (function (_super) {\r\n    __extends(AreaCircle, _super);\r\n    /**\r\n     * @param {Coord[]} coords the list of coordinates\r\n     * @param {number} radius radius of the circle\r\n     * @param {string} href the link this area is going to point to\r\n     * @param {number} id the unique id\r\n     */\r\n    function AreaCircle(coords, radius, href, title, id) {\r\n        if (coords === void 0) { coords = []; }\r\n        if (radius === void 0) { radius = 0; }\r\n        if (href === void 0) { href = \"\"; }\r\n        if (title === void 0) { title = \"\"; }\r\n        if (id === void 0) { id = 0; }\r\n        var _this = _super.call(this, \"circle\", coords, href, title, id) || this;\r\n        _this.radius = radius;\r\n        return _this;\r\n    }\r\n    AreaCircle.prototype.getCenter = function () {\r\n        return this.firstCoord();\r\n    };\r\n    AreaCircle.prototype.isValidShape = function () {\r\n        return _super.prototype.isValidShape.call(this) && this.radius > 0;\r\n    };\r\n    AreaCircle.prototype.isDrawable = function () {\r\n        return this.coords.length == 1;\r\n    };\r\n    AreaCircle.prototype.isOver = function (coord) {\r\n        var center = this.getCenter();\r\n        return _class_coord__WEBPACK_IMPORTED_MODULE_1__[\"Coord\"].dist(coord, center) < this.radius;\r\n    };\r\n    AreaCircle.prototype.updateLastCoord = function (coord) {\r\n        var center = this.getCenter();\r\n        this.radius = _class_coord__WEBPACK_IMPORTED_MODULE_1__[\"Coord\"].dist(center, coord);\r\n        return this;\r\n    };\r\n    /**\r\n     * draw the area to the given p5 instance\r\n     * @param {p5} p5\r\n     */\r\n    AreaCircle.prototype.display = function (p5) {\r\n        p5.ellipse(this.getCenter().x, this.getCenter().y, this.radius * 2);\r\n    };\r\n    AreaCircle.prototype.htmlCoords = function (dec, scale) {\r\n        return this.getCenter().toHtml(dec, scale) + \",\" + Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"round\"])(this.radius, dec);\r\n    };\r\n    AreaCircle.prototype.svgArea = function (scale) {\r\n        var x = this.coords[0].toStr(0, 'x', scale);\r\n        var y = this.coords[0].toStr(0, 'y', scale);\r\n        var r = Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"round\"])(this.radius, 0);\r\n        return \"<circle cx=\\\"\" + x + \"\\\" cy=\\\"\" + y + \"\\\" r=\\\"\" + r + \"\\\" />\";\r\n    };\r\n    return AreaCircle;\r\n}(Area));\r\n\r\nvar AreaPoly = /** @class */ (function (_super) {\r\n    __extends(AreaPoly, _super);\r\n    /**\r\n     * @param {Coord[]} coords the list of coordinates\r\n     * @param {string} href the link this area is going to point to\r\n     * @param {int} id the unique id\r\n     */\r\n    function AreaPoly(coords, href, title, id, closed) {\r\n        if (coords === void 0) { coords = []; }\r\n        if (href === void 0) { href = \"\"; }\r\n        if (title === void 0) { title = \"\"; }\r\n        if (id === void 0) { id = 0; }\r\n        if (closed === void 0) { closed = false; }\r\n        var _this = _super.call(this, \"poly\", coords, href, title, id) || this;\r\n        _this.closed = closed;\r\n        return _this;\r\n    }\r\n    AreaPoly.prototype.isDrawable = function () {\r\n        return this.coords.length >= 2;\r\n    };\r\n    AreaPoly.prototype.isValidShape = function () {\r\n        return _super.prototype.isValidShape.call(this) && this.closed;\r\n    };\r\n    AreaPoly.prototype.isOver = function (coord) {\r\n        var x = coord.x;\r\n        var y = coord.y;\r\n        var cornersX = this.coords.map(function (c) { return c.x; });\r\n        var cornersY = this.coords.map(function (c) { return c.y; });\r\n        var i, j = cornersX.length - 1;\r\n        var oddNodes = 0;\r\n        var polyX = cornersX;\r\n        var polyY = cornersY;\r\n        for (i = 0; i < cornersX.length; i++) {\r\n            if ((polyY[i] < y && polyY[j] >= y || polyY[j] < y && polyY[i] >= y) && (polyX[i] <= x || polyX[j] <= x)) {\r\n                oddNodes ^= (polyX[i] + (y - polyY[i]) / (polyY[j] - polyY[i]) * (polyX[j] - polyX[i]) < x) ? 1 : 0;\r\n            }\r\n            j = i;\r\n        }\r\n        return Boolean(oddNodes);\r\n    };\r\n    AreaPoly.prototype.isClosable = function (coord, tolerance) {\r\n        var dist = _class_coord__WEBPACK_IMPORTED_MODULE_1__[\"Coord\"].dist(coord, this.firstCoord());\r\n        return this.coords.length >= 4 && dist < tolerance;\r\n    };\r\n    AreaPoly.prototype.drawingCoords = function () {\r\n        var coords = _super.prototype.drawingCoords.call(this);\r\n        if (this.closed) {\r\n            coords.push(this.firstCoord());\r\n        }\r\n        return coords;\r\n    };\r\n    AreaPoly.prototype.close = function () {\r\n        this.closed = true;\r\n        this.coords.pop();\r\n        return this;\r\n    };\r\n    AreaPoly.prototype.move = function (coord) {\r\n        this.coords.map(function (c) { return c.add(coord); });\r\n    };\r\n    /**\r\n     * draw the area to the given p5 instance\r\n     * @param {p5} p5\r\n     */\r\n    AreaPoly.prototype.display = function (p5) {\r\n        p5.beginShape();\r\n        this.drawingCoords().forEach(function (c) { return p5.vertex(c.x, c.y); });\r\n        p5.endShape();\r\n    };\r\n    AreaPoly.prototype.svgArea = function (scale) {\r\n        var points = this.drawingCoords().map(function (c) {\r\n            return c.toStr(0, 'x', scale) + ',' + c.toStr(0, 'y', scale);\r\n        }).join(' ');\r\n        return \"<polygon points=\\\"\" + points + \"\\\" />\";\r\n    };\r\n    return AreaPoly;\r\n}(Area));\r\n\r\nvar AreaRect = /** @class */ (function (_super) {\r\n    __extends(AreaRect, _super);\r\n    /**\r\n     * @param {Coord[]} coords the list of coordinates\r\n     * @param {string} href the link this area is going to point to\r\n     * @param {number} id the unique id\r\n     */\r\n    function AreaRect(coords, href, title, id) {\r\n        if (coords === void 0) { coords = []; }\r\n        if (href === void 0) { href = \"\"; }\r\n        if (title === void 0) { title = \"\"; }\r\n        if (id === void 0) { id = 0; }\r\n        var _this = _super.call(this, coords, href, title, id, true) || this;\r\n        if (_this.coords.length > 0 && _this.coords.length < 4) {\r\n            var coord = _this.firstCoord();\r\n            _this.coords = [\r\n                coord,\r\n                coord.clone(),\r\n                coord.clone(),\r\n                coord.clone(),\r\n            ];\r\n        }\r\n        return _this;\r\n    }\r\n    AreaRect.prototype.isValidShape = function () {\r\n        return _super.prototype.isValidShape.call(this) && !this.isNullArea();\r\n    };\r\n    AreaRect.prototype.isNullArea = function () {\r\n        return this.coords[0].x == this.coords[1].x || this.coords[0].y == this.coords[3].y;\r\n    };\r\n    AreaRect.prototype.updateLastCoord = function (coord) {\r\n        this.coords[1].x = coord.x;\r\n        this.coords[2] = coord;\r\n        this.coords[3].y = coord.y;\r\n        return this;\r\n    };\r\n    return AreaRect;\r\n}(AreaPoly));\r\n\r\nvar AreaDefault = /** @class */ (function (_super) {\r\n    __extends(AreaDefault, _super);\r\n    /**\r\n     * Constructor\r\n     * @param {string} href the link this area is going to point to\r\n     * @param {string} title the title on hover\r\n     */\r\n    function AreaDefault(iMap, href, title) {\r\n        if (href === void 0) { href = \"\"; }\r\n        if (title === void 0) { title = \"\"; }\r\n        var _this = _super.call(this, \"default\", [], href, title) || this;\r\n        _this.iMap = iMap;\r\n        _this.isDefault = true;\r\n        return _this;\r\n    }\r\n    AreaDefault.prototype.isDrawable = function () {\r\n        return true;\r\n    };\r\n    AreaDefault.prototype.isOver = function () {\r\n        return true;\r\n    };\r\n    /**\r\n     * draw the area to the given p5 instance\r\n     * @param {p5} p5\r\n     */\r\n    AreaDefault.prototype.display = function (p5) {\r\n        p5.rect(0, 0, this.iMap.width - 1, this.iMap.height - 1);\r\n    };\r\n    AreaDefault.prototype.svgArea = function (scale) {\r\n        return '<rect x=\"0\" y=\"0\" width=\"100%\" height=\"100%\" />';\r\n    };\r\n    return AreaDefault;\r\n}(Area));\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2xhc3MuYXJlYS50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jbGFzcy5hcmVhLnRzPzg2NzkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcm91bmQgfSBmcm9tIFwiLi91dGlsc1wiO1xuaW1wb3J0IHsgQ29vcmQgfSBmcm9tIFwiLi9jbGFzcy5jb29yZFwiO1xuaW1wb3J0IHsgSW1hZ2VNYXAgfSBmcm9tIFwiLi9jbGFzcy5pbWFnZS1tYXBcIjtcbmltcG9ydCAqIGFzIHA1IGZyb20gJ3A1JztcblxuZXhwb3J0IHR5cGUgU2hhcGUgPSBcImVtcHR5XCIgfCBcInJlY3RcIiB8IFwiY2lyY2xlXCIgfCBcInBvbHlcIiB8IFwiZGVmYXVsdFwiO1xuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQXJlYSB7XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7U2hhcGV9IHNoYXBlIHRoZSB0eXBlIG9mIGFyZWFcblx0ICogQHBhcmFtIHtDb29yZFtdfSBjb29yZHMgdGhlIGxpc3Qgb2YgY29vcmRpbmF0ZXNcblx0ICogQHBhcmFtIHtzdHJpbmd9IGhyZWYgdGhlIGxpbmsgdGhpcyBhcmVhIGlzIGdvaW5nIHRvIHBvaW50IHRvXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBpZCB0aGUgdW5pcXVlIGlkXG5cdCAqL1xuXHRjb25zdHJ1Y3Rvcihcblx0XHRwcm90ZWN0ZWQgc2hhcGU6IFNoYXBlLFxuXHRcdHByb3RlY3RlZCBjb29yZHM6IENvb3JkW10gPSBbXSxcblx0XHRwcm90ZWN0ZWQgaHJlZjogc3RyaW5nID0gXCJcIixcblx0XHRwcm90ZWN0ZWQgdGl0bGU6IHN0cmluZyA9IFwiXCIsXG5cdFx0cHVibGljIGlkOiBudW1iZXIgPSAwKSB7XG5cdH1cblxuXHRzdGF0aWMgZnJvbU9iamVjdChvOiBPYmplY3QpOiBBcmVhIHtcblx0XHRzd2l0Y2ggKCg8QXJlYT5vKS5zaGFwZSkge1xuXHRcdFx0Y2FzZSAncmVjdCc6XG5cdFx0XHRcdGNvbnN0IHIgPSBvIGFzIEFyZWFSZWN0O1xuXHRcdFx0XHRyZXR1cm4gbmV3IEFyZWFSZWN0KHIuY29vcmRzLm1hcChDb29yZC5mcm9tT2JqZWN0KSwgci5ocmVmLCByLnRpdGxlLCByLmlkKTtcblx0XHRcdGNhc2UgJ2NpcmNsZSc6XG5cdFx0XHRcdGNvbnN0IGMgPSBvIGFzIEFyZWFDaXJjbGVcblx0XHRcdFx0cmV0dXJuIG5ldyBBcmVhQ2lyY2xlKGMuY29vcmRzLm1hcChDb29yZC5mcm9tT2JqZWN0KSwgYy5yYWRpdXMsIGMuaHJlZiwgYy50aXRsZSwgYy5pZCk7XG5cdFx0XHRjYXNlICdwb2x5Jzpcblx0XHRcdFx0Y29uc3QgcCA9IG8gYXMgQXJlYVBvbHlcblx0XHRcdFx0cmV0dXJuIG5ldyBBcmVhUG9seShwLmNvb3Jkcy5tYXAoQ29vcmQuZnJvbU9iamVjdCksIHAuaHJlZiwgcC50aXRsZSwgcC5pZCwgcC5jbG9zZWQpO1xuXHRcdFx0Y2FzZSAnZGVmYXVsdCc6XG5cdFx0XHRcdGNvbnN0IGQgPSBvIGFzIEFyZWFEZWZhdWx0XG5cdFx0XHRcdHJldHVybiBuZXcgQXJlYURlZmF1bHQoZC5pTWFwLCBkLmhyZWYsIGQudGl0bGUpO1xuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0dGhyb3cgJ05vdCBhbiBhcmVhJ1xuXHRcdH1cblx0fVxuXG5cdGdldElkKCk6IG51bWJlciB7XG5cdFx0cmV0dXJuIHRoaXMuaWQ7XG5cdH1cblxuXHRzZXRTaGFwZShzaGFwZTogU2hhcGUpOiB0aGlzIHtcblx0XHR0aGlzLnNoYXBlID0gc2hhcGU7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblxuXHRnZXRTaGFwZSgpOiBTaGFwZSB7XG5cdFx0cmV0dXJuIHRoaXMuc2hhcGU7XG5cdH1cblxuXHQvKipcblx0ICogQWRkcyBhIGNvb3JkaW5hdGUgdG8gdGhlIGNvb3JkcyBhcnJheSwgYW5kIHJldHVybnMgaXQncyBuZXcgbGVuZ3RoXG5cdCAqIEBwYXJhbSB7Q29vcmR9IGNvb3JkIGNvb3JkaW5hdGVcblx0ICovXG5cdGFkZENvb3JkKGNvb3JkOiBDb29yZCk6IG51bWJlciB7XG5cdFx0cmV0dXJuIHRoaXMuY29vcmRzLnB1c2goY29vcmQpO1xuXHR9XG5cblx0c2V0Q29vcmRzKGNvb3JkczogQ29vcmRbXSk6IHRoaXMge1xuXHRcdHRoaXMuY29vcmRzID0gY29vcmRzO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cblx0Z2V0Q29vcmRzKCk6IENvb3JkW10ge1xuXHRcdHJldHVybiB0aGlzLmNvb3Jkcztcblx0fVxuXG5cdC8qKlxuXHQgKiBSZXR1cm5zIGEgY29weSBvZiB0aGlzIGFyZWEncyBjb29yZGluYXRlcyBsaXN0XG5cdCAqL1xuXHRkcmF3aW5nQ29vcmRzKCk6IENvb3JkW10ge1xuXHRcdHJldHVybiB0aGlzLmNvb3Jkcy5zbGljZSgpO1xuXHR9XG5cblx0Z2V0UG9pbnRzKCk6IENvb3JkW10ge1xuXHRcdHJldHVybiB0aGlzLmNvb3Jkcztcblx0fVxuXG5cdGlzRW1wdHkoKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIHRoaXMuY29vcmRzLmxlbmd0aCA9PSAwO1xuXHR9XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7QXJlYX0gYXJlYSBcblx0ICovXG5cdGVxdWFscyhhcmVhOiBBcmVhKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIHRoaXMuaWQgPT0gYXJlYS5pZDtcblx0fVxuXG5cdC8qKlxuXHQgKiBSZXR1bnMgYSBkZWVwIGNvcHkgb2YgdGhpcyBhcmVhJ3MgY29vcmRpbmF0ZXNcblx0ICovXG5cdGNvcHlDb29yZHMoKTogQ29vcmRbXSB7XG5cdFx0bGV0IGNvcHk6IENvb3JkW10gPSBbXTtcblx0XHR0aGlzLmNvb3Jkcy5mb3JFYWNoKCh2YWwsIGluZGV4KSA9PiB7XG5cdFx0XHRjb3B5W2luZGV4XSA9IG5ldyBDb29yZCh2YWwueCwgdmFsLnkpO1xuXHRcdH0pO1xuXHRcdHJldHVybiBjb3B5O1xuXHR9XG5cblx0dXBkYXRlTGFzdENvb3JkKGNvb3JkOiBDb29yZCk6IHRoaXMge1xuXHRcdHRoaXMuY29vcmRzW3RoaXMuY29vcmRzLmxlbmd0aCAtIDFdID0gY29vcmQ7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblxuXHQvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBTdGFydCBJbnRlcmZhY2UgTW92YWJsZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cdG1vdmUoY29vcmQ6IENvb3JkKTogdm9pZCB7XG5cdFx0bGV0IGZjb29yZCA9IHRoaXMuZmlyc3RDb29yZCgpO1xuXHRcdGlmIChjb29yZCAhPSB1bmRlZmluZWQpIHtcblx0XHRcdGZjb29yZC5hZGQoY29vcmQpO1xuXHRcdH1cblx0fVxuXG5cdGdldFBvc2l0aW9uKCk6IENvb3JkIHtcblx0XHRyZXR1cm4gdGhpcy5maXJzdENvb3JkKCk7XG5cdH1cblxuXHRzZXRQb3NpdGlvbihjb29yZDogQ29vcmQpOiB2b2lkIHtcblx0XHRsZXQgbW92ZSA9IHRoaXMuY29vcmRzWzBdLmRpZmYoY29vcmQpO1xuXHRcdHRoaXMubW92ZShtb3ZlKTtcblx0fVxuXHQvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gRW5kIEludGVyZmFjZSBNb3ZhYmxlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cblx0aXNWYWxpZFNoYXBlKCk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiB0aGlzLmlzRHJhd2FibGUoKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge0Nvb3JkfSBjb29yZCBcblx0ICogQHBhcmFtIHtudW1iZXJ9IHRvbGVyYW5jZVxuXHQgKiBAcmV0dXJucyB7Q29vcmR8ZmFsc2V9XG5cdCAqL1xuXHRpc092ZXJQb2ludChjb29yZDogQ29vcmQsIHRvbGVyYW5jZTogbnVtYmVyKTogQ29vcmQgfCBmYWxzZSB7XG5cdFx0bGV0IHBvaW50ID0gdGhpcy5nZXRQb2ludHMoKS5maW5kKGMgPT4ge1xuXHRcdFx0cmV0dXJuIENvb3JkLmRpc3QoY29vcmQsIGMpIDwgdG9sZXJhbmNlO1xuXHRcdH0pO1xuXHRcdHJldHVybiBwb2ludCA/IHBvaW50IDogZmFsc2U7XG5cdH1cblxuXHRzZXRIcmVmKHVybDogc3RyaW5nKTogdGhpcyB7XG5cdFx0dGhpcy5ocmVmID0gdXJsO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cblx0Z2V0SHJlZigpOiBzdHJpbmcge1xuXHRcdHJldHVybiB0aGlzLmhyZWY7XG5cdH1cblxuXHRnZXRIcmVmVmVyYm9zZSgpOiBzdHJpbmcge1xuXHRcdHJldHVybiB0aGlzLmhyZWYgPT09IFwiXCIgPyBcInVuZGVmaW5lZFwiIDogdGhpcy5ocmVmO1xuXHR9XG5cblx0c2V0VGl0bGUodGl0bGU6IHN0cmluZyk6IHRoaXMge1xuXHRcdHRoaXMudGl0bGUgPSB0aXRsZTtcblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXG5cdGdldFRpdGxlKCk6IHN0cmluZyB7XG5cdFx0cmV0dXJuIHRoaXMudGl0bGU7XG5cdH1cblxuXHRzZXRJZChpZDogbnVtYmVyKTogdGhpcyB7XG5cdFx0dGhpcy5pZCA9IGlkO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cblx0Zmlyc3RDb29yZCgpOiBDb29yZCB7XG5cdFx0cmV0dXJuIHRoaXMuY29vcmRzWzBdO1xuXHR9XG5cblx0aHRtbENvb3JkcyhkZWM6IG51bWJlciwgc2NhbGU6IG51bWJlcik6IHN0cmluZyB7XG5cdFx0cmV0dXJuIHRoaXMuZHJhd2luZ0Nvb3JkcygpLm1hcChjID0+IHtcblx0XHRcdHJldHVybiBjLnRvSHRtbChkZWMsIHNjYWxlKTtcblx0XHR9KS5qb2luKCcsJyk7XG5cdH1cblxuXHR0b0h0bWwoc2NhbGU6IG51bWJlciA9IDEpOiBzdHJpbmcge1xuXHRcdGxldCBodG1sQ29vcmRzID0gdGhpcy5odG1sQ29vcmRzKDAsIHNjYWxlKTtcblx0XHRodG1sQ29vcmRzID0gaHRtbENvb3JkcyA/IGBjb29yZHM9XCIke2h0bWxDb29yZHN9XCJgIDogXCJcIjtcblx0XHRjb25zdCBocmVmID0gdGhpcy5ocmVmID8gYGhyZWY9XCIke3RoaXMuaHJlZn1cImAgOiBcIm5vaHJlZlwiO1xuXHRcdGNvbnN0IHRpdGxlID0gdGhpcy50aXRsZSA/IGB0aXRsZT1cIiR7dGhpcy50aXRsZX1cImAgOiBcIlwiO1xuXHRcdHJldHVybiBgPGFyZWEgc2hhcGU9XCIke3RoaXMuc2hhcGV9XCIgJHtodG1sQ29vcmRzfSAke2hyZWZ9IGFsdD1cIiR7dGhpcy5ocmVmfVwiICR7dGl0bGV9IC8+YDtcblx0fVxuXG5cdHRvU3ZnKHNjYWxlID0gMSk6IHN0cmluZyB7XG5cdFx0cmV0dXJuIGA8YSB4bGluazpocmVmPVwiJHt0aGlzLmhyZWZ9XCI+JHt0aGlzLnN2Z0FyZWEoc2NhbGUpfTwvYT5gO1xuXHR9XG5cblx0YWJzdHJhY3QgaXNEcmF3YWJsZSgpOiBib29sZWFuO1xuXHRhYnN0cmFjdCBzdmdBcmVhKHNjYWxlOiBudW1iZXIpOiBzdHJpbmc7XG5cdGFic3RyYWN0IGlzT3Zlcihjb29yZDogQ29vcmQpOiBib29sZWFuO1xuXHRhYnN0cmFjdCBkaXNwbGF5KHA6IHA1KTogdm9pZDtcbn1cblxuZXhwb3J0IGNsYXNzIEFyZWFFbXB0eSBleHRlbmRzIEFyZWEge1xuXHRjb25zdHJ1Y3RvcigpIHtcblx0XHRzdXBlcihcImVtcHR5XCIpO1xuXHR9XG5cdGlzRHJhd2FibGUoKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIGZhbHNlXG5cdH1cblxuXHRzdmdBcmVhKHNjYWxlOiBudW1iZXIpOiBzdHJpbmcge1xuXHRcdHJldHVybiBcIlwiO1xuXHR9XG5cblx0aXNPdmVyKGNvb3JkOiBDb29yZCk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdGRpc3BsYXkocDogcDUpOiB2b2lkIHt9XG59XG5cbmV4cG9ydCBjbGFzcyBBcmVhQ2lyY2xlIGV4dGVuZHMgQXJlYSB7XG5cdC8qKlxuXHQgKiBAcGFyYW0ge0Nvb3JkW119IGNvb3JkcyB0aGUgbGlzdCBvZiBjb29yZGluYXRlc1xuXHQgKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzIHJhZGl1cyBvZiB0aGUgY2lyY2xlXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBocmVmIHRoZSBsaW5rIHRoaXMgYXJlYSBpcyBnb2luZyB0byBwb2ludCB0b1xuXHQgKiBAcGFyYW0ge251bWJlcn0gaWQgdGhlIHVuaXF1ZSBpZFxuXHQgKi9cblx0Y29uc3RydWN0b3IoXG5cdFx0Y29vcmRzOiBDb29yZFtdID0gW10sXG5cdFx0cHVibGljIHJhZGl1czogbnVtYmVyID0gMCxcblx0XHRocmVmOiBzdHJpbmcgPSBcIlwiLFxuXHRcdHRpdGxlOiBzdHJpbmcgPSBcIlwiLFxuXHRcdGlkOiBudW1iZXIgPSAwXG5cdCkge1xuXHRcdHN1cGVyKFwiY2lyY2xlXCIsIGNvb3JkcywgaHJlZiwgdGl0bGUsIGlkKTtcblx0fVxuXG5cdGdldENlbnRlcigpOiBDb29yZCB7XG5cdFx0cmV0dXJuIHRoaXMuZmlyc3RDb29yZCgpO1xuXHR9XG5cblx0aXNWYWxpZFNoYXBlKCk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiBzdXBlci5pc1ZhbGlkU2hhcGUoKSAmJiB0aGlzLnJhZGl1cyA+IDA7XG5cdH1cblxuXHRpc0RyYXdhYmxlKCk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiB0aGlzLmNvb3Jkcy5sZW5ndGggPT0gMTtcblx0fVxuXG5cdGlzT3Zlcihjb29yZDogQ29vcmQpOiBib29sZWFuIHtcblx0XHRsZXQgY2VudGVyID0gdGhpcy5nZXRDZW50ZXIoKTtcblx0XHRyZXR1cm4gQ29vcmQuZGlzdChjb29yZCwgY2VudGVyKSA8IHRoaXMucmFkaXVzO1xuXHR9XG5cblx0dXBkYXRlTGFzdENvb3JkKGNvb3JkOiBDb29yZCk6IHRoaXMge1xuXHRcdGxldCBjZW50ZXIgPSB0aGlzLmdldENlbnRlcigpO1xuXHRcdHRoaXMucmFkaXVzID0gQ29vcmQuZGlzdChjZW50ZXIsIGNvb3JkKTtcblx0XHRyZXR1cm4gdGhpc1xuXHR9XG5cblx0LyoqXG5cdCAqIGRyYXcgdGhlIGFyZWEgdG8gdGhlIGdpdmVuIHA1IGluc3RhbmNlXG5cdCAqIEBwYXJhbSB7cDV9IHA1IFxuXHQgKi9cblx0ZGlzcGxheShwNTogcDUpOiB2b2lkIHtcblx0XHRwNS5lbGxpcHNlKHRoaXMuZ2V0Q2VudGVyKCkueCwgdGhpcy5nZXRDZW50ZXIoKS55LCB0aGlzLnJhZGl1cyAqIDIpO1xuXHR9XG5cblx0aHRtbENvb3JkcyhkZWM6IG51bWJlciwgc2NhbGU6IG51bWJlcik6IHN0cmluZyB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0Q2VudGVyKCkudG9IdG1sKGRlYywgc2NhbGUpICsgXCIsXCIgKyByb3VuZCh0aGlzLnJhZGl1cywgZGVjKTtcblx0fVxuXG5cdHN2Z0FyZWEoc2NhbGU6IG51bWJlcik6IHN0cmluZyB7XG5cdFx0bGV0IHggPSB0aGlzLmNvb3Jkc1swXS50b1N0cigwLCAneCcsIHNjYWxlKTtcblx0XHRsZXQgeSA9IHRoaXMuY29vcmRzWzBdLnRvU3RyKDAsICd5Jywgc2NhbGUpO1xuXHRcdGxldCByID0gcm91bmQodGhpcy5yYWRpdXMsIDApO1xuXHRcdHJldHVybiBgPGNpcmNsZSBjeD1cIiR7eH1cIiBjeT1cIiR7eX1cIiByPVwiJHtyfVwiIC8+YDtcblx0fVxufVxuZXhwb3J0IGNsYXNzIEFyZWFQb2x5IGV4dGVuZHMgQXJlYSB7XG5cdC8qKlxuXHQgKiBAcGFyYW0ge0Nvb3JkW119IGNvb3JkcyB0aGUgbGlzdCBvZiBjb29yZGluYXRlc1xuXHQgKiBAcGFyYW0ge3N0cmluZ30gaHJlZiB0aGUgbGluayB0aGlzIGFyZWEgaXMgZ29pbmcgdG8gcG9pbnQgdG9cblx0ICogQHBhcmFtIHtpbnR9IGlkIHRoZSB1bmlxdWUgaWRcblx0ICovXG5cdGNvbnN0cnVjdG9yKFxuXHRcdGNvb3JkczogQ29vcmRbXSA9IFtdLFxuXHRcdGhyZWY6IHN0cmluZyA9IFwiXCIsXG5cdFx0dGl0bGU6IHN0cmluZyA9IFwiXCIsXG5cdFx0aWQ6IG51bWJlciA9IDAsXG5cdFx0cHVibGljIGNsb3NlZCA9IGZhbHNlXG5cdCkge1xuXHRcdHN1cGVyKFwicG9seVwiLCBjb29yZHMsIGhyZWYsIHRpdGxlLCBpZCk7XG5cdH1cblxuXHRpc0RyYXdhYmxlKCk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiB0aGlzLmNvb3Jkcy5sZW5ndGggPj0gMjtcblx0fVxuXG5cdGlzVmFsaWRTaGFwZSgpOiBib29sZWFuIHtcblx0XHRyZXR1cm4gc3VwZXIuaXNWYWxpZFNoYXBlKCkgJiYgdGhpcy5jbG9zZWQ7XG5cdH1cblxuXHRpc092ZXIoY29vcmQ6IENvb3JkKTogYm9vbGVhbiB7XG5cdFx0bGV0IHggPSBjb29yZC54O1xuXHRcdGxldCB5ID0gY29vcmQueTtcblx0XHRsZXQgY29ybmVyc1ggPSB0aGlzLmNvb3Jkcy5tYXAoYyA9PiB7IHJldHVybiBjLnggfSk7XG5cdFx0bGV0IGNvcm5lcnNZID0gdGhpcy5jb29yZHMubWFwKGMgPT4geyByZXR1cm4gYy55IH0pO1xuXG5cdFx0bGV0IGksIGogPSBjb3JuZXJzWC5sZW5ndGggLSAxO1xuXHRcdGxldCBvZGROb2RlcyA9IDA7XG5cblx0XHRsZXQgcG9seVggPSBjb3JuZXJzWDtcblx0XHRsZXQgcG9seVkgPSBjb3JuZXJzWTtcblxuXHRcdGZvciAoaSA9IDA7IGkgPCBjb3JuZXJzWC5sZW5ndGg7IGkrKykge1xuXHRcdFx0aWYgKChwb2x5WVtpXSA8IHkgJiYgcG9seVlbal0gPj0geSB8fCBwb2x5WVtqXSA8IHkgJiYgcG9seVlbaV0gPj0geSkgJiYgKHBvbHlYW2ldIDw9IHggfHwgcG9seVhbal0gPD0geCkpIHtcblx0XHRcdFx0b2RkTm9kZXMgXj0gKHBvbHlYW2ldICsgKHkgLSBwb2x5WVtpXSkgLyAocG9seVlbal0gLSBwb2x5WVtpXSkgKiAocG9seVhbal0gLSBwb2x5WFtpXSkgPCB4KSA/IDEgOiAwO1xuXHRcdFx0fVxuXHRcdFx0aiA9IGk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIEJvb2xlYW4ob2RkTm9kZXMpO1xuXHR9XG5cblx0aXNDbG9zYWJsZShjb29yZDogQ29vcmQsIHRvbGVyYW5jZTogbnVtYmVyKTogYm9vbGVhbiB7XG5cdFx0bGV0IGRpc3QgPSBDb29yZC5kaXN0KGNvb3JkLCB0aGlzLmZpcnN0Q29vcmQoKSk7XG5cdFx0cmV0dXJuIHRoaXMuY29vcmRzLmxlbmd0aCA+PSA0ICYmIGRpc3QgPCB0b2xlcmFuY2U7XG5cdH1cblxuXHRkcmF3aW5nQ29vcmRzKCk6IENvb3JkW10ge1xuXHRcdGxldCBjb29yZHMgPSBzdXBlci5kcmF3aW5nQ29vcmRzKCk7XG5cdFx0aWYgKHRoaXMuY2xvc2VkKSB7XG5cdFx0XHRjb29yZHMucHVzaCh0aGlzLmZpcnN0Q29vcmQoKSk7XG5cdFx0fVxuXHRcdHJldHVybiBjb29yZHM7XG5cdH1cblxuXHRjbG9zZSgpOiB0aGlzIHtcblx0XHR0aGlzLmNsb3NlZCA9IHRydWU7XG5cdFx0dGhpcy5jb29yZHMucG9wKCk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblxuXHRtb3ZlKGNvb3JkOiBDb29yZCk6IHZvaWQge1xuXHRcdHRoaXMuY29vcmRzLm1hcChjID0+IGMuYWRkKGNvb3JkKSk7XG5cdH1cblxuXHQvKipcblx0ICogZHJhdyB0aGUgYXJlYSB0byB0aGUgZ2l2ZW4gcDUgaW5zdGFuY2Vcblx0ICogQHBhcmFtIHtwNX0gcDUgXG5cdCAqL1xuXHRkaXNwbGF5KHA1OiBwNSk6IHZvaWQge1xuXHRcdHA1LmJlZ2luU2hhcGUoKTtcblx0XHR0aGlzLmRyYXdpbmdDb29yZHMoKS5mb3JFYWNoKGMgPT4gcDUudmVydGV4KGMueCwgYy55KSk7XG5cdFx0cDUuZW5kU2hhcGUoKTtcblx0fVxuXG5cdHN2Z0FyZWEoc2NhbGU6IG51bWJlcik6IHN0cmluZyB7XG5cdFx0bGV0IHBvaW50cyA9IHRoaXMuZHJhd2luZ0Nvb3JkcygpLm1hcChjID0+IHtcblx0XHRcdHJldHVybiBjLnRvU3RyKDAsICd4Jywgc2NhbGUpICsgJywnICsgYy50b1N0cigwLCAneScsIHNjYWxlKTtcblx0XHR9KS5qb2luKCcgJyk7XG5cdFx0cmV0dXJuIGA8cG9seWdvbiBwb2ludHM9XCIke3BvaW50c31cIiAvPmA7XG5cdH1cbn1cblxuZXhwb3J0IGNsYXNzIEFyZWFSZWN0IGV4dGVuZHMgQXJlYVBvbHkge1xuXHQvKipcblx0ICogQHBhcmFtIHtDb29yZFtdfSBjb29yZHMgdGhlIGxpc3Qgb2YgY29vcmRpbmF0ZXNcblx0ICogQHBhcmFtIHtzdHJpbmd9IGhyZWYgdGhlIGxpbmsgdGhpcyBhcmVhIGlzIGdvaW5nIHRvIHBvaW50IHRvXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBpZCB0aGUgdW5pcXVlIGlkXG5cdCAqL1xuXHRjb25zdHJ1Y3Rvcihcblx0XHRjb29yZHM6IENvb3JkW10gPSBbXSxcblx0XHRocmVmOiBzdHJpbmcgPSBcIlwiLFxuXHRcdHRpdGxlOiBzdHJpbmcgPSBcIlwiLFxuXHRcdGlkOiBudW1iZXIgPSAwXG5cdCkge1xuXHRcdHN1cGVyKGNvb3JkcywgaHJlZiwgdGl0bGUsIGlkLCB0cnVlKTtcblx0XHRpZiAodGhpcy5jb29yZHMubGVuZ3RoID4gMCAmJiB0aGlzLmNvb3Jkcy5sZW5ndGggPCA0KSB7XG5cdFx0XHRsZXQgY29vcmQgPSB0aGlzLmZpcnN0Q29vcmQoKTtcblx0XHRcdHRoaXMuY29vcmRzID0gW1xuXHRcdFx0XHRjb29yZCxcblx0XHRcdFx0Y29vcmQuY2xvbmUoKSxcblx0XHRcdFx0Y29vcmQuY2xvbmUoKSxcblx0XHRcdFx0Y29vcmQuY2xvbmUoKSxcblx0XHRcdF07XG5cdFx0fVxuXHR9XG5cblx0aXNWYWxpZFNoYXBlKCk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiBzdXBlci5pc1ZhbGlkU2hhcGUoKSAmJiAhdGhpcy5pc051bGxBcmVhKCk7XG5cdH1cblxuXHRwcml2YXRlIGlzTnVsbEFyZWEoKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIHRoaXMuY29vcmRzWzBdLnggPT0gdGhpcy5jb29yZHNbMV0ueCB8fCB0aGlzLmNvb3Jkc1swXS55ID09IHRoaXMuY29vcmRzWzNdLnk7XG5cdH1cblxuXHR1cGRhdGVMYXN0Q29vcmQoY29vcmQ6IENvb3JkKTogdGhpcyB7XG5cdFx0dGhpcy5jb29yZHNbMV0ueCA9IGNvb3JkLnhcblx0XHR0aGlzLmNvb3Jkc1syXSA9IGNvb3JkO1xuXHRcdHRoaXMuY29vcmRzWzNdLnkgPSBjb29yZC55O1xuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cbn1cblxuZXhwb3J0IGNsYXNzIEFyZWFEZWZhdWx0IGV4dGVuZHMgQXJlYSB7XG5cdHByb3RlY3RlZCBpc0RlZmF1bHQgPSB0cnVlO1xuXHQvKipcblx0ICogQ29uc3RydWN0b3Jcblx0ICogQHBhcmFtIHtzdHJpbmd9IGhyZWYgdGhlIGxpbmsgdGhpcyBhcmVhIGlzIGdvaW5nIHRvIHBvaW50IHRvXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSB0aXRsZSB0aGUgdGl0bGUgb24gaG92ZXJcblx0ICovXG5cdGNvbnN0cnVjdG9yKFxuXHRcdHB1YmxpYyBpTWFwOiBJbWFnZU1hcCxcblx0XHRocmVmOiBzdHJpbmcgPSBcIlwiLFxuXHRcdHRpdGxlOiBzdHJpbmcgPSBcIlwiXG5cdCkge1xuXHRcdHN1cGVyKFwiZGVmYXVsdFwiLCBbXSwgaHJlZiwgdGl0bGUpO1xuXHR9XG5cblx0aXNEcmF3YWJsZSgpOiBib29sZWFuIHtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdGlzT3ZlcigpOiBib29sZWFuIHtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdC8qKlxuXHQgKiBkcmF3IHRoZSBhcmVhIHRvIHRoZSBnaXZlbiBwNSBpbnN0YW5jZVxuXHQgKiBAcGFyYW0ge3A1fSBwNSBcblx0ICovXG5cdGRpc3BsYXkocDU6IHA1KTogdm9pZCB7XG5cdFx0cDUucmVjdCgwLCAwLCB0aGlzLmlNYXAud2lkdGggLSAxLCB0aGlzLmlNYXAuaGVpZ2h0IC0gMSk7XG5cdH1cblxuXHRzdmdBcmVhKHNjYWxlOiBudW1iZXIpOiBzdHJpbmcge1xuXHRcdHJldHVybiAnPHJlY3QgeD1cIjBcIiB5PVwiMFwiIHdpZHRoPVwiMTAwJVwiIGhlaWdodD1cIjEwMCVcIiAvPic7XG5cdH1cbn0iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBTUE7QUFFQTs7Ozs7QUFLQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBTUE7QUFBQTs7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBOztBQUVBO0FBQUE7QUFDQTs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUxBO0FBRUE7O0FBTUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBOztBQUNBO0FBQUE7QUFDQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTEE7QUFLQTs7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBOztBQUVBO0FBQUE7QUFDQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTs7QUFFQTtBQUFBO0FBRUE7Ozs7QUFJQTtBQUNBO0FBRUE7QUFDQTtBQUhBO0FBQ0E7QUFQQTs7QUFZQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7OyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/class.area.ts\n");

/***/ }),

/***/ "./src/class.coord.ts":
/*!****************************!*\
  !*** ./src/class.coord.ts ***!
  \****************************/
/*! exports provided: Coord */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Coord\", function() { return Coord; });\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\n\r\n/**\r\n * Class representing a 2d xy coordinate\r\n*/\r\nvar Coord = /** @class */ (function () {\r\n    function Coord(x, y) {\r\n        if (x === void 0) { x = 0; }\r\n        if (y === void 0) { y = 0; }\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n    Coord.prototype.set = function (x, y) {\r\n        this.x = x;\r\n        this.y = y;\r\n        return this;\r\n    };\r\n    Coord.fromObject = function (obj) {\r\n        return new Coord(obj.x, obj.y);\r\n    };\r\n    /**\r\n     * returns the distance between two xy coordinates\r\n     * @param {Coord} coord1\r\n     * @param {Coord} coord2\r\n     */\r\n    Coord.dist = function (coord1, coord2) {\r\n        return Math.sqrt(Math.pow(coord1.x - coord2.x, 2) + Math.pow(coord1.y - coord2.y, 2));\r\n    };\r\n    /**\r\n     * Exchanges a value between two xy coordinates\r\n     * @param {Coord} coord1\r\n     * @param {Coord} coord2\r\n     * @param {Axle} val\r\n     */\r\n    Coord.swap = function (coord1, coord2, val) {\r\n        var tmp = coord1[val];\r\n        coord1[val] = coord2[val];\r\n        coord2[val] = tmp;\r\n    };\r\n    Coord.prototype.isEmpty = function () {\r\n        return !this.x && !this.y;\r\n    };\r\n    Coord.prototype.oneIsEmpty = function () {\r\n        return !this.x || !this.y;\r\n    };\r\n    /**\r\n     * returns the sum of two xy coordinates\r\n     * @param {Coord} coord\r\n     */\r\n    Coord.prototype.sum = function (coord) {\r\n        return new Coord(this.x + coord.x, this.y + coord.y);\r\n    };\r\n    /**\r\n     * Add the value of the given coordinate to the current one\r\n     * @param {Coord} coord\r\n     */\r\n    Coord.prototype.add = function (coord) {\r\n        this.x += coord.x;\r\n        this.y += coord.y;\r\n        return this;\r\n    };\r\n    /**\r\n     * returns the difference of two xy coordinates\r\n     * @param {Coord} coord\r\n     */\r\n    Coord.prototype.diff = function (coord) {\r\n        return new Coord(this.x - coord.x, this.y - coord.y);\r\n    };\r\n    /**\r\n     * Substract the value of the given coordinate to the current one\r\n     * @param {Coord} coord\r\n     */\r\n    Coord.prototype.sub = function (coord) {\r\n        this.x -= coord.x;\r\n        this.y -= coord.y;\r\n        return this;\r\n    };\r\n    //------------------------ Start Interface Movable -------------------------------\r\n    /**\r\n     * Alias of add\r\n     * @param {Coord} coord\r\n     */\r\n    Coord.prototype.move = function (coord) {\r\n        this.add(coord);\r\n    };\r\n    Coord.prototype.getPosition = function () {\r\n        return this;\r\n    };\r\n    Coord.prototype.setPosition = function (coord) {\r\n        this.set(coord.x, coord.y);\r\n        return this;\r\n    };\r\n    //------------------------- End Interface Movable --------------------------------\r\n    Coord.prototype.clone = function () {\r\n        return new Coord(this.x, this.y);\r\n    };\r\n    Coord.prototype.invert = function () {\r\n        return new Coord(-this.x, -this.y);\r\n    };\r\n    Coord.prototype.toStr = function (dec, val, scale) {\r\n        return Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"round\"])(this[val] * scale, dec).toString();\r\n    };\r\n    Coord.prototype.toHtml = function (dec, scale) {\r\n        if (scale === void 0) { scale = 1; }\r\n        return this.toStr(dec, \"x\", scale) + \",\" + this.toStr(dec, \"y\", scale);\r\n    };\r\n    return Coord;\r\n}());\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2xhc3MuY29vcmQudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY2xhc3MuY29vcmQudHM/NjZjZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyByb3VuZCB9IGZyb20gXCIuL3V0aWxzXCI7XG5pbXBvcnQgeyBNb3ZhYmxlIH0gZnJvbSBcIi4vaW50ZXJmYWNlLm1vdmFibGVcIjtcblxudHlwZSBBeGxlID0gXCJ4XCJ8XCJ5XCI7XG5cbi8qKlxuICogQ2xhc3MgcmVwcmVzZW50aW5nIGEgMmQgeHkgY29vcmRpbmF0ZVxuKi9cbmV4cG9ydCBjbGFzcyBDb29yZCBpbXBsZW1lbnRzIE1vdmFibGUge1xuXG5cdGNvbnN0cnVjdG9yKFxuXHRcdHB1YmxpYyB4OiBudW1iZXIgPSAwLFxuXHRcdHB1YmxpYyB5OiBudW1iZXIgPSAwXG5cdCkge31cblxuXHRzZXQoeDogbnVtYmVyLCB5OiBudW1iZXIpOiB0aGlzIHtcblx0XHR0aGlzLnggPSB4O1xuXHRcdHRoaXMueSA9IHk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblxuXHRzdGF0aWMgZnJvbU9iamVjdChvYmo6IE9iamVjdCk6IENvb3JkIHtcblx0XHRyZXR1cm4gbmV3IENvb3JkKCg8Q29vcmQ+b2JqKS54LCAoPENvb3JkPm9iaikueSk7XG5cdH1cblxuXHQvKipcblx0ICogcmV0dXJucyB0aGUgZGlzdGFuY2UgYmV0d2VlbiB0d28geHkgY29vcmRpbmF0ZXNcblx0ICogQHBhcmFtIHtDb29yZH0gY29vcmQxIFxuXHQgKiBAcGFyYW0ge0Nvb3JkfSBjb29yZDIgXG5cdCAqL1xuXHRzdGF0aWMgZGlzdChjb29yZDE6IENvb3JkLCBjb29yZDI6IENvb3JkKTogbnVtYmVyIHtcblx0XHRyZXR1cm4gTWF0aC5zcXJ0KE1hdGgucG93KGNvb3JkMS54IC0gY29vcmQyLngsIDIpICsgTWF0aC5wb3coY29vcmQxLnkgLSBjb29yZDIueSwgMikpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEV4Y2hhbmdlcyBhIHZhbHVlIGJldHdlZW4gdHdvIHh5IGNvb3JkaW5hdGVzXG5cdCAqIEBwYXJhbSB7Q29vcmR9IGNvb3JkMSBcblx0ICogQHBhcmFtIHtDb29yZH0gY29vcmQyIFxuXHQgKiBAcGFyYW0ge0F4bGV9IHZhbFxuXHQgKi9cblx0c3RhdGljIHN3YXAoY29vcmQxOiBDb29yZCwgY29vcmQyOiBDb29yZCwgdmFsOiBBeGxlKTogdm9pZCB7XG5cdFx0bGV0IHRtcCA9IGNvb3JkMVt2YWxdO1xuXHRcdGNvb3JkMVt2YWxdID0gY29vcmQyW3ZhbF07XG5cdFx0Y29vcmQyW3ZhbF0gPSB0bXA7XG5cdH1cblxuXHRpc0VtcHR5KCk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiAhdGhpcy54ICYmICF0aGlzLnk7XG5cdH1cblxuXHRvbmVJc0VtcHR5KCk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiAhdGhpcy54IHx8ICF0aGlzLnlcblx0fVxuXG5cdC8qKlxuXHQgKiByZXR1cm5zIHRoZSBzdW0gb2YgdHdvIHh5IGNvb3JkaW5hdGVzXG5cdCAqIEBwYXJhbSB7Q29vcmR9IGNvb3JkIFxuXHQgKi9cblx0c3VtKGNvb3JkOiBDb29yZCk6IENvb3JkIHtcblx0XHRyZXR1cm4gbmV3IENvb3JkKHRoaXMueCArIGNvb3JkLngsIHRoaXMueSArIGNvb3JkLnkpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEFkZCB0aGUgdmFsdWUgb2YgdGhlIGdpdmVuIGNvb3JkaW5hdGUgdG8gdGhlIGN1cnJlbnQgb25lXG5cdCAqIEBwYXJhbSB7Q29vcmR9IGNvb3JkIFxuXHQgKi9cblx0YWRkKGNvb3JkOiBDb29yZCk6IHRoaXMge1xuXHRcdHRoaXMueCArPSBjb29yZC54O1xuXHRcdHRoaXMueSArPSBjb29yZC55O1xuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cblx0LyoqXG5cdCAqIHJldHVybnMgdGhlIGRpZmZlcmVuY2Ugb2YgdHdvIHh5IGNvb3JkaW5hdGVzXG5cdCAqIEBwYXJhbSB7Q29vcmR9IGNvb3JkIFxuXHQgKi9cblx0ZGlmZihjb29yZDogQ29vcmQpOiBDb29yZCB7XG5cdFx0cmV0dXJuIG5ldyBDb29yZCh0aGlzLnggLSBjb29yZC54LCB0aGlzLnkgLSBjb29yZC55KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBTdWJzdHJhY3QgdGhlIHZhbHVlIG9mIHRoZSBnaXZlbiBjb29yZGluYXRlIHRvIHRoZSBjdXJyZW50IG9uZVxuXHQgKiBAcGFyYW0ge0Nvb3JkfSBjb29yZCBcblx0ICovXG5cdHN1Yihjb29yZDogQ29vcmQpOiB0aGlzIHtcblx0XHR0aGlzLnggLT0gY29vcmQueDtcblx0XHR0aGlzLnkgLT0gY29vcmQueTtcblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXG5cdC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFN0YXJ0IEludGVyZmFjZSBNb3ZhYmxlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblx0LyoqXG5cdCAqIEFsaWFzIG9mIGFkZFxuXHQgKiBAcGFyYW0ge0Nvb3JkfSBjb29yZFxuXHQgKi9cblx0bW92ZShjb29yZDogQ29vcmQpOiB2b2lkIHtcblx0XHR0aGlzLmFkZChjb29yZCk7XG5cdH1cblxuXHRnZXRQb3NpdGlvbigpOiBDb29yZCB7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblxuXHRzZXRQb3NpdGlvbihjb29yZDogQ29vcmQpOiB0aGlzIHtcblx0XHR0aGlzLnNldChjb29yZC54LCBjb29yZC55KTtcblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXHQvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gRW5kIEludGVyZmFjZSBNb3ZhYmxlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cblx0Y2xvbmUoKTogQ29vcmQge1xuXHRcdHJldHVybiBuZXcgQ29vcmQodGhpcy54LCB0aGlzLnkpO1xuXHR9XG5cblx0aW52ZXJ0KCk6IENvb3JkIHtcblx0XHRyZXR1cm4gbmV3IENvb3JkKC0gdGhpcy54LCAtdGhpcy55KTtcblx0fVxuXG5cdHRvU3RyKGRlYzogbnVtYmVyLCB2YWw6IEF4bGUsIHNjYWxlOiBudW1iZXIpOiBzdHJpbmcge1xuXHRcdHJldHVybiByb3VuZCh0aGlzW3ZhbF0gKiBzY2FsZSwgZGVjKS50b1N0cmluZygpO1xuXHR9XG5cblx0dG9IdG1sKGRlYzogbnVtYmVyLCBzY2FsZSA9IDEpOiBzdHJpbmcge1xuXHRcdHJldHVybiB0aGlzLnRvU3RyKGRlYywgXCJ4XCIsIHNjYWxlKSArIFwiLFwiICsgdGhpcy50b1N0cihkZWMsIFwieVwiLCBzY2FsZSk7XG5cdH1cblxufSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFLQTs7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFBQTs7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/class.coord.ts\n");

/***/ }),

/***/ "./src/class.image-map.ts":
/*!********************************!*\
  !*** ./src/class.image-map.ts ***!
  \********************************/
/*! exports provided: ImageMap */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ImageMap\", function() { return ImageMap; });\n/* harmony import */ var _class_area__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./class.area */ \"./src/class.area.ts\");\n\r\nvar ImageMap = /** @class */ (function () {\r\n    /**\r\n     * Contructor\r\n     * @param {Area[]} areas\r\n     * @param {string} name\r\n     * @param {boolean} hasDefaultArea\r\n     */\r\n    function ImageMap(width, height, areas, name, hasDefaultArea) {\r\n        if (areas === void 0) { areas = []; }\r\n        if (name === void 0) { name = \"\"; }\r\n        if (hasDefaultArea === void 0) { hasDefaultArea = false; }\r\n        this.width = width;\r\n        this.height = height;\r\n        this.areas = areas;\r\n        this.name = name;\r\n        this.hasDefaultArea = hasDefaultArea;\r\n        this.dArea = new _class_area__WEBPACK_IMPORTED_MODULE_0__[\"AreaDefault\"](this);\r\n        this.lastId = 0;\r\n    }\r\n    ImageMap.prototype.setFromObject = function (obj) {\r\n        var iMap = obj;\r\n        iMap.dArea.iMap = this;\r\n        this.width = iMap.width;\r\n        this.height = iMap.height;\r\n        this.areas = iMap.areas.map(_class_area__WEBPACK_IMPORTED_MODULE_0__[\"Area\"].fromObject);\r\n        this.name = iMap.name;\r\n        this.hasDefaultArea = iMap.hasDefaultArea;\r\n        this.dArea = _class_area__WEBPACK_IMPORTED_MODULE_0__[\"Area\"].fromObject(iMap.dArea);\r\n        return this;\r\n    };\r\n    ImageMap.prototype.setName = function (name) {\r\n        if (name) {\r\n            this.name = name.replace(/\\s+/g, \"\");\r\n        }\r\n        return this;\r\n    };\r\n    ImageMap.prototype.getName = function () {\r\n        return this.name;\r\n    };\r\n    ImageMap.prototype.setSize = function (width, height) {\r\n        this.width = width;\r\n        this.height = height;\r\n        return this;\r\n    };\r\n    ImageMap.prototype.setDefaultArea = function (bool) {\r\n        this.hasDefaultArea = bool;\r\n        return this;\r\n    };\r\n    /**\r\n     * Returns a copy of the area of the imageMap\r\n     * @param {boolean} all with the default area (if exist) or not (default: true)\r\n     * @returns {Area[]} a copy of the areas\r\n     */\r\n    ImageMap.prototype.getAreas = function (all) {\r\n        if (all === void 0) { all = true; }\r\n        var areas = this.areas.slice();\r\n        if (all && this.hasDefaultArea)\r\n            areas.push(this.dArea);\r\n        return areas;\r\n    };\r\n    ImageMap.prototype.isEmpty = function () {\r\n        return this.getAreas().length == 0;\r\n    };\r\n    /**\r\n     * Adds an Area at the end of the areas array, and returns the last inserted Area's id\r\n     * @param {Area} area an area\r\n     */\r\n    ImageMap.prototype.addArea = function (area, setId) {\r\n        if (setId === void 0) { setId = true; }\r\n        if (setId)\r\n            area.setId(this.getNewId());\r\n        this.areas.unshift(area);\r\n        return area.id;\r\n    };\r\n    ImageMap.prototype.rmvArea = function (id) {\r\n        var index = this.areaIndex(id);\r\n        this.areas.splice(index, 1);\r\n        return index;\r\n    };\r\n    /**\r\n     * Move an area up or down in the areas array\r\n     * @param {number} id\r\n     * @param {number} direction\r\n     */\r\n    ImageMap.prototype.moveArea = function (id, direction) {\r\n        var index = this.areaIndex(id);\r\n        var area = this.areas[index];\r\n        var nextIndex = index + direction;\r\n        if (nextIndex < 0 || nextIndex >= this.areas.length)\r\n            return false;\r\n        this.rmvArea(id);\r\n        this.insertArea(area, nextIndex);\r\n        return nextIndex;\r\n    };\r\n    ImageMap.prototype.shiftArea = function () {\r\n        return this.areas.shift();\r\n    };\r\n    ImageMap.prototype.popArea = function () {\r\n        return this.areas.pop();\r\n    };\r\n    ImageMap.prototype.insertArea = function (area, index) {\r\n        this.areas.splice(index, 0, area);\r\n        return this.areas.length;\r\n    };\r\n    ImageMap.prototype.areaIndex = function (id) {\r\n        return this.areas.findIndex(function (a) {\r\n            return a.id == id;\r\n        });\r\n    };\r\n    ImageMap.prototype.isFirstArea = function (id) {\r\n        return this.areaIndex(id) == 0;\r\n    };\r\n    ImageMap.prototype.isLastArea = function (id) {\r\n        return this.areaIndex(id) == this.areas.length - 1;\r\n    };\r\n    ImageMap.prototype.getNewId = function () {\r\n        this.lastId++;\r\n        return this.lastId;\r\n    };\r\n    ImageMap.prototype.toHtml = function (scale) {\r\n        if (scale === void 0) { scale = 1; }\r\n        var areas = [];\r\n        this.getAreas().forEach(function (a) {\r\n            if (a.isValidShape()) {\r\n                areas.push('\\t' + a.toHtml(scale));\r\n            }\r\n        });\r\n        return '<map name=\"' + this.name + '\" id=\"' + this.name + '\">\\n' + areas.join('\\n') + '\\n</map>';\r\n    };\r\n    ImageMap.prototype.toSvg = function (scale) {\r\n        if (scale === void 0) { scale = 1; }\r\n        var areas = [];\r\n        this.getAreas(false).forEach(function (a) {\r\n            if (a.isValidShape()) {\r\n                areas.push('\\t' + a.toSvg(scale));\r\n            }\r\n        });\r\n        var str = '<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"' + this.width + '\" height=\"' + this.height + '\">\\n';\r\n        str += areas.join('\\n');\r\n        str += '\\n</svg>';\r\n        localStorage.setItem(\"floorSvg\", str);\r\n        return str;\r\n    };\r\n    /** Removes every areas from the areas array */\r\n    ImageMap.prototype.clearAreas = function () {\r\n        this.areas = [];\r\n        return this;\r\n    };\r\n    ImageMap.prototype.setAreas = function (areas) {\r\n        this.areas = areas;\r\n        return this;\r\n    };\r\n    return ImageMap;\r\n}());\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2xhc3MuaW1hZ2UtbWFwLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NsYXNzLmltYWdlLW1hcC50cz9kOWEyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFyZWEsIEFyZWFEZWZhdWx0IH0gZnJvbSBcIi4vY2xhc3MuYXJlYVwiO1xuXG5leHBvcnQgY2xhc3MgSW1hZ2VNYXAge1xuXG5cdHByb3RlY3RlZCBkQXJlYTogQXJlYURlZmF1bHQgPSBuZXcgQXJlYURlZmF1bHQodGhpcyk7XG5cdHByb3RlY3RlZCBsYXN0SWQ6IG51bWJlciA9IDA7XG5cblx0LyoqXG5cdCAqIENvbnRydWN0b3Jcblx0ICogQHBhcmFtIHtBcmVhW119IGFyZWFzIFxuXHQgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBcblx0ICogQHBhcmFtIHtib29sZWFufSBoYXNEZWZhdWx0QXJlYVxuXHQgKi9cblx0Y29uc3RydWN0b3IoXG5cdFx0cHVibGljIHdpZHRoOiBudW1iZXIsXG5cdFx0cHVibGljIGhlaWdodDogbnVtYmVyLFxuXHRcdHByb3RlY3RlZCBhcmVhczogQXJlYVtdID0gW10sXG5cdFx0cHJvdGVjdGVkIG5hbWU6IHN0cmluZyA9IFwiXCIsXG5cdFx0cHVibGljIGhhc0RlZmF1bHRBcmVhOiBib29sZWFuID0gZmFsc2Vcblx0KSB7fVxuXG5cdHNldEZyb21PYmplY3Qob2JqOiBPYmplY3QpOiB0aGlzIHtcblx0XHRjb25zdCBpTWFwID0gb2JqIGFzIEltYWdlTWFwO1xuXHRcdGlNYXAuZEFyZWEuaU1hcCA9IHRoaXM7XG5cdFx0dGhpcy53aWR0aCA9IGlNYXAud2lkdGg7XG5cdFx0dGhpcy5oZWlnaHQgPSBpTWFwLmhlaWdodDtcblx0XHR0aGlzLmFyZWFzID0gaU1hcC5hcmVhcy5tYXAoQXJlYS5mcm9tT2JqZWN0KTtcblx0XHR0aGlzLm5hbWUgPSBpTWFwLm5hbWU7XG5cdFx0dGhpcy5oYXNEZWZhdWx0QXJlYSA9IGlNYXAuaGFzRGVmYXVsdEFyZWE7XG5cdFx0dGhpcy5kQXJlYSA9IEFyZWEuZnJvbU9iamVjdChpTWFwLmRBcmVhKSBhcyBBcmVhRGVmYXVsdDtcblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXG5cdHNldE5hbWUobmFtZTogc3RyaW5nKTogdGhpcyB7XG5cdFx0aWYgKG5hbWUpIHtcblx0XHRcdHRoaXMubmFtZSA9IG5hbWUucmVwbGFjZSgvXFxzKy9nLCBcIlwiKTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblxuXHRnZXROYW1lKCk6IHN0cmluZyB7XG5cdFx0cmV0dXJuIHRoaXMubmFtZTtcblx0fVxuXG5cdHNldFNpemUod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpOiB0aGlzIHtcblx0XHR0aGlzLndpZHRoID0gd2lkdGg7XG5cdFx0dGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblxuXHRzZXREZWZhdWx0QXJlYShib29sOiBib29sZWFuKTogdGhpcyB7XG5cdFx0dGhpcy5oYXNEZWZhdWx0QXJlYSA9IGJvb2w7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblxuXHQvKipcblx0ICogUmV0dXJucyBhIGNvcHkgb2YgdGhlIGFyZWEgb2YgdGhlIGltYWdlTWFwXG5cdCAqIEBwYXJhbSB7Ym9vbGVhbn0gYWxsIHdpdGggdGhlIGRlZmF1bHQgYXJlYSAoaWYgZXhpc3QpIG9yIG5vdCAoZGVmYXVsdDogdHJ1ZSlcblx0ICogQHJldHVybnMge0FyZWFbXX0gYSBjb3B5IG9mIHRoZSBhcmVhc1xuXHQgKi9cblx0Z2V0QXJlYXMoYWxsOiBib29sZWFuID0gdHJ1ZSk6IEFyZWFbXSB7XG5cdFx0bGV0IGFyZWFzID0gdGhpcy5hcmVhcy5zbGljZSgpO1xuXHRcdGlmIChhbGwgJiYgdGhpcy5oYXNEZWZhdWx0QXJlYSkgYXJlYXMucHVzaCh0aGlzLmRBcmVhKTtcblx0XHRyZXR1cm4gYXJlYXM7XG5cdH1cblxuXHRpc0VtcHR5KCk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiB0aGlzLmdldEFyZWFzKCkubGVuZ3RoID09IDA7XG5cdH1cblxuXHQvKipcblx0ICogQWRkcyBhbiBBcmVhIGF0IHRoZSBlbmQgb2YgdGhlIGFyZWFzIGFycmF5LCBhbmQgcmV0dXJucyB0aGUgbGFzdCBpbnNlcnRlZCBBcmVhJ3MgaWRcblx0ICogQHBhcmFtIHtBcmVhfSBhcmVhIGFuIGFyZWFcblx0ICovXG5cdGFkZEFyZWEoYXJlYTogQXJlYSwgc2V0SWQgPSB0cnVlKTogbnVtYmVyIHtcblx0XHRpZiAoc2V0SWQpXG5cdFx0XHRhcmVhLnNldElkKHRoaXMuZ2V0TmV3SWQoKSk7XG5cdFx0dGhpcy5hcmVhcy51bnNoaWZ0KGFyZWEpO1xuXHRcdHJldHVybiBhcmVhLmlkO1xuXHR9XG5cblx0cm12QXJlYShpZDogbnVtYmVyKTogbnVtYmVyIHtcblx0XHRsZXQgaW5kZXggPSB0aGlzLmFyZWFJbmRleChpZCk7XG5cdFx0dGhpcy5hcmVhcy5zcGxpY2UoaW5kZXgsIDEpO1xuXHRcdHJldHVybiBpbmRleDtcblx0fVxuXG5cdC8qKlxuXHQgKiBNb3ZlIGFuIGFyZWEgdXAgb3IgZG93biBpbiB0aGUgYXJlYXMgYXJyYXlcblx0ICogQHBhcmFtIHtudW1iZXJ9IGlkIFxuXHQgKiBAcGFyYW0ge251bWJlcn0gZGlyZWN0aW9uIFxuXHQgKi9cblx0bW92ZUFyZWEoaWQ6IG51bWJlciwgZGlyZWN0aW9uOiBudW1iZXIpOiBudW1iZXJ8ZmFsc2Uge1xuXHRcdGxldCBpbmRleCA9IHRoaXMuYXJlYUluZGV4KGlkKTtcblx0XHRsZXQgYXJlYSA9IHRoaXMuYXJlYXNbaW5kZXhdO1xuXHRcdGxldCBuZXh0SW5kZXggPSBpbmRleCArIGRpcmVjdGlvbjtcblx0XHRpZiAobmV4dEluZGV4IDwgMCB8fCBuZXh0SW5kZXggPj0gdGhpcy5hcmVhcy5sZW5ndGgpXG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0dGhpcy5ybXZBcmVhKGlkKTtcblx0XHR0aGlzLmluc2VydEFyZWEoYXJlYSwgbmV4dEluZGV4KTtcblx0XHRyZXR1cm4gbmV4dEluZGV4O1xuXHR9XG5cblx0c2hpZnRBcmVhKCk6IEFyZWF8dW5kZWZpbmVkIHtcblx0XHRyZXR1cm4gdGhpcy5hcmVhcy5zaGlmdCgpO1xuXHR9XG5cblx0cG9wQXJlYSgpOiBBcmVhfHVuZGVmaW5lZCB7XG5cdFx0cmV0dXJuIHRoaXMuYXJlYXMucG9wKCk7XG5cdH1cblxuXHRpbnNlcnRBcmVhKGFyZWE6IEFyZWEsIGluZGV4OiBudW1iZXIpOiBudW1iZXIge1xuXHRcdHRoaXMuYXJlYXMuc3BsaWNlKGluZGV4LCAwLCBhcmVhKTtcblx0XHRyZXR1cm4gdGhpcy5hcmVhcy5sZW5ndGg7XG5cdH1cblxuXHRhcmVhSW5kZXgoaWQ6IG51bWJlcik6IG51bWJlciB7XG5cdFx0cmV0dXJuIHRoaXMuYXJlYXMuZmluZEluZGV4KGEgPT4ge1xuXHRcdFx0cmV0dXJuIGEuaWQgPT0gaWQ7XG5cdFx0fSk7XG5cdH1cblxuXHRpc0ZpcnN0QXJlYShpZDogbnVtYmVyKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIHRoaXMuYXJlYUluZGV4KGlkKSA9PSAwO1xuXHR9XG5cblx0aXNMYXN0QXJlYShpZDogbnVtYmVyKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIHRoaXMuYXJlYUluZGV4KGlkKSA9PSB0aGlzLmFyZWFzLmxlbmd0aCAtIDE7XG5cdH1cblxuXHRnZXROZXdJZCgpOiBudW1iZXIge1xuXHRcdHRoaXMubGFzdElkKys7XG5cdFx0cmV0dXJuIHRoaXMubGFzdElkO1xuXHR9XG5cblx0dG9IdG1sKHNjYWxlID0gMSk6IHN0cmluZyB7XG5cdFx0bGV0IGFyZWFzOiBzdHJpbmdbXSA9IFtdO1xuXHRcdHRoaXMuZ2V0QXJlYXMoKS5mb3JFYWNoKGEgPT4ge1xuXHRcdFx0aWYgKGEuaXNWYWxpZFNoYXBlKCkpIHtcblx0XHRcdFx0YXJlYXMucHVzaCgnXFx0JyArIGEudG9IdG1sKHNjYWxlKSk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0cmV0dXJuICc8bWFwIG5hbWU9XCInICsgdGhpcy5uYW1lICsgJ1wiIGlkPVwiJyArIHRoaXMubmFtZSArICdcIj5cXG4nICsgYXJlYXMuam9pbignXFxuJykgKyAnXFxuPC9tYXA+Jztcblx0fVxuXG5cdHRvU3ZnKHNjYWxlID0gMSk6IHN0cmluZyB7XG5cdFx0bGV0IGFyZWFzOiBzdHJpbmdbXSA9IFtdO1xuXHRcdHRoaXMuZ2V0QXJlYXMoZmFsc2UpLmZvckVhY2goYSA9PiB7XG5cdFx0XHRpZiAoYS5pc1ZhbGlkU2hhcGUoKSkge1xuXHRcdFx0XHRhcmVhcy5wdXNoKCdcXHQnICsgYS50b1N2ZyhzY2FsZSkpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdGxldCBzdHIgPSAnPHN2ZyB2ZXJzaW9uPVwiMS4xXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHhtbG5zOnhsaW5rPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiIHdpZHRoPVwiJyArIHRoaXMud2lkdGggKyAnXCIgaGVpZ2h0PVwiJyArIHRoaXMuaGVpZ2h0ICsgJ1wiPlxcbic7XG5cdFx0c3RyICs9IGFyZWFzLmpvaW4oJ1xcbicpO1xuXHRcdHN0ciArPSAnXFxuPC9zdmc+Jztcblx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImZsb29yU3ZnXCIsc3RyKTtcblx0XHRyZXR1cm4gc3RyO1xuXHR9XG5cblx0LyoqIFJlbW92ZXMgZXZlcnkgYXJlYXMgZnJvbSB0aGUgYXJlYXMgYXJyYXkgKi9cblx0Y2xlYXJBcmVhcygpOiB0aGlzIHtcblx0XHR0aGlzLmFyZWFzID0gW107XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblxuXHRzZXRBcmVhcyhhcmVhczogQXJlYVtdKTogdGhpcyB7XG5cdFx0dGhpcy5hcmVhcyA9IGFyZWFzO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cbn0iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFLQTs7Ozs7QUFLQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWRBO0FBQ0E7QUFjQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7OztBQUlBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7OyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/class.image-map.ts\n");

/***/ }),

/***/ "./src/class.selection.ts":
/*!********************************!*\
  !*** ./src/class.selection.ts ***!
  \********************************/
/*! exports provided: Selection */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Selection\", function() { return Selection; });\n/* harmony import */ var _class_coord__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./class.coord */ \"./src/class.coord.ts\");\n//@ts-check\r\n\r\nvar Selection = /** @class */ (function () {\r\n    function Selection() {\r\n        this.origin = new _class_coord__WEBPACK_IMPORTED_MODULE_0__[\"Coord\"]();\r\n        this.position = this.origin.clone();\r\n        this.areas = new Map;\r\n        this.points = new Map;\r\n    }\r\n    Selection.prototype.resetOrigin = function (coord) {\r\n        if (coord === void 0) { coord = new _class_coord__WEBPACK_IMPORTED_MODULE_0__[\"Coord\"](); }\r\n        this.origin = coord.clone();\r\n        this.position = coord;\r\n        this.addPoint(coord);\r\n    };\r\n    /**\r\n     * Register an Area as a part of the selection\r\n     */\r\n    Selection.prototype.registerArea = function (area) {\r\n        this.areas.set(area.getId(), area);\r\n    };\r\n    /**\r\n     * Add Area and its points to the selection\r\n     */\r\n    Selection.prototype.addArea = function (area) {\r\n        var _this = this;\r\n        this.registerArea(area);\r\n        area.getCoords().forEach(function (p) { return _this.addPoint(p); });\r\n    };\r\n    Selection.prototype.addPoint = function (point) {\r\n        var prev = this.points.get(point) || 0;\r\n        this.points.set(point, prev + 1);\r\n    };\r\n    Selection.prototype.containsArea = function (area) {\r\n        return this.areas.has(area.getId());\r\n    };\r\n    Selection.prototype.containsPoint = function (point) {\r\n        return this.points.has(point);\r\n    };\r\n    Selection.prototype.distToOrigin = function () {\r\n        return this.getPosition().diff(this.origin);\r\n    };\r\n    Selection.prototype.clear = function () {\r\n        this.areas.clear();\r\n        this.points.clear();\r\n        this.origin = new _class_coord__WEBPACK_IMPORTED_MODULE_0__[\"Coord\"]();\r\n    };\r\n    Selection.prototype.isEmpty = function () {\r\n        return this.points.size == 0;\r\n    };\r\n    //------------------------ Start Interface Movable -------------------------------\r\n    Selection.prototype.move = function (coord) {\r\n        this.points.forEach(function (nb, c) {\r\n            c.move(coord);\r\n        });\r\n    };\r\n    Selection.prototype.getPosition = function () {\r\n        return this.position;\r\n    };\r\n    Selection.prototype.setPosition = function (coord) {\r\n        var move = coord.diff(this.position);\r\n        this.move(move);\r\n    };\r\n    return Selection;\r\n}());\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2xhc3Muc2VsZWN0aW9uLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NsYXNzLnNlbGVjdGlvbi50cz8wN2EyIl0sInNvdXJjZXNDb250ZW50IjpbIi8vQHRzLWNoZWNrXG5cbmltcG9ydCB7IEFyZWEgfSBmcm9tIFwiLi9jbGFzcy5hcmVhXCI7XG5pbXBvcnQgeyBDb29yZCB9IGZyb20gXCIuL2NsYXNzLmNvb3JkXCI7XG5cbmV4cG9ydCBjbGFzcyBTZWxlY3Rpb24ge1xuXHRwcm90ZWN0ZWQgb3JpZ2luOiBDb29yZCA9IG5ldyBDb29yZCgpO1xuXHRwcm90ZWN0ZWQgcG9zaXRpb246IENvb3JkID0gdGhpcy5vcmlnaW4uY2xvbmUoKTtcblx0cHJvdGVjdGVkIGFyZWFzOiBNYXA8bnVtYmVyLCBBcmVhPiA9IG5ldyBNYXA7XG5cdHByb3RlY3RlZCBwb2ludHM6IE1hcDxDb29yZCwgbnVtYmVyPiA9IG5ldyBNYXA7XG5cblx0Y29uc3RydWN0b3IoKSB7fVxuXG5cdHJlc2V0T3JpZ2luKGNvb3JkOiBDb29yZCA9IG5ldyBDb29yZCgpKTogdm9pZCB7XG5cdFx0dGhpcy5vcmlnaW4gPSBjb29yZC5jbG9uZSgpO1xuXHRcdHRoaXMucG9zaXRpb24gPSBjb29yZDtcblx0XHR0aGlzLmFkZFBvaW50KGNvb3JkKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBSZWdpc3RlciBhbiBBcmVhIGFzIGEgcGFydCBvZiB0aGUgc2VsZWN0aW9uXG5cdCAqL1xuXHRyZWdpc3RlckFyZWEoYXJlYTogQXJlYSk6IHZvaWQge1xuXHRcdHRoaXMuYXJlYXMuc2V0KGFyZWEuZ2V0SWQoKSwgYXJlYSk7XG5cdH1cblxuXHQvKipcblx0ICogQWRkIEFyZWEgYW5kIGl0cyBwb2ludHMgdG8gdGhlIHNlbGVjdGlvblxuXHQgKi9cblx0YWRkQXJlYShhcmVhOiBBcmVhKTogdm9pZCB7XG5cdFx0dGhpcy5yZWdpc3RlckFyZWEoYXJlYSk7XG5cdFx0YXJlYS5nZXRDb29yZHMoKS5mb3JFYWNoKChwOiBDb29yZCkgPT4gdGhpcy5hZGRQb2ludChwKSk7XG5cdH1cblxuXHRhZGRQb2ludChwb2ludDogQ29vcmQpOiB2b2lkIHtcblx0XHRjb25zdCBwcmV2ID0gdGhpcy5wb2ludHMuZ2V0KHBvaW50KSB8fCAwO1xuXHRcdHRoaXMucG9pbnRzLnNldChwb2ludCwgcHJldiArIDEpO1xuXHR9XG5cblx0Y29udGFpbnNBcmVhKGFyZWE6IEFyZWEpOiBib29sZWFuIHtcblx0XHRyZXR1cm4gdGhpcy5hcmVhcy5oYXMoYXJlYS5nZXRJZCgpKTtcblx0fVxuXG5cdGNvbnRhaW5zUG9pbnQocG9pbnQ6IENvb3JkKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIHRoaXMucG9pbnRzLmhhcyhwb2ludCk7XG5cdH1cblxuXHRkaXN0VG9PcmlnaW4oKTogQ29vcmQge1xuXHRcdHJldHVybiB0aGlzLmdldFBvc2l0aW9uKCkuZGlmZih0aGlzLm9yaWdpbik7XG5cdH1cblxuXHRjbGVhcigpOiB2b2lkIHtcblx0XHR0aGlzLmFyZWFzLmNsZWFyKCk7XG5cdFx0dGhpcy5wb2ludHMuY2xlYXIoKTtcblx0XHR0aGlzLm9yaWdpbiA9IG5ldyBDb29yZCgpO1xuXHR9XG5cblx0aXNFbXB0eSgpOiBib29sZWFuIHtcblx0XHRyZXR1cm4gdGhpcy5wb2ludHMuc2l6ZSA9PSAwO1xuXHR9XG5cblx0Ly8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gU3RhcnQgSW50ZXJmYWNlIE1vdmFibGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXHRtb3ZlKGNvb3JkOiBDb29yZCk6IHZvaWQge1xuXHRcdHRoaXMucG9pbnRzLmZvckVhY2goKG5iOiBudW1iZXIsIGM6IENvb3JkKTogdm9pZCA9PiB7XG5cdFx0XHRjLm1vdmUoY29vcmQpO1xuXHRcdH0pO1xuXHR9XG5cblx0Z2V0UG9zaXRpb24oKTogQ29vcmQge1xuXHRcdHJldHVybiB0aGlzLnBvc2l0aW9uO1xuXHR9XG5cblx0c2V0UG9zaXRpb24oY29vcmQ6IENvb3JkKTogdm9pZCB7XG5cdFx0Y29uc3QgbW92ZSA9IGNvb3JkLmRpZmYodGhpcy5wb3NpdGlvbik7XG5cdFx0dGhpcy5tb3ZlKG1vdmUpO1xuXHR9XG5cdC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBFbmQgSW50ZXJmYWNlIE1vdmFibGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbn0iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFFQTtBQU1BO0FBTEE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBOzsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/class.selection.ts\n");

/***/ }),

/***/ "./src/p5.bg-layer.ts":
/*!****************************!*\
  !*** ./src/p5.bg-layer.ts ***!
  \****************************/
/*! exports provided: BgLayer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BgLayer\", function() { return BgLayer; });\n//@ts-check\r\n/**\r\n * Class representing the semi transparent layer which can appear on top of the background\r\n * @param {number} speed the speed of the opacity animation (1-255, default 15)\r\n */\r\nvar BgLayer = /** @class */ (function () {\r\n    function BgLayer(iMap, speed, alpha, over) {\r\n        if (speed === void 0) { speed = 15; }\r\n        if (alpha === void 0) { alpha = 0; }\r\n        if (over === void 0) { over = false; }\r\n        this.iMap = iMap;\r\n        this.speed = speed;\r\n        this.alpha = alpha;\r\n        this.over = over;\r\n    }\r\n    BgLayer.prototype.appear = function () {\r\n        this.over = true;\r\n    };\r\n    BgLayer.prototype.disappear = function () {\r\n        this.over = false;\r\n    };\r\n    BgLayer.prototype.display = function () {\r\n        if (this.over) {\r\n            if (this.alpha < 100)\r\n                this.alpha += this.speed;\r\n        }\r\n        else {\r\n            if (this.alpha > 0)\r\n                this.alpha -= this.speed;\r\n        }\r\n        this.iMap.p5.noStroke();\r\n        this.iMap.p5.fill(255, 255, 255, this.alpha);\r\n        this.iMap.p5.rect(this.iMap.trueX(0), this.iMap.trueY(0), this.iMap.p5.width / this.iMap.view.scale, this.iMap.p5.height / this.iMap.view.scale);\r\n    };\r\n    return BgLayer;\r\n}());\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcDUuYmctbGF5ZXIudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcDUuYmctbGF5ZXIudHM/OTg0ZiJdLCJzb3VyY2VzQ29udGVudCI6WyIvL0B0cy1jaGVja1xuXG5pbXBvcnQgeyBpbWFnZU1hcENyZWF0b3IgfSBmcm9tIFwiLi9wNS5pbWFnZS1tYXAtY3JlYXRvclwiO1xuXG4vKipcbiAqIENsYXNzIHJlcHJlc2VudGluZyB0aGUgc2VtaSB0cmFuc3BhcmVudCBsYXllciB3aGljaCBjYW4gYXBwZWFyIG9uIHRvcCBvZiB0aGUgYmFja2dyb3VuZFxuICogQHBhcmFtIHtudW1iZXJ9IHNwZWVkIHRoZSBzcGVlZCBvZiB0aGUgb3BhY2l0eSBhbmltYXRpb24gKDEtMjU1LCBkZWZhdWx0IDE1KVxuICovXG5leHBvcnQgY2xhc3MgQmdMYXllciB7XG5cblx0Y29uc3RydWN0b3IoXG5cdFx0cHJvdGVjdGVkIGlNYXA6IGltYWdlTWFwQ3JlYXRvcixcblx0XHRwcm90ZWN0ZWQgc3BlZWQgPSAxNSxcblx0XHRwcm90ZWN0ZWQgYWxwaGEgPSAwLFxuXHRcdHByb3RlY3RlZCBvdmVyID0gZmFsc2Vcblx0KSB7fVxuXG5cdGFwcGVhcigpIHtcblx0XHR0aGlzLm92ZXIgPSB0cnVlO1xuXHR9XG5cblx0ZGlzYXBwZWFyKCkge1xuXHRcdHRoaXMub3ZlciA9IGZhbHNlO1xuXHR9XG5cblx0ZGlzcGxheSgpIHtcblx0XHRpZiAodGhpcy5vdmVyKSB7XG5cdFx0XHRpZiAodGhpcy5hbHBoYSA8IDEwMClcblx0XHRcdFx0dGhpcy5hbHBoYSArPSB0aGlzLnNwZWVkO1xuXHRcdH1cblx0XHRlbHNlIHtcblx0XHRcdGlmICh0aGlzLmFscGhhID4gMClcblx0XHRcdFx0dGhpcy5hbHBoYSAtPSB0aGlzLnNwZWVkO1xuXHRcdH1cblx0XHR0aGlzLmlNYXAucDUubm9TdHJva2UoKTtcblx0XHR0aGlzLmlNYXAucDUuZmlsbCgyNTUsIDI1NSwgMjU1LCB0aGlzLmFscGhhKTtcblx0XHR0aGlzLmlNYXAucDUucmVjdChcblx0XHRcdHRoaXMuaU1hcC50cnVlWCgwKSxcblx0XHRcdHRoaXMuaU1hcC50cnVlWSgwKSxcblx0XHRcdHRoaXMuaU1hcC5wNS53aWR0aCAvIHRoaXMuaU1hcC52aWV3LnNjYWxlLFxuXHRcdFx0dGhpcy5pTWFwLnA1LmhlaWdodCAvIHRoaXMuaU1hcC52aWV3LnNjYWxlXG5cdFx0KTtcblx0fVxufSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBSUE7OztBQUdBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUhBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQUE7OyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/p5.bg-layer.ts\n");

/***/ }),

/***/ "./src/p5.image-map-creator.ts":
/*!*************************************!*\
  !*** ./src/p5.image-map-creator.ts ***!
  \*************************************/
/*! exports provided: Save, imageMapCreator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Save\", function() { return Save; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"imageMapCreator\", function() { return imageMapCreator; });\n/* harmony import */ var _package_json__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../package.json */ \"./package.json\");\nvar _package_json__WEBPACK_IMPORTED_MODULE_0___namespace = /*#__PURE__*/__webpack_require__.t(/*! ../package.json */ \"./package.json\", 1);\n/* harmony import */ var _class_image_map__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./class.image-map */ \"./src/class.image-map.ts\");\n/* harmony import */ var _p5_bg_layer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./p5.bg-layer */ \"./src/p5.bg-layer.ts\");\n/* harmony import */ var _class_area__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./class.area */ \"./src/class.area.ts\");\n/* harmony import */ var _class_coord__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./class.coord */ \"./src/class.coord.ts\");\n/* harmony import */ var _class_selection__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./class.selection */ \"./src/class.selection.ts\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\n/* harmony import */ var downloadjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! downloadjs */ \"./node_modules/downloadjs/download.js\");\n/* harmony import */ var downloadjs__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(downloadjs__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var undo_manager__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! undo-manager */ \"./node_modules/undo-manager/lib/undomanager.js\");\n/* harmony import */ var undo_manager__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(undo_manager__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var quicksettings__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! quicksettings */ \"./node_modules/quicksettings/quicksettings.min.js\");\n/* harmony import */ var quicksettings__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(quicksettings__WEBPACK_IMPORTED_MODULE_9__);\n!(function webpackMissingModule() { var e = new Error(\"Cannot find module '../lib/contextmenu/contextmenu'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }());\n!(function webpackMissingModule() { var e = new Error(\"Cannot find module '../lib/contextmenu/contextmenu.css'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }());\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n//@ts-ignore no types for this lib\r\n\r\n//@ts-ignore no types for this lib\r\n\r\n//@ts-ignore no types for this lib\r\n\r\n\r\nvar Save = /** @class */ (function () {\r\n    function Save(version, map) {\r\n        this.version = version;\r\n        this.map = map;\r\n    }\r\n    return Save;\r\n}());\r\n\r\n/**\r\n */\r\nvar imageMapCreator = /** @class */ (function () {\r\n    /**\r\n     * Constructor\r\n     * @param {string} elementId id of the html container\r\n     * @param {number} width\r\n     * @param {number} height\r\n     */\r\n    function imageMapCreator(elementId, width, height) {\r\n        var _this = this;\r\n        if (width === void 0) { width = 600; }\r\n        if (height === void 0) { height = 450; }\r\n        this.menu = {\r\n            SetUrl: {\r\n                onSelect: function (target, key, item, area) { _this.setAreaUrl(area); },\r\n                label: \"Set url\",\r\n            },\r\n            SetTitle: {\r\n                onSelect: function (target, key, item, area) { _this.setAreaTitle(area); },\r\n                label: \"Set Desk No.\",\r\n            },\r\n            Delete: function (target, key, item, area) { _this.deleteArea(area); },\r\n            MoveFront: {\r\n                onSelect: function (target, key, item, area) { _this.moveArea(area, -1); },\r\n                enabled: true,\r\n                label: \"Move Forward\",\r\n            },\r\n            MoveBack: {\r\n                onSelect: function (target, key, item, area) { _this.moveArea(area, 1); },\r\n                enabled: true,\r\n                label: \"Move Backward\",\r\n            }\r\n        };\r\n        var element = document.getElementById(elementId);\r\n        if (!element)\r\n            throw new Error('HTMLElement not found');\r\n        this.width = width;\r\n        this.height = height;\r\n        this.tool = \"polygon\";\r\n        this.drawingTools = [\"rectangle\", \"circle\", \"polygon\"];\r\n        this.settings;\r\n        this.tempArea = new _class_area__WEBPACK_IMPORTED_MODULE_3__[\"AreaEmpty\"]();\r\n        this.selection = new _class_selection__WEBPACK_IMPORTED_MODULE_5__[\"Selection\"]();\r\n        this.hoveredArea = null;\r\n        this.hoveredPoint = null;\r\n        this.map = new _class_image_map__WEBPACK_IMPORTED_MODULE_1__[\"ImageMap\"](width, height);\r\n        this.undoManager = new undo_manager__WEBPACK_IMPORTED_MODULE_8___default.a();\r\n        this.img = { data: null, file: null };\r\n        this.view = {\r\n            scale: 1,\r\n            transX: 0,\r\n            transY: 0\r\n        };\r\n        this.zoomParams = {\r\n            min: 0.03,\r\n            max: 3,\r\n            sensativity: 0.001\r\n        };\r\n        this.magnetism = true;\r\n        this.fusion = false;\r\n        this.tolerance = 6;\r\n        this.bgLayer = new _p5_bg_layer__WEBPACK_IMPORTED_MODULE_2__[\"BgLayer\"](this);\r\n        // Must be the last instruction of the constructor.\r\n        this.p5 = new p5(this.sketch.bind(this), element);\r\n    }\r\n    //---------------------------- p5 Sketch ----------------------------------\r\n    /**\r\n     * Override p5 methods\r\n     * @param {p5} p5\r\n     */\r\n    imageMapCreator.prototype.sketch = function (p5) {\r\n        // Set this.p5 also in sketch() (fix for #30).\r\n        this.p5 = p5;\r\n        p5.setup = this.setup.bind(this);\r\n        p5.draw = this.draw.bind(this);\r\n        p5.mousePressed = this.mousePressed.bind(this);\r\n        p5.mouseDragged = this.mouseDragged.bind(this);\r\n        p5.mouseReleased = this.mouseReleased.bind(this);\r\n        p5.mouseWheel = this.mouseWheel.bind(this);\r\n        //@ts-ignore p5 types didn't specify the KeyBoardEvent nor the boolean return type\r\n        p5.keyPressed = this.keyPressed.bind(this);\r\n    };\r\n    //---------------------------- p5 Functions ----------------------------------\r\n    imageMapCreator.prototype.setup = function () {\r\n        var _this = this;\r\n        var canvas = this.p5.createCanvas(this.width, this.height);\r\n        canvas.drop(this.handeFile.bind(this)).dragLeave(this.onLeave.bind(this)).dragOver(this.onOver.bind(this));\r\n        //@ts-ignore p5 types does not specify the canvas attribute\r\n        this.settings = quicksettings__WEBPACK_IMPORTED_MODULE_9___default.a.create(this.p5.width + 5, 0, \"Image-map Creator\", this.p5.canvas.parentElement)\r\n            .setDraggable(false)\r\n            .addText(\"Map Name\", \"\", function (v) { _this.map.setName(v); })\r\n            .addDropDown(\"Tool\", [\"polygon\", \"rectangle\", \"circle\", \"select\", \"delete\", \"test\"], function (v) { _this.setTool(v.value); })\r\n            .addBoolean(\"Default Area\", this.map.hasDefaultArea, function (v) { _this.setDefaultArea(v); })\r\n            .addButton(\"Undo\", this.undoManager.undo)\r\n            .addButton(\"Redo\", this.undoManager.redo)\r\n            .addButton(\"Clear\", this.clearAreas.bind(this))\r\n            .addButton(\"Generate Html\", function () { _this.settings.setValue(\"Output\", _this.map.toHtml()); })\r\n            .addButton(\"Generate Svg\", function () { _this.settings.setValue(\"Output\", _this.map.toSvg()); })\r\n            .addTextArea(\"Output\")\r\n            .addButton(\"Save\", this.save.bind(this));\r\n        //@ts-ignore Fix for oncontextmenu\r\n        this.p5.canvas.addEventListener(\"contextmenu\", function (e) { e.preventDefault(); });\r\n        //@ts-ignore Fix for middle click mouse down triggers scroll on windows\r\n        this.p5.canvas.addEventListener(\"mousedown\", function (e) { e.preventDefault(); });\r\n        //@ts-ignore Select all onclick on the Output field\r\n        document.getElementById(\"Output\").setAttribute(\"onFocus\", \"this.select();\");\r\n    };\r\n    imageMapCreator.prototype.draw = function () {\r\n        this.updateTempArea();\r\n        this.updateHovered();\r\n        this.setCursor();\r\n        this.setOutput();\r\n        this.setBackground();\r\n        this.setTitle(this.hoveredArea);\r\n        this.p5.translate(this.view.transX, this.view.transY);\r\n        this.p5.scale(this.view.scale);\r\n        this.drawImage();\r\n        this.bgLayer.display();\r\n        this.drawAreas();\r\n    };\r\n    //------------------------------ p5 Events -----------------------------------\r\n    imageMapCreator.prototype.mousePressed = function () {\r\n        if (this.mouseIsHoverSketch()) {\r\n            var coord = this.drawingCoord();\r\n            if (this.p5.mouseButton == this.p5.LEFT && !!(function webpackMissingModule() { var e = new Error(\"Cannot find module '../lib/contextmenu/contextmenu'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())()) {\r\n                switch (this.tool) {\r\n                    case \"circle\":\r\n                    case \"rectangle\":\r\n                        this.setTempArea(coord);\r\n                        break;\r\n                    case \"polygon\":\r\n                        var areaPoly = this.tempArea;\r\n                        if (areaPoly.isEmpty()) {\r\n                            this.setTempArea(coord);\r\n                        }\r\n                        else if (areaPoly.isClosable(this.mCoord(), this.tolerance / this.view.scale)) {\r\n                            areaPoly.close();\r\n                            if (areaPoly.isValidShape())\r\n                                this.createArea(areaPoly);\r\n                            this.tempArea = new _class_area__WEBPACK_IMPORTED_MODULE_3__[\"AreaEmpty\"]();\r\n                        }\r\n                        else {\r\n                            this.tempArea.addCoord(this.mCoord());\r\n                        }\r\n                        break;\r\n                    case \"select\":\r\n                        if (this.hoveredPoint !== null) {\r\n                            this.selection.addPoint(this.hoveredPoint);\r\n                            this.selection.registerArea(this.hoveredArea);\r\n                            this.selection.resetOrigin(this.hoveredPoint);\r\n                        }\r\n                        else if (this.hoveredArea !== null) {\r\n                            this.selection.addArea(this.hoveredArea);\r\n                            this.selection.resetOrigin(this.mCoord());\r\n                        }\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n    };\r\n    imageMapCreator.prototype.mouseDragged = function () {\r\n        if (this.mouseIsHoverSketch() && !!(function webpackMissingModule() { var e = new Error(\"Cannot find module '../lib/contextmenu/contextmenu'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())()) {\r\n            if (this.p5.mouseButton == this.p5.LEFT) {\r\n                switch (this.tool) {\r\n                    case \"select\":\r\n                        this.selection.setPosition(this.drawingCoord());\r\n                        break;\r\n                }\r\n            }\r\n            else if (this.p5.mouseButton == this.p5.CENTER) {\r\n                this.view.transX += this.p5.mouseX - this.p5.pmouseX;\r\n                this.view.transY += this.p5.mouseY - this.p5.pmouseY;\r\n            }\r\n        }\r\n    };\r\n    imageMapCreator.prototype.mouseReleased = function (e) {\r\n        switch (this.tool) {\r\n            case \"rectangle\":\r\n            case \"circle\":\r\n                if (this.tempArea.isValidShape())\r\n                    this.createArea(this.tempArea);\r\n                this.tempArea = new _class_area__WEBPACK_IMPORTED_MODULE_3__[\"AreaEmpty\"]();\r\n                break;\r\n            case \"select\":\r\n                var selection_1 = this.selection;\r\n                if (!selection_1.isEmpty()) {\r\n                    var move_1 = this.selection.distToOrigin();\r\n                    this.undoManager.add({\r\n                        undo: function () { return selection_1.move(move_1.invert()); },\r\n                        redo: function () { return selection_1.move(move_1); },\r\n                    });\r\n                }\r\n                this.selection = new _class_selection__WEBPACK_IMPORTED_MODULE_5__[\"Selection\"]();\r\n                break;\r\n        }\r\n        this.onClick(e);\r\n        this.bgLayer.disappear();\r\n    };\r\n    imageMapCreator.prototype.mouseWheel = function (e) {\r\n        if (this.mouseIsHoverSketch()) {\r\n            var coefZoom = this.view.scale * this.zoomParams.sensativity * -e.deltaY;\r\n            this.zoom(coefZoom);\r\n            return false;\r\n        }\r\n        return true;\r\n    };\r\n    imageMapCreator.prototype.keyPressed = function (e) {\r\n        if (e.composed && e.ctrlKey) {\r\n            switch (e.key) {\r\n                case 's':\r\n                    this.save();\r\n                    break;\r\n                case 'z':\r\n                    this.undoManager.undo();\r\n                    break;\r\n                case 'y':\r\n                    this.undoManager.redo();\r\n                    break;\r\n                default:\r\n                    return true;\r\n            }\r\n            return false;\r\n        }\r\n        else if (this.tool == \"polygon\" &&\r\n            //@ts-ignore p5 types didn't specify the ESCAPE keycode\r\n            e.keyCode == this.p5.ESCAPE) {\r\n            this.tempArea = new _class_area__WEBPACK_IMPORTED_MODULE_3__[\"AreaEmpty\"]();\r\n            return false;\r\n        }\r\n        return true;\r\n    };\r\n    //---------------------------- Functions ----------------------------------\r\n    imageMapCreator.prototype.trueX = function (coord) {\r\n        return (coord - this.view.transX) / this.view.scale;\r\n    };\r\n    imageMapCreator.prototype.trueY = function (coord) {\r\n        return (coord - this.view.transY) / this.view.scale;\r\n    };\r\n    imageMapCreator.prototype.mX = function () {\r\n        return this.trueX(this.p5.mouseX);\r\n    };\r\n    imageMapCreator.prototype.mY = function () {\r\n        return this.trueY(this.p5.mouseY);\r\n    };\r\n    /**\r\n     * Get the true coordinate of the mouse relative to the imageMap\r\n     */\r\n    imageMapCreator.prototype.mCoord = function () {\r\n        return new _class_coord__WEBPACK_IMPORTED_MODULE_4__[\"Coord\"](this.mX(), this.mY());\r\n    };\r\n    /**\r\n     * Get the coordinate of the mouse for drawing\r\n     */\r\n    imageMapCreator.prototype.drawingCoord = function () {\r\n        var coord = this.mCoord();\r\n        coord = this.magnetism ? this.hoveredPoint ? this.hoveredPoint : coord : coord;\r\n        if (!this.fusion) {\r\n            coord = coord.clone();\r\n        }\r\n        return coord;\r\n    };\r\n    imageMapCreator.prototype.mouseIsHoverSketch = function () {\r\n        return this.p5.mouseX <= this.p5.width && this.p5.mouseX >= 0 && this.p5.mouseY <= this.p5.height && this.p5.mouseY >= 0;\r\n    };\r\n    /**\r\n     * Sets hoveredPoint and hoveredArea excluding currently selected Areas\r\n     */\r\n    imageMapCreator.prototype.updateHovered = function () {\r\n        var _this = this;\r\n        this.hoveredPoint = null;\r\n        var allAreas = this.map.getAreas();\r\n        var area = allAreas.find(function (a) {\r\n            if (_this.selection.containsArea(a)) {\r\n                return false;\r\n            }\r\n            if (_this.tool != \"test\") {\r\n                var point = a.isOverPoint(_this.mCoord(), _this.tolerance / _this.view.scale);\r\n                if (point && !_this.selection.containsPoint(point)) {\r\n                    _this.hoveredPoint = point;\r\n                    return true;\r\n                }\r\n            }\r\n            if (a.isOver(_this.mCoord())) {\r\n                return true;\r\n            }\r\n            return false;\r\n        });\r\n        if (this.p5.mouseIsPressed)\r\n            return;\r\n        this.hoveredArea = area ? area : null;\r\n    };\r\n    imageMapCreator.prototype.onClick = function (event) {\r\n        if (this.mouseIsHoverSketch()) {\r\n            if (this.hoveredArea) {\r\n                if (this.p5.mouseButton == this.p5.RIGHT) {\r\n                    this.selection.addArea(this.hoveredArea);\r\n                    this.menu.MoveFront.enabled = !(this.map.isFirstArea(this.hoveredArea.id) || this.hoveredArea.getShape() == 'default');\r\n                    this.menu.MoveBack.enabled = !(this.map.isLastArea(this.hoveredArea.id) || this.hoveredArea.getShape() == 'default');\r\n                    !(function webpackMissingModule() { var e = new Error(\"Cannot find module '../lib/contextmenu/contextmenu'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())(event, this.menu, {\r\n                        position: \"click\",\r\n                        data: this.hoveredArea\r\n                    });\r\n                    // return false; // doesn't work as expected\r\n                }\r\n                else if (this.p5.mouseButton == this.p5.LEFT && !!(function webpackMissingModule() { var e = new Error(\"Cannot find module '../lib/contextmenu/contextmenu'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())()) {\r\n                    switch (this.tool) {\r\n                        case \"test\":\r\n                            Object(_utils__WEBPACK_IMPORTED_MODULE_6__[\"openWindow\"])(this.hoveredArea.getHref());\r\n                            break;\r\n                        case \"delete\":\r\n                            this.deleteArea(this.hoveredArea);\r\n                            break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        this.selection.clear();\r\n    };\r\n    imageMapCreator.prototype.onOver = function (evt) {\r\n        this.bgLayer.appear();\r\n        evt.preventDefault();\r\n    };\r\n    imageMapCreator.prototype.onLeave = function () {\r\n        this.bgLayer.disappear();\r\n    };\r\n    imageMapCreator.prototype.handeFile = function (file) {\r\n        var _this = this;\r\n        if (file.type == \"image\") {\r\n            this.img.data = this.p5.loadImage(file.data, function (img) { return _this.resetView(img); });\r\n            this.img.file = file.file;\r\n            if (!this.map.getName()) {\r\n                this.map.setName(file.name);\r\n                this.settings.setValue(\"Map Name\", this.map.getName());\r\n            }\r\n        }\r\n        else if (file.subtype == 'json') {\r\n            fetch(file.data)\r\n                .then(function (res) { return res.blob(); })\r\n                .then(function (blob) {\r\n                var reader = new FileReader();\r\n                reader.onload = function () {\r\n                    var json = reader.result;\r\n                    if (typeof (json) == \"string\") {\r\n                        _this.importMap(json);\r\n                    }\r\n                };\r\n                reader.readAsText(blob);\r\n            });\r\n        }\r\n        this.bgLayer.disappear();\r\n    };\r\n    imageMapCreator.prototype.resetView = function (img) {\r\n        this.view.scale = 1;\r\n        this.view.transX = 0;\r\n        this.view.transY = 0;\r\n        var xScale = this.p5.width / img.width;\r\n        var yScale = this.p5.height / img.height;\r\n        if (xScale < this.view.scale)\r\n            this.view.scale = xScale;\r\n        if (yScale < this.view.scale)\r\n            this.view.scale = yScale;\r\n        this.map.setSize(img.width, img.height);\r\n    };\r\n    imageMapCreator.prototype.zoom = function (coef) {\r\n        var newScale = this.view.scale + coef;\r\n        if (newScale > this.zoomParams.min && newScale < this.zoomParams.max) {\r\n            var mouseXToOrigin = this.mX();\r\n            var mouseYToOrigin = this.mY();\r\n            var transX = mouseXToOrigin * coef;\r\n            var transY = mouseYToOrigin * coef;\r\n            this.view.scale = newScale;\r\n            this.view.transX -= transX;\r\n            this.view.transY -= transY;\r\n        }\r\n    };\r\n    imageMapCreator.prototype.drawImage = function () {\r\n        if (this.img.data)\r\n            this.p5.image(this.img.data, 0, 0, this.img.data.width, this.img.data.height);\r\n    };\r\n    imageMapCreator.prototype.drawAreas = function () {\r\n        var allAreas = [this.tempArea].concat(this.map.getAreas());\r\n        for (var i = allAreas.length; i--;) {\r\n            var area = allAreas[i];\r\n            this.setAreaStyle(area);\r\n            if (area.isDrawable())\r\n                area.display(this.p5);\r\n        }\r\n        if (this.hoveredPoint) {\r\n            var point = this.hoveredPoint;\r\n            this.p5.fill(0);\r\n            this.p5.noStroke();\r\n            this.p5.ellipse(point.x, point.y, 6 / this.view.scale);\r\n        }\r\n    };\r\n    imageMapCreator.prototype.setTool = function (value) {\r\n        this.tool = value;\r\n        this.tempArea = new _class_area__WEBPACK_IMPORTED_MODULE_3__[\"AreaEmpty\"]();\r\n    };\r\n    imageMapCreator.prototype.setCursor = function () {\r\n        if (this.drawingTools.includes(this.tool)) {\r\n            switch (this.tool) {\r\n                case \"polygon\":\r\n                    var areaPoly = this.tempArea;\r\n                    if (!areaPoly.isEmpty() && areaPoly.isClosable(this.mCoord(), 5 / this.view.scale)) {\r\n                        this.p5.cursor(this.p5.HAND);\r\n                        break;\r\n                    }\r\n                default:\r\n                    this.p5.cursor(this.p5.CROSS);\r\n            }\r\n        }\r\n        else {\r\n            this.p5.cursor(this.p5.ARROW);\r\n            if (this.hoveredArea) {\r\n                switch (this.tool) {\r\n                    case \"test\":\r\n                    case \"delete\":\r\n                        this.p5.cursor(this.p5.HAND);\r\n                        break;\r\n                    case \"select\":\r\n                        if (!this.hoveredPoint) {\r\n                            this.p5.cursor(this.p5.MOVE);\r\n                        }\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n    };\r\n    imageMapCreator.prototype.setOutput = function () {\r\n        switch (this.tool) {\r\n            case \"test\":\r\n            case \"select\":\r\n                if (this.mouseIsHoverSketch()) {\r\n                    var href = this.hoveredArea ? this.hoveredArea.getHrefVerbose() : \"none\";\r\n                    this.settings.setValue(\"Output\", href);\r\n                }\r\n                break;\r\n        }\r\n    };\r\n    imageMapCreator.prototype.setBackground = function () {\r\n        this.p5.background(200);\r\n        if (!this.img.data) {\r\n            this.p5.noStroke();\r\n            this.p5.fill(0);\r\n            this.p5.textAlign(this.p5.CENTER, this.p5.CENTER);\r\n            this.p5.textSize(15);\r\n            var text = 'Drag and drop an image and/or a .map.json save file here';\r\n            this.p5.text(text, this.p5.width / 2, this.p5.height / 2);\r\n        }\r\n    };\r\n    /**\r\n     * Set the title of the canvas from an area\r\n     */\r\n    imageMapCreator.prototype.setTitle = function (area) {\r\n        if (this.tool == \"test\" && area && area.getTitle()) {\r\n            //@ts-ignore p5 types does not specify the canvas attribute\r\n            this.p5.canvas.setAttribute(\"title\", area.getTitle());\r\n        }\r\n        else {\r\n            //@ts-ignore p5 types does not specify the canvas attribute\r\n            this.p5.canvas.removeAttribute(\"title\");\r\n        }\r\n    };\r\n    imageMapCreator.prototype.setAreaStyle = function (area) {\r\n        var color = this.p5.color(255, 255, 255, 178);\r\n        if (this.tool == \"test\") {\r\n            color = this.p5.color(255, 0);\r\n        }\r\n        if (((this.tool == \"delete\" || this.tool == \"select\") &&\r\n            this.mouseIsHoverSketch() &&\r\n            area == this.hoveredArea) ||\r\n            this.selection.containsArea(area)) {\r\n            color = this.p5.color(255, 200, 200, 178); // highlight (set color red)\r\n        }\r\n        this.p5.fill(color);\r\n        this.p5.strokeWeight(1 / this.view.scale);\r\n        if (this.tool == \"test\") {\r\n            this.p5.noStroke();\r\n        }\r\n        else {\r\n            this.p5.stroke(0);\r\n        }\r\n    };\r\n    imageMapCreator.prototype.setTempArea = function (coord) {\r\n        var coords = [coord];\r\n        switch (this.tool) {\r\n            case \"rectangle\":\r\n                this.tempArea = new _class_area__WEBPACK_IMPORTED_MODULE_3__[\"AreaRect\"](coords);\r\n                break;\r\n            case \"circle\":\r\n                this.tempArea = new _class_area__WEBPACK_IMPORTED_MODULE_3__[\"AreaCircle\"](coords);\r\n                break;\r\n            case \"polygon\":\r\n                this.tempArea = new _class_area__WEBPACK_IMPORTED_MODULE_3__[\"AreaPoly\"](coords);\r\n                this.tempArea.addCoord(coord);\r\n                break;\r\n        }\r\n    };\r\n    imageMapCreator.prototype.updateTempArea = function () {\r\n        var coord = this.drawingCoord();\r\n        if (!this.tempArea.isEmpty()) {\r\n            this.tempArea.updateLastCoord(coord);\r\n        }\r\n    };\r\n    imageMapCreator.prototype.exportMap = function () {\r\n        return JSON.stringify(new Save(_package_json__WEBPACK_IMPORTED_MODULE_0__[\"version\"], this.map), function (key, value) {\r\n            if (value instanceof _class_image_map__WEBPACK_IMPORTED_MODULE_1__[\"ImageMap\"] && !(this instanceof Save)) {\r\n                return value.getName();\r\n            }\r\n            return value;\r\n        });\r\n    };\r\n    imageMapCreator.prototype.save = function () {\r\n        //@ts-ignore encoding options for Chrome\r\n        var blob = new Blob([this.exportMap()], { encoding: \"UTF-8\", type: \"text/plain;charset=UTF-8\" });\r\n        downloadjs__WEBPACK_IMPORTED_MODULE_7__(blob, this.map.getName() + \".map.json\", 'application/json');\r\n    };\r\n    imageMapCreator.prototype.importMap = function (json) {\r\n        var object = JSON.parse(json);\r\n        var objectMap = object.map;\r\n        this.map.setFromObject(objectMap);\r\n        this.settings.setValue(\"Map Name\", objectMap.name);\r\n        this.settings.setValue(\"Default Area\", objectMap.hasDefaultArea);\r\n        this.reset();\r\n    };\r\n    /**\r\n     * Add an area to the imageMap object\r\n     */\r\n    imageMapCreator.prototype.createArea = function (area) {\r\n        var _this = this;\r\n        this.map.addArea(area);\r\n        this.undoManager.add({\r\n            undo: function () { return area = _this.map.shiftArea(); },\r\n            redo: function () { return _this.map.addArea(area, false); },\r\n        });\r\n    };\r\n    /**\r\n     * remove an area from the imageMap object\r\n     */\r\n    imageMapCreator.prototype.deleteArea = function (area) {\r\n        var _this = this;\r\n        var id = area.id;\r\n        if (id === 0) {\r\n            this.settings.setValue(\"Default Area\", false);\r\n        }\r\n        else {\r\n            var index_1 = this.map.rmvArea(id);\r\n            this.undoManager.add({\r\n                undo: function () { return _this.map.insertArea(area, index_1); },\r\n                redo: function () { return _this.map.rmvArea(id); },\r\n            });\r\n        }\r\n    };\r\n    /**\r\n     * Move an area forward or backward\r\n     */\r\n    imageMapCreator.prototype.moveArea = function (area, direction) {\r\n        var _this = this;\r\n        if (this.map.moveArea(area.id, direction) !== false) {\r\n            this.undoManager.add({\r\n                undo: function () { return _this.map.moveArea(area.id, -direction); },\r\n                redo: function () { return _this.map.moveArea(area.id, direction); },\r\n            });\r\n        }\r\n    };\r\n    /**\r\n     * Set the url of an area\r\n     */\r\n    imageMapCreator.prototype.setAreaUrl = function (area) {\r\n        var href = area.getHref();\r\n        var input = prompt(\"Enter the pointing url of this area\", href ? href : \"http://\");\r\n        if (input) {\r\n            area.setHref(input);\r\n            this.undoManager.add({\r\n                undo: function () { return area.setHref(href); },\r\n                redo: function () { return area.setHref(input); },\r\n            });\r\n        }\r\n    };\r\n    /**\r\n     * Set the title of an area\r\n     */\r\n    imageMapCreator.prototype.setAreaTitle = function (area) {\r\n        var title = area.getTitle();\r\n        var input = prompt(\"Enter the Desk number of this area\", title ? title : \"\");\r\n        if (input) {\r\n            area.setTitle(input);\r\n            this.undoManager.add({\r\n                undo: function () { return area.setTitle(title); },\r\n                redo: function () { return area.setTitle(input); },\r\n            });\r\n        }\r\n    };\r\n    imageMapCreator.prototype.setDefaultArea = function (bool) {\r\n        var _this = this;\r\n        this.map.setDefaultArea(bool);\r\n        this.undoManager.add({\r\n            undo: function () {\r\n                _this.map.setDefaultArea(!bool); // semble redondant\r\n                _this.settings.setValue(\"Default Area\", !bool);\r\n            },\r\n            redo: function () {\r\n                _this.map.setDefaultArea(bool); // semble redondant\r\n                _this.settings.setValue(\"Default Area\", bool);\r\n            }\r\n        });\r\n    };\r\n    imageMapCreator.prototype.clearAreas = function () {\r\n        var _this = this;\r\n        var areas = this.map.getAreas(false);\r\n        this.map.clearAreas();\r\n        this.undoManager.add({\r\n            undo: function () { return _this.map.setAreas(areas); },\r\n            redo: function () { return _this.map.clearAreas(); },\r\n        });\r\n    };\r\n    imageMapCreator.prototype.reset = function () {\r\n        this.undoManager.clear();\r\n    };\r\n    return imageMapCreator;\r\n}());\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcDUuaW1hZ2UtbWFwLWNyZWF0b3IudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcDUuaW1hZ2UtbWFwLWNyZWF0b3IudHM/Yzg1YSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB2ZXJzaW9uIH0gZnJvbSBcIi4uL3BhY2thZ2UuanNvblwiO1xuaW1wb3J0IHsgSW1hZ2VNYXAgfSBmcm9tIFwiLi9jbGFzcy5pbWFnZS1tYXBcIjtcbmltcG9ydCB7IEJnTGF5ZXIgfSBmcm9tIFwiLi9wNS5iZy1sYXllclwiO1xuaW1wb3J0IHsgQXJlYSwgQXJlYUNpcmNsZSwgQXJlYVJlY3QsIEFyZWFQb2x5LCBBcmVhRW1wdHkgfSBmcm9tIFwiLi9jbGFzcy5hcmVhXCI7XG5pbXBvcnQgeyBDb29yZCB9IGZyb20gXCIuL2NsYXNzLmNvb3JkXCI7XG5pbXBvcnQgeyBTZWxlY3Rpb24gfSBmcm9tIFwiLi9jbGFzcy5zZWxlY3Rpb25cIjtcbmltcG9ydCB7IG9wZW5XaW5kb3cgfSBmcm9tIFwiLi91dGlsc1wiO1xuaW1wb3J0ICogYXMgZG93bmxvYWQgZnJvbSBcImRvd25sb2FkanNcIjtcbi8vQHRzLWlnbm9yZSBubyB0eXBlcyBmb3IgdGhpcyBsaWJcbmltcG9ydCBVbmRvTWFuYWdlciBmcm9tIFwidW5kby1tYW5hZ2VyXCI7XG4vL0B0cy1pZ25vcmUgbm8gdHlwZXMgZm9yIHRoaXMgbGliXG5pbXBvcnQgUXVpY2tTZXR0aW5ncyBmcm9tIFwicXVpY2tzZXR0aW5nc1wiO1xuLy9AdHMtaWdub3JlIG5vIHR5cGVzIGZvciB0aGlzIGxpYlxuaW1wb3J0ICogYXMgQ29udGV4dE1lbnUgZnJvbSBcIi4uL2xpYi9jb250ZXh0bWVudS9jb250ZXh0bWVudVwiO1xuaW1wb3J0IFwiLi4vbGliL2NvbnRleHRtZW51L2NvbnRleHRtZW51LmNzc1wiO1xuLy9AdHMtaWdub3JlIHN0cmFuZ2Ugd2F5IHRvIGltcG9ydCBidXQgaXQncyB3b3JraW5nXG5pbXBvcnQgcDUgPSByZXF1aXJlKFwicDVcIik7XG5cbmV4cG9ydCB0eXBlIFRvb2wgPSBcInBvbHlnb25cIiB8IFwicmVjdGFuZ2xlXCIgfCBcImNpcmNsZVwiIHwgXCJzZWxlY3RcIiB8IFwiZGVsZXRlXCIgfCBcInRlc3RcIjtcbmV4cG9ydCB0eXBlIEltYWdlID0ge1xuXHRkYXRhOiBwNS5JbWFnZXxudWxsLFxuXHRmaWxlOiBwNS5GaWxlfG51bGwsXG59O1xuZXhwb3J0IHR5cGUgVG9vbExhYmVsID0ge1xuXHRrZXk6IHN0cmluZyxcblx0dmFsdWU6IFRvb2wsXG59O1xuZXhwb3J0IHR5cGUgVmlldyA9IHsgc2NhbGU6IG51bWJlciwgdHJhbnNYOiBudW1iZXIsIHRyYW5zWTogbnVtYmVyLCB9O1xuZXhwb3J0IHR5cGUgWm9vbSA9IHsgbWluOiBudW1iZXIsIG1heDogbnVtYmVyLCBzZW5zYXRpdml0eTogbnVtYmVyLCB9O1xuXG5leHBvcnQgY2xhc3MgU2F2ZSB7XG5cdGNvbnN0cnVjdG9yIChwdWJsaWMgdmVyc2lvbjogc3RyaW5nLCBwdWJsaWMgbWFwOiBJbWFnZU1hcCkge31cbn1cblxuLyoqXG4gKi9cbmV4cG9ydCBjbGFzcyBpbWFnZU1hcENyZWF0b3Ige1xuXHRwcm90ZWN0ZWQgd2lkdGg6IG51bWJlcjtcblx0cHJvdGVjdGVkIGhlaWdodDogbnVtYmVyO1xuXHRwcm90ZWN0ZWQgdG9vbDogVG9vbDtcblx0cHJvdGVjdGVkIGRyYXdpbmdUb29sczogVG9vbFtdO1xuXHRwcm90ZWN0ZWQgc2V0dGluZ3M6IGFueTtcblx0cHJvdGVjdGVkIG1lbnUgPSB7XG5cdFx0U2V0VXJsOiB7XG5cdFx0XHRvblNlbGVjdDogKHRhcmdldDogRWxlbWVudCwga2V5OiBhbnksIGl0ZW06IEhUTUxFbGVtZW50LCBhcmVhOiBBcmVhKSA9PiB7IHRoaXMuc2V0QXJlYVVybChhcmVhKTsgfSxcblx0XHRcdGxhYmVsOiBcIlNldCB1cmxcIixcblx0XHR9LFxuXHRcdFNldFRpdGxlOiB7XG5cdFx0XHRvblNlbGVjdDogKHRhcmdldDogRWxlbWVudCwga2V5OiBhbnksIGl0ZW06IEhUTUxFbGVtZW50LCBhcmVhOiBBcmVhKSA9PiB7IHRoaXMuc2V0QXJlYVRpdGxlKGFyZWEpOyB9LFxuXHRcdFx0bGFiZWw6IFwiU2V0IERlc2sgTm8uXCIsXG5cdFx0fSxcblx0XHREZWxldGU6ICh0YXJnZXQ6IEVsZW1lbnQsIGtleTogYW55LCBpdGVtOiBIVE1MRWxlbWVudCwgYXJlYTogQXJlYSkgPT4geyB0aGlzLmRlbGV0ZUFyZWEoYXJlYSk7IH0sXG5cdFx0TW92ZUZyb250OiB7XG5cdFx0XHRvblNlbGVjdDogKHRhcmdldDogRWxlbWVudCwga2V5OiBhbnksIGl0ZW06IEhUTUxFbGVtZW50LCBhcmVhOiBBcmVhKSA9PiB7IHRoaXMubW92ZUFyZWEoYXJlYSwgLTEpOyB9LFxuXHRcdFx0ZW5hYmxlZDogdHJ1ZSxcblx0XHRcdGxhYmVsOiBcIk1vdmUgRm9yd2FyZFwiLFxuXHRcdH0sXG5cdFx0TW92ZUJhY2s6IHtcblx0XHRcdG9uU2VsZWN0OiAodGFyZ2V0OiBFbGVtZW50LCBrZXk6IGFueSwgaXRlbTogSFRNTEVsZW1lbnQsIGFyZWE6IEFyZWEpID0+IHsgdGhpcy5tb3ZlQXJlYShhcmVhLCAxKTsgfSxcblx0XHRcdGVuYWJsZWQ6IHRydWUsXG5cdFx0XHRsYWJlbDogXCJNb3ZlIEJhY2t3YXJkXCIsXG5cdFx0fVxuXHR9O1xuXHRwcm90ZWN0ZWQgdGVtcEFyZWE6IEFyZWFFbXB0eTtcblx0cHJvdGVjdGVkIHNlbGVjdGlvbjogU2VsZWN0aW9uO1xuXHRwcm90ZWN0ZWQgaG92ZXJlZEFyZWE6IEFyZWF8bnVsbDtcblx0cHJvdGVjdGVkIGhvdmVyZWRQb2ludDogQ29vcmR8bnVsbDtcblx0cHVibGljIG1hcDogSW1hZ2VNYXA7XG5cdHByb3RlY3RlZCB1bmRvTWFuYWdlcjogYW55O1xuXHRwcm90ZWN0ZWQgaW1nOiBJbWFnZTtcblx0cHVibGljIHZpZXc6IFZpZXc7XG5cdHByb3RlY3RlZCB6b29tUGFyYW1zOiBab29tO1xuXHRwcm90ZWN0ZWQgbWFnbmV0aXNtOiBib29sZWFuO1xuXHRwcm90ZWN0ZWQgZnVzaW9uOiBib29sZWFuO1xuXHRwcm90ZWN0ZWQgdG9sZXJhbmNlOiBudW1iZXI7XG5cdHByb3RlY3RlZCBiZ0xheWVyOiBCZ0xheWVyO1xuXHRwdWJsaWMgcDU6IHA1O1xuXG5cdC8qKlxuXHQgKiBDb25zdHJ1Y3RvclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gZWxlbWVudElkIGlkIG9mIHRoZSBodG1sIGNvbnRhaW5lclxuXHQgKiBAcGFyYW0ge251bWJlcn0gd2lkdGhcblx0ICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodFxuXHQgKi9cblx0Y29uc3RydWN0b3IoZWxlbWVudElkOiBzdHJpbmcsIHdpZHRoOiBudW1iZXIgPSA2MDAsIGhlaWdodDogbnVtYmVyID0gNDUwKSB7XG5cdFx0Y29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZW1lbnRJZCk7XG5cdFx0aWYgKCFlbGVtZW50KSB0aHJvdyBuZXcgRXJyb3IoJ0hUTUxFbGVtZW50IG5vdCBmb3VuZCcpO1xuXHRcdHRoaXMud2lkdGggPSB3aWR0aDtcblx0XHR0aGlzLmhlaWdodCA9IGhlaWdodDtcblx0XHR0aGlzLnRvb2wgPSBcInBvbHlnb25cIjtcblx0XHR0aGlzLmRyYXdpbmdUb29scyA9IFtcInJlY3RhbmdsZVwiLCBcImNpcmNsZVwiLCBcInBvbHlnb25cIl07XG5cdFx0dGhpcy5zZXR0aW5ncztcblx0XHR0aGlzLnRlbXBBcmVhID0gbmV3IEFyZWFFbXB0eSgpO1xuXHRcdHRoaXMuc2VsZWN0aW9uID0gbmV3IFNlbGVjdGlvbigpO1xuXHRcdHRoaXMuaG92ZXJlZEFyZWEgPSBudWxsO1xuXHRcdHRoaXMuaG92ZXJlZFBvaW50ID0gbnVsbDtcblx0XHR0aGlzLm1hcCA9IG5ldyBJbWFnZU1hcCh3aWR0aCwgaGVpZ2h0KTtcblx0XHR0aGlzLnVuZG9NYW5hZ2VyID0gbmV3IFVuZG9NYW5hZ2VyKCk7XG5cdFx0dGhpcy5pbWcgPSB7ZGF0YTogbnVsbCwgZmlsZTogbnVsbH07XG5cdFx0dGhpcy52aWV3ID0ge1xuXHRcdFx0c2NhbGU6IDEsXG5cdFx0XHR0cmFuc1g6IDAsXG5cdFx0XHR0cmFuc1k6IDBcblx0XHR9XG5cdFx0dGhpcy56b29tUGFyYW1zID0ge1xuXHRcdFx0bWluOiAwLjAzLFxuXHRcdFx0bWF4OiAzLFxuXHRcdFx0c2Vuc2F0aXZpdHk6IDAuMDAxXG5cdFx0fVxuXHRcdHRoaXMubWFnbmV0aXNtID0gdHJ1ZTtcblx0XHR0aGlzLmZ1c2lvbiA9IGZhbHNlO1xuXHRcdHRoaXMudG9sZXJhbmNlID0gNjtcblx0XHR0aGlzLmJnTGF5ZXIgPSBuZXcgQmdMYXllcih0aGlzKTtcblx0XHQvLyBNdXN0IGJlIHRoZSBsYXN0IGluc3RydWN0aW9uIG9mIHRoZSBjb25zdHJ1Y3Rvci5cblx0XHR0aGlzLnA1ID0gbmV3IHA1KHRoaXMuc2tldGNoLmJpbmQodGhpcyksIGVsZW1lbnQpO1xuXHR9XG5cblx0Ly8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIHA1IFNrZXRjaCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cblx0LyoqXG5cdCAqIE92ZXJyaWRlIHA1IG1ldGhvZHNcblx0ICogQHBhcmFtIHtwNX0gcDVcblx0ICovXG5cdHByaXZhdGUgc2tldGNoKHA1OiBwNSk6IHZvaWQge1xuXHRcdC8vIFNldCB0aGlzLnA1IGFsc28gaW4gc2tldGNoKCkgKGZpeCBmb3IgIzMwKS5cblx0XHR0aGlzLnA1ID0gcDU7XG5cblx0XHRwNS5zZXR1cCA9IHRoaXMuc2V0dXAuYmluZCh0aGlzKTtcblx0XHRwNS5kcmF3ID0gdGhpcy5kcmF3LmJpbmQodGhpcyk7XG5cblx0XHRwNS5tb3VzZVByZXNzZWQgPSB0aGlzLm1vdXNlUHJlc3NlZC5iaW5kKHRoaXMpO1xuXHRcdHA1Lm1vdXNlRHJhZ2dlZCA9IHRoaXMubW91c2VEcmFnZ2VkLmJpbmQodGhpcyk7XG5cdFx0cDUubW91c2VSZWxlYXNlZCA9IHRoaXMubW91c2VSZWxlYXNlZC5iaW5kKHRoaXMpO1xuXHRcdHA1Lm1vdXNlV2hlZWwgPSB0aGlzLm1vdXNlV2hlZWwuYmluZCh0aGlzKTtcblx0XHQvL0B0cy1pZ25vcmUgcDUgdHlwZXMgZGlkbid0IHNwZWNpZnkgdGhlIEtleUJvYXJkRXZlbnQgbm9yIHRoZSBib29sZWFuIHJldHVybiB0eXBlXG5cdFx0cDUua2V5UHJlc3NlZCA9IHRoaXMua2V5UHJlc3NlZC5iaW5kKHRoaXMpO1xuXHR9XG5cblx0Ly8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIHA1IEZ1bmN0aW9ucyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cblx0cHJpdmF0ZSBzZXR1cCgpOiB2b2lkIHtcblx0XHRsZXQgY2FudmFzID0gdGhpcy5wNS5jcmVhdGVDYW52YXModGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuXHRcdGNhbnZhcy5kcm9wKHRoaXMuaGFuZGVGaWxlLmJpbmQodGhpcykpLmRyYWdMZWF2ZSh0aGlzLm9uTGVhdmUuYmluZCh0aGlzKSkuZHJhZ092ZXIodGhpcy5vbk92ZXIuYmluZCh0aGlzKSk7XG5cdFx0Ly9AdHMtaWdub3JlIHA1IHR5cGVzIGRvZXMgbm90IHNwZWNpZnkgdGhlIGNhbnZhcyBhdHRyaWJ1dGVcblx0XHR0aGlzLnNldHRpbmdzID0gUXVpY2tTZXR0aW5ncy5jcmVhdGUodGhpcy5wNS53aWR0aCArIDUsIDAsIFwiSW1hZ2UtbWFwIENyZWF0b3JcIiwgdGhpcy5wNS5jYW52YXMucGFyZW50RWxlbWVudClcblx0XHRcdC5zZXREcmFnZ2FibGUoZmFsc2UpXG5cdFx0XHQuYWRkVGV4dChcIk1hcCBOYW1lXCIsIFwiXCIsICh2OiBzdHJpbmcpID0+IHsgdGhpcy5tYXAuc2V0TmFtZSh2KSB9KVxuXHRcdFx0LmFkZERyb3BEb3duKFwiVG9vbFwiLCBbXCJwb2x5Z29uXCIsIFwicmVjdGFuZ2xlXCIsIFwiY2lyY2xlXCIsIFwic2VsZWN0XCIsIFwiZGVsZXRlXCIsIFwidGVzdFwiXSwgKHY6IFRvb2xMYWJlbCkgPT4geyB0aGlzLnNldFRvb2wodi52YWx1ZSkgfSlcblx0XHRcdC5hZGRCb29sZWFuKFwiRGVmYXVsdCBBcmVhXCIsIHRoaXMubWFwLmhhc0RlZmF1bHRBcmVhLCAodjogYm9vbGVhbikgPT4geyB0aGlzLnNldERlZmF1bHRBcmVhKHYpIH0pXG5cdFx0XHQuYWRkQnV0dG9uKFwiVW5kb1wiLCB0aGlzLnVuZG9NYW5hZ2VyLnVuZG8pXG5cdFx0XHQuYWRkQnV0dG9uKFwiUmVkb1wiLCB0aGlzLnVuZG9NYW5hZ2VyLnJlZG8pXG5cdFx0XHQuYWRkQnV0dG9uKFwiQ2xlYXJcIiwgdGhpcy5jbGVhckFyZWFzLmJpbmQodGhpcykpXG5cdFx0XHQuYWRkQnV0dG9uKFwiR2VuZXJhdGUgSHRtbFwiLCAoKSA9PiB7IHRoaXMuc2V0dGluZ3Muc2V0VmFsdWUoXCJPdXRwdXRcIiwgdGhpcy5tYXAudG9IdG1sKCkpIH0pXG5cdFx0XHQuYWRkQnV0dG9uKFwiR2VuZXJhdGUgU3ZnXCIsICgpID0+IHsgdGhpcy5zZXR0aW5ncy5zZXRWYWx1ZShcIk91dHB1dFwiLCB0aGlzLm1hcC50b1N2ZygpKSB9KVxuXHRcdFx0LmFkZFRleHRBcmVhKFwiT3V0cHV0XCIpXG5cdFx0XHQuYWRkQnV0dG9uKFwiU2F2ZVwiLCB0aGlzLnNhdmUuYmluZCh0aGlzKSk7XG5cdFx0Ly9AdHMtaWdub3JlIEZpeCBmb3Igb25jb250ZXh0bWVudVxuXHRcdHRoaXMucDUuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJjb250ZXh0bWVudVwiLCAoZSkgPT4geyBlLnByZXZlbnREZWZhdWx0KCk7IH0pO1xuXHRcdC8vQHRzLWlnbm9yZSBGaXggZm9yIG1pZGRsZSBjbGljayBtb3VzZSBkb3duIHRyaWdnZXJzIHNjcm9sbCBvbiB3aW5kb3dzXG5cdFx0dGhpcy5wNS5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCAoZSkgPT4geyBlLnByZXZlbnREZWZhdWx0KCk7IH0pO1xuXHRcdC8vQHRzLWlnbm9yZSBTZWxlY3QgYWxsIG9uY2xpY2sgb24gdGhlIE91dHB1dCBmaWVsZFxuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiT3V0cHV0XCIpLnNldEF0dHJpYnV0ZShcIm9uRm9jdXNcIiwgXCJ0aGlzLnNlbGVjdCgpO1wiKTtcblx0fVxuXG5cdHByaXZhdGUgZHJhdygpOiB2b2lkIHtcblx0XHR0aGlzLnVwZGF0ZVRlbXBBcmVhKCk7XG5cdFx0dGhpcy51cGRhdGVIb3ZlcmVkKCk7XG5cdFx0dGhpcy5zZXRDdXJzb3IoKTtcblx0XHR0aGlzLnNldE91dHB1dCgpO1xuXHRcdHRoaXMuc2V0QmFja2dyb3VuZCgpO1xuXHRcdHRoaXMuc2V0VGl0bGUodGhpcy5ob3ZlcmVkQXJlYSk7XG5cdFx0dGhpcy5wNS50cmFuc2xhdGUodGhpcy52aWV3LnRyYW5zWCwgdGhpcy52aWV3LnRyYW5zWSk7XG5cdFx0dGhpcy5wNS5zY2FsZSh0aGlzLnZpZXcuc2NhbGUpO1xuXHRcdHRoaXMuZHJhd0ltYWdlKCk7XG5cdFx0dGhpcy5iZ0xheWVyLmRpc3BsYXkoKTtcblx0XHR0aGlzLmRyYXdBcmVhcygpO1xuXHR9XG5cblx0Ly8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gcDUgRXZlbnRzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cblx0cHJpdmF0ZSBtb3VzZVByZXNzZWQoKTogdm9pZCB7XG5cdFx0aWYgKHRoaXMubW91c2VJc0hvdmVyU2tldGNoKCkpIHtcblx0XHRcdGxldCBjb29yZCA9IHRoaXMuZHJhd2luZ0Nvb3JkKCk7XG5cdFx0XHRpZiAodGhpcy5wNS5tb3VzZUJ1dHRvbiA9PSB0aGlzLnA1LkxFRlQgJiYgIUNvbnRleHRNZW51LmlzT3BlbigpKSB7XG5cdFx0XHRcdHN3aXRjaCAodGhpcy50b29sKSB7XG5cdFx0XHRcdFx0Y2FzZSBcImNpcmNsZVwiOlxuXHRcdFx0XHRcdGNhc2UgXCJyZWN0YW5nbGVcIjpcblx0XHRcdFx0XHRcdHRoaXMuc2V0VGVtcEFyZWEoY29vcmQpO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSBcInBvbHlnb25cIjpcblx0XHRcdFx0XHRcdGxldCBhcmVhUG9seSA9IHRoaXMudGVtcEFyZWEgYXMgQXJlYVBvbHk7XG5cdFx0XHRcdFx0XHRpZiAoYXJlYVBvbHkuaXNFbXB0eSgpKSB7XG5cdFx0XHRcdFx0XHRcdHRoaXMuc2V0VGVtcEFyZWEoY29vcmQpO1xuXHRcdFx0XHRcdFx0fSBlbHNlIGlmIChhcmVhUG9seS5pc0Nsb3NhYmxlKHRoaXMubUNvb3JkKCksIHRoaXMudG9sZXJhbmNlIC8gdGhpcy52aWV3LnNjYWxlKSkge1xuXHRcdFx0XHRcdFx0XHRhcmVhUG9seS5jbG9zZSgpO1xuXHRcdFx0XHRcdFx0XHRpZiAoYXJlYVBvbHkuaXNWYWxpZFNoYXBlKCkpXG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5jcmVhdGVBcmVhKGFyZWFQb2x5KTtcblx0XHRcdFx0XHRcdFx0dGhpcy50ZW1wQXJlYSA9IG5ldyBBcmVhRW1wdHkoKTtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdHRoaXMudGVtcEFyZWEuYWRkQ29vcmQodGhpcy5tQ29vcmQoKSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRjYXNlIFwic2VsZWN0XCI6XG5cdFx0XHRcdFx0XHRpZiAodGhpcy5ob3ZlcmVkUG9pbnQgIT09IG51bGwpIHtcblx0XHRcdFx0XHRcdFx0dGhpcy5zZWxlY3Rpb24uYWRkUG9pbnQodGhpcy5ob3ZlcmVkUG9pbnQpO1xuXHRcdFx0XHRcdFx0XHR0aGlzLnNlbGVjdGlvbi5yZWdpc3RlckFyZWEodGhpcy5ob3ZlcmVkQXJlYSEpO1xuXHRcdFx0XHRcdFx0XHR0aGlzLnNlbGVjdGlvbi5yZXNldE9yaWdpbih0aGlzLmhvdmVyZWRQb2ludCk7XG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYgKHRoaXMuaG92ZXJlZEFyZWEgIT09IG51bGwpIHtcblx0XHRcdFx0XHRcdFx0dGhpcy5zZWxlY3Rpb24uYWRkQXJlYSh0aGlzLmhvdmVyZWRBcmVhKTtcblx0XHRcdFx0XHRcdFx0dGhpcy5zZWxlY3Rpb24ucmVzZXRPcmlnaW4odGhpcy5tQ29vcmQoKSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHByaXZhdGUgbW91c2VEcmFnZ2VkKCk6IHZvaWQge1xuXHRcdGlmICh0aGlzLm1vdXNlSXNIb3ZlclNrZXRjaCgpICYmICFDb250ZXh0TWVudS5pc09wZW4oKSkge1xuXHRcdFx0aWYgKHRoaXMucDUubW91c2VCdXR0b24gPT0gdGhpcy5wNS5MRUZUKSB7XG5cdFx0XHRcdHN3aXRjaCAodGhpcy50b29sKSB7XG5cdFx0XHRcdFx0Y2FzZSBcInNlbGVjdFwiOlxuXHRcdFx0XHRcdFx0dGhpcy5zZWxlY3Rpb24uc2V0UG9zaXRpb24odGhpcy5kcmF3aW5nQ29vcmQoKSk7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmICh0aGlzLnA1Lm1vdXNlQnV0dG9uID09IHRoaXMucDUuQ0VOVEVSKSB7XG5cdFx0XHRcdHRoaXMudmlldy50cmFuc1ggKz0gdGhpcy5wNS5tb3VzZVggLSB0aGlzLnA1LnBtb3VzZVg7XG5cdFx0XHRcdHRoaXMudmlldy50cmFuc1kgKz0gdGhpcy5wNS5tb3VzZVkgLSB0aGlzLnA1LnBtb3VzZVk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cHJpdmF0ZSBtb3VzZVJlbGVhc2VkKGU6IE1vdXNlRXZlbnQpOiB2b2lkIHtcblx0XHRzd2l0Y2ggKHRoaXMudG9vbCkge1xuXHRcdFx0Y2FzZSBcInJlY3RhbmdsZVwiOlxuXHRcdFx0Y2FzZSBcImNpcmNsZVwiOlxuXHRcdFx0XHRpZiAodGhpcy50ZW1wQXJlYS5pc1ZhbGlkU2hhcGUoKSlcblx0XHRcdFx0XHR0aGlzLmNyZWF0ZUFyZWEodGhpcy50ZW1wQXJlYSk7XG5cdFx0XHRcdHRoaXMudGVtcEFyZWEgPSBuZXcgQXJlYUVtcHR5KCk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSBcInNlbGVjdFwiOlxuXHRcdFx0XHRsZXQgc2VsZWN0aW9uID0gdGhpcy5zZWxlY3Rpb247XG5cdFx0XHRcdGlmICghc2VsZWN0aW9uLmlzRW1wdHkoKSkge1xuXHRcdFx0XHRcdGxldCBtb3ZlID0gdGhpcy5zZWxlY3Rpb24uZGlzdFRvT3JpZ2luKCk7XG5cdFx0XHRcdFx0dGhpcy51bmRvTWFuYWdlci5hZGQoe1xuXHRcdFx0XHRcdFx0dW5kbzogKCkgPT4gc2VsZWN0aW9uLm1vdmUobW92ZS5pbnZlcnQoKSksXG5cdFx0XHRcdFx0XHRyZWRvOiAoKSA9PiBzZWxlY3Rpb24ubW92ZShtb3ZlKSxcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXHRcdFx0XHR0aGlzLnNlbGVjdGlvbiA9IG5ldyBTZWxlY3Rpb24oKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0fVxuXHRcdHRoaXMub25DbGljayhlKTtcblx0XHR0aGlzLmJnTGF5ZXIuZGlzYXBwZWFyKCk7XG5cdH1cblxuXHRwcml2YXRlIG1vdXNlV2hlZWwoZTogTW91c2VXaGVlbEV2ZW50KTogYm9vbGVhbiB7XG5cdFx0aWYgKHRoaXMubW91c2VJc0hvdmVyU2tldGNoKCkpIHtcblx0XHRcdGxldCBjb2VmWm9vbSA9IHRoaXMudmlldy5zY2FsZSAqIHRoaXMuem9vbVBhcmFtcy5zZW5zYXRpdml0eSAqIC0gZS5kZWx0YVk7XG5cdFx0XHR0aGlzLnpvb20oY29lZlpvb20pO1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdHByaXZhdGUga2V5UHJlc3NlZChlOiBLZXlib2FyZEV2ZW50KTogYm9vbGVhbiB7XG5cdFx0aWYgKGUuY29tcG9zZWQgJiYgZS5jdHJsS2V5KSB7XG5cdFx0XHRzd2l0Y2ggKGUua2V5KSB7XG5cdFx0XHRcdGNhc2UgJ3MnOlxuXHRcdFx0XHRcdHRoaXMuc2F2ZSgpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlICd6Jzpcblx0XHRcdFx0XHR0aGlzLnVuZG9NYW5hZ2VyLnVuZG8oKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSAneSc6XG5cdFx0XHRcdFx0dGhpcy51bmRvTWFuYWdlci5yZWRvKCk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fSBlbHNlIGlmIChcblx0XHRcdHRoaXMudG9vbCA9PSBcInBvbHlnb25cIiAmJlxuXHRcdFx0Ly9AdHMtaWdub3JlIHA1IHR5cGVzIGRpZG4ndCBzcGVjaWZ5IHRoZSBFU0NBUEUga2V5Y29kZVxuXHRcdFx0ZS5rZXlDb2RlID09IHRoaXMucDUuRVNDQVBFXG5cdFx0KSB7XG5cdFx0XHR0aGlzLnRlbXBBcmVhID0gbmV3IEFyZWFFbXB0eSgpO1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBGdW5jdGlvbnMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5cdHRydWVYKGNvb3JkOiBudW1iZXIpOiBudW1iZXIge1xuXHRcdHJldHVybiAoY29vcmQgLSB0aGlzLnZpZXcudHJhbnNYKSAvIHRoaXMudmlldy5zY2FsZTtcblx0fVxuXG5cdHRydWVZKGNvb3JkOiBudW1iZXIpOiBudW1iZXIge1xuXHRcdHJldHVybiAoY29vcmQgLSB0aGlzLnZpZXcudHJhbnNZKSAvIHRoaXMudmlldy5zY2FsZTtcblx0fVxuXG5cdG1YKCk6IG51bWJlciB7XG5cdFx0cmV0dXJuIHRoaXMudHJ1ZVgodGhpcy5wNS5tb3VzZVgpO1xuXHR9XG5cblx0bVkoKTogbnVtYmVyIHtcblx0XHRyZXR1cm4gdGhpcy50cnVlWSh0aGlzLnA1Lm1vdXNlWSk7XG5cdH1cblxuXHQvKipcblx0ICogR2V0IHRoZSB0cnVlIGNvb3JkaW5hdGUgb2YgdGhlIG1vdXNlIHJlbGF0aXZlIHRvIHRoZSBpbWFnZU1hcFxuXHQgKi9cblx0bUNvb3JkKCk6IENvb3JkIHtcblx0XHRyZXR1cm4gbmV3IENvb3JkKHRoaXMubVgoKSwgdGhpcy5tWSgpKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBHZXQgdGhlIGNvb3JkaW5hdGUgb2YgdGhlIG1vdXNlIGZvciBkcmF3aW5nXG5cdCAqL1xuXHRkcmF3aW5nQ29vcmQoKTogQ29vcmQge1xuXHRcdGxldCBjb29yZCA9IHRoaXMubUNvb3JkKCk7XG5cdFx0Y29vcmQgPSB0aGlzLm1hZ25ldGlzbSA/IHRoaXMuaG92ZXJlZFBvaW50ID8gdGhpcy5ob3ZlcmVkUG9pbnQgOiBjb29yZCA6IGNvb3JkO1xuXHRcdGlmICghdGhpcy5mdXNpb24pIHtcblx0XHRcdGNvb3JkID0gY29vcmQuY2xvbmUoKTtcblx0XHR9XG5cdFx0cmV0dXJuIGNvb3JkO1xuXHR9XG5cblx0bW91c2VJc0hvdmVyU2tldGNoKCk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiB0aGlzLnA1Lm1vdXNlWCA8PSB0aGlzLnA1LndpZHRoICYmIHRoaXMucDUubW91c2VYID49IDAgJiYgdGhpcy5wNS5tb3VzZVkgPD0gdGhpcy5wNS5oZWlnaHQgJiYgdGhpcy5wNS5tb3VzZVkgPj0gMDtcblx0fVxuXG5cdC8qKlxuXHQgKiBTZXRzIGhvdmVyZWRQb2ludCBhbmQgaG92ZXJlZEFyZWEgZXhjbHVkaW5nIGN1cnJlbnRseSBzZWxlY3RlZCBBcmVhc1xuXHQgKi9cblx0dXBkYXRlSG92ZXJlZCgpOiB2b2lkIHtcblx0XHR0aGlzLmhvdmVyZWRQb2ludCA9IG51bGw7XG5cdFx0bGV0IGFsbEFyZWFzID0gdGhpcy5tYXAuZ2V0QXJlYXMoKTtcblx0XHRsZXQgYXJlYSA9IGFsbEFyZWFzLmZpbmQoKGE6IEFyZWEpOiBib29sZWFuID0+IHtcblx0XHRcdGlmICh0aGlzLnNlbGVjdGlvbi5jb250YWluc0FyZWEoYSkpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdFx0aWYgKHRoaXMudG9vbCAhPSBcInRlc3RcIikge1xuXHRcdFx0XHRsZXQgcG9pbnQgPSBhLmlzT3ZlclBvaW50KHRoaXMubUNvb3JkKCksIHRoaXMudG9sZXJhbmNlIC8gdGhpcy52aWV3LnNjYWxlKVxuXHRcdFx0XHRpZiAocG9pbnQgJiYgIXRoaXMuc2VsZWN0aW9uLmNvbnRhaW5zUG9pbnQocG9pbnQpKSB7XG5cdFx0XHRcdFx0dGhpcy5ob3ZlcmVkUG9pbnQgPSBwb2ludDtcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0aWYgKGEuaXNPdmVyKHRoaXMubUNvb3JkKCkpKSB7XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH0pO1xuXHRcdGlmICh0aGlzLnA1Lm1vdXNlSXNQcmVzc2VkKSByZXR1cm47XG5cdFx0dGhpcy5ob3ZlcmVkQXJlYSA9IGFyZWEgPyBhcmVhIDogbnVsbDtcblx0fVxuXG5cdG9uQ2xpY2soZXZlbnQ6IE1vdXNlRXZlbnQpOiB2b2lkIHtcblx0XHRpZiAodGhpcy5tb3VzZUlzSG92ZXJTa2V0Y2goKSkge1xuXHRcdFx0aWYgKHRoaXMuaG92ZXJlZEFyZWEpIHtcblx0XHRcdFx0aWYgKHRoaXMucDUubW91c2VCdXR0b24gPT0gdGhpcy5wNS5SSUdIVCkge1xuXHRcdFx0XHRcdHRoaXMuc2VsZWN0aW9uLmFkZEFyZWEodGhpcy5ob3ZlcmVkQXJlYSk7XG5cdFx0XHRcdFx0dGhpcy5tZW51Lk1vdmVGcm9udC5lbmFibGVkID0gISh0aGlzLm1hcC5pc0ZpcnN0QXJlYSh0aGlzLmhvdmVyZWRBcmVhLmlkKSB8fCB0aGlzLmhvdmVyZWRBcmVhLmdldFNoYXBlKCkgPT0gJ2RlZmF1bHQnKTtcblx0XHRcdFx0XHR0aGlzLm1lbnUuTW92ZUJhY2suZW5hYmxlZCA9ICEodGhpcy5tYXAuaXNMYXN0QXJlYSh0aGlzLmhvdmVyZWRBcmVhLmlkKSB8fCB0aGlzLmhvdmVyZWRBcmVhLmdldFNoYXBlKCkgPT0gJ2RlZmF1bHQnKTtcblx0XHRcdFx0XHRDb250ZXh0TWVudS5kaXNwbGF5KGV2ZW50LCB0aGlzLm1lbnUsIHtcblx0XHRcdFx0XHRcdHBvc2l0aW9uOiBcImNsaWNrXCIsXG5cdFx0XHRcdFx0XHRkYXRhOiB0aGlzLmhvdmVyZWRBcmVhXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0Ly8gcmV0dXJuIGZhbHNlOyAvLyBkb2Vzbid0IHdvcmsgYXMgZXhwZWN0ZWRcblx0XHRcdFx0fSBlbHNlIGlmICh0aGlzLnA1Lm1vdXNlQnV0dG9uID09IHRoaXMucDUuTEVGVCAmJiAhQ29udGV4dE1lbnUuaXNPcGVuKCkpIHtcblx0XHRcdFx0XHRzd2l0Y2ggKHRoaXMudG9vbCkge1xuXHRcdFx0XHRcdFx0Y2FzZSBcInRlc3RcIjpcblx0XHRcdFx0XHRcdFx0b3BlbldpbmRvdyh0aGlzLmhvdmVyZWRBcmVhLmdldEhyZWYoKSk7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0Y2FzZSBcImRlbGV0ZVwiOlxuXHRcdFx0XHRcdFx0XHR0aGlzLmRlbGV0ZUFyZWEodGhpcy5ob3ZlcmVkQXJlYSk7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XHR0aGlzLnNlbGVjdGlvbi5jbGVhcigpO1xuXHR9XG5cblx0b25PdmVyKGV2dDogTW91c2VFdmVudCk6IHZvaWQge1xuXHRcdHRoaXMuYmdMYXllci5hcHBlYXIoKTtcblx0XHRldnQucHJldmVudERlZmF1bHQoKTtcblx0fVxuXG5cdG9uTGVhdmUoKTogdm9pZCB7XG5cdFx0dGhpcy5iZ0xheWVyLmRpc2FwcGVhcigpO1xuXHR9XG5cblx0aGFuZGVGaWxlKGZpbGU6IHA1LkZpbGUpOiB2b2lkIHtcblx0XHRpZiAoZmlsZS50eXBlID09IFwiaW1hZ2VcIikge1xuXHRcdFx0dGhpcy5pbWcuZGF0YSA9IHRoaXMucDUubG9hZEltYWdlKGZpbGUuZGF0YSwgaW1nID0+IHRoaXMucmVzZXRWaWV3KGltZykpO1xuXHRcdFx0dGhpcy5pbWcuZmlsZSA9IGZpbGUuZmlsZTtcblx0XHRcdGlmICghdGhpcy5tYXAuZ2V0TmFtZSgpKSB7XG5cdFx0XHRcdHRoaXMubWFwLnNldE5hbWUoZmlsZS5uYW1lKTtcblx0XHRcdFx0dGhpcy5zZXR0aW5ncy5zZXRWYWx1ZShcIk1hcCBOYW1lXCIsIHRoaXMubWFwLmdldE5hbWUoKSk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIGlmIChmaWxlLnN1YnR5cGUgPT0gJ2pzb24nKSB7XG5cdFx0XHRmZXRjaChmaWxlLmRhdGEpXG5cdFx0XHRcdC50aGVuKHJlcyA9PiByZXMuYmxvYigpKVxuXHRcdFx0XHQudGhlbihibG9iID0+IHtcblx0XHRcdFx0XHRsZXQgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcblx0XHRcdFx0XHRyZWFkZXIub25sb2FkID0gKCkgPT4ge1xuXHRcdFx0XHRcdFx0bGV0IGpzb24gPSByZWFkZXIucmVzdWx0O1xuXHRcdFx0XHRcdFx0aWYgKHR5cGVvZihqc29uKSA9PSBcInN0cmluZ1wiKSB7XG5cdFx0XHRcdFx0XHRcdHRoaXMuaW1wb3J0TWFwKGpzb24pO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0cmVhZGVyLnJlYWRBc1RleHQoYmxvYik7XG5cdFx0XHRcdH0pO1xuXHRcdH1cblx0XHR0aGlzLmJnTGF5ZXIuZGlzYXBwZWFyKCk7XG5cdH1cblxuXHRyZXNldFZpZXcoaW1nOiBwNS5JbWFnZSk6IHZvaWQge1xuXHRcdHRoaXMudmlldy5zY2FsZSA9IDE7XG5cdFx0dGhpcy52aWV3LnRyYW5zWCA9IDA7XG5cdFx0dGhpcy52aWV3LnRyYW5zWSA9IDA7XG5cdFx0bGV0IHhTY2FsZSA9IHRoaXMucDUud2lkdGggLyBpbWcud2lkdGg7XG5cdFx0bGV0IHlTY2FsZSA9IHRoaXMucDUuaGVpZ2h0IC8gaW1nLmhlaWdodDtcblx0XHRpZiAoeFNjYWxlIDwgdGhpcy52aWV3LnNjYWxlKVxuXHRcdFx0dGhpcy52aWV3LnNjYWxlID0geFNjYWxlO1xuXHRcdGlmICh5U2NhbGUgPCB0aGlzLnZpZXcuc2NhbGUpXG5cdFx0XHR0aGlzLnZpZXcuc2NhbGUgPSB5U2NhbGU7XG5cdFx0dGhpcy5tYXAuc2V0U2l6ZShpbWcud2lkdGgsIGltZy5oZWlnaHQpO1xuXHR9XG5cblx0em9vbShjb2VmOiBudW1iZXIpOiB2b2lkIHtcblx0XHRsZXQgbmV3U2NhbGUgPSB0aGlzLnZpZXcuc2NhbGUgKyBjb2VmO1xuXHRcdGlmIChuZXdTY2FsZSA+IHRoaXMuem9vbVBhcmFtcy5taW4gJiYgbmV3U2NhbGUgPCB0aGlzLnpvb21QYXJhbXMubWF4KSB7XG5cdFx0XHRsZXQgbW91c2VYVG9PcmlnaW4gPSB0aGlzLm1YKCk7XG5cdFx0XHRsZXQgbW91c2VZVG9PcmlnaW4gPSB0aGlzLm1ZKCk7XG5cdFx0XHRsZXQgdHJhbnNYID0gbW91c2VYVG9PcmlnaW4gKiBjb2VmO1xuXHRcdFx0bGV0IHRyYW5zWSA9IG1vdXNlWVRvT3JpZ2luICogY29lZjtcblxuXHRcdFx0dGhpcy52aWV3LnNjYWxlID0gbmV3U2NhbGU7XG5cdFx0XHR0aGlzLnZpZXcudHJhbnNYIC09IHRyYW5zWDtcblx0XHRcdHRoaXMudmlldy50cmFuc1kgLT0gdHJhbnNZO1xuXHRcdH1cblx0fVxuXG5cdGRyYXdJbWFnZSgpOiB2b2lkIHtcblx0XHRpZiAodGhpcy5pbWcuZGF0YSlcblx0XHRcdHRoaXMucDUuaW1hZ2UodGhpcy5pbWcuZGF0YSwgMCwgMCwgdGhpcy5pbWcuZGF0YS53aWR0aCwgdGhpcy5pbWcuZGF0YS5oZWlnaHQpO1xuXHR9XG5cblx0ZHJhd0FyZWFzKCk6IHZvaWQge1xuXHRcdGxldCBhbGxBcmVhcyA9IFt0aGlzLnRlbXBBcmVhXS5jb25jYXQodGhpcy5tYXAuZ2V0QXJlYXMoKSk7XG5cdFx0Zm9yIChsZXQgaSA9IGFsbEFyZWFzLmxlbmd0aDsgaS0tOykge1xuXHRcdFx0bGV0IGFyZWEgPSBhbGxBcmVhc1tpXTtcblx0XHRcdHRoaXMuc2V0QXJlYVN0eWxlKGFyZWEpO1xuXHRcdFx0aWYgKGFyZWEuaXNEcmF3YWJsZSgpKVxuXHRcdFx0XHRhcmVhLmRpc3BsYXkodGhpcy5wNSk7XG5cdFx0fVxuXHRcdGlmICh0aGlzLmhvdmVyZWRQb2ludCkge1xuXHRcdFx0bGV0IHBvaW50ID0gdGhpcy5ob3ZlcmVkUG9pbnQ7XG5cdFx0XHR0aGlzLnA1LmZpbGwoMCk7XG5cdFx0XHR0aGlzLnA1Lm5vU3Ryb2tlKCk7XG5cdFx0XHR0aGlzLnA1LmVsbGlwc2UocG9pbnQueCwgcG9pbnQueSwgNiAvIHRoaXMudmlldy5zY2FsZSlcblx0XHR9XG5cdH1cblxuXHRzZXRUb29sKHZhbHVlOiBUb29sKTogdm9pZCB7XG5cdFx0dGhpcy50b29sID0gdmFsdWU7XG5cdFx0dGhpcy50ZW1wQXJlYSA9IG5ldyBBcmVhRW1wdHkoKTtcblx0fVxuXG5cdHNldEN1cnNvcigpOiB2b2lkIHtcblx0XHRpZiAodGhpcy5kcmF3aW5nVG9vbHMuaW5jbHVkZXModGhpcy50b29sKSkge1xuXHRcdFx0c3dpdGNoICh0aGlzLnRvb2wpIHtcblx0XHRcdFx0Y2FzZSBcInBvbHlnb25cIjpcblx0XHRcdFx0XHRsZXQgYXJlYVBvbHkgPSB0aGlzLnRlbXBBcmVhIGFzIEFyZWFQb2x5XG5cdFx0XHRcdFx0aWYgKCFhcmVhUG9seS5pc0VtcHR5KCkgJiYgYXJlYVBvbHkuaXNDbG9zYWJsZSh0aGlzLm1Db29yZCgpLCA1IC8gdGhpcy52aWV3LnNjYWxlKSkge1xuXHRcdFx0XHRcdFx0dGhpcy5wNS5jdXJzb3IodGhpcy5wNS5IQU5EKTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0XHR0aGlzLnA1LmN1cnNvcih0aGlzLnA1LkNST1NTKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5wNS5jdXJzb3IodGhpcy5wNS5BUlJPVyk7XG5cdFx0XHRpZiAodGhpcy5ob3ZlcmVkQXJlYSkge1xuXHRcdFx0XHRzd2l0Y2ggKHRoaXMudG9vbCkge1xuXHRcdFx0XHRcdGNhc2UgXCJ0ZXN0XCI6XG5cdFx0XHRcdFx0Y2FzZSBcImRlbGV0ZVwiOlxuXHRcdFx0XHRcdFx0dGhpcy5wNS5jdXJzb3IodGhpcy5wNS5IQU5EKTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgXCJzZWxlY3RcIjpcblx0XHRcdFx0XHRcdGlmICghdGhpcy5ob3ZlcmVkUG9pbnQpIHtcblx0XHRcdFx0XHRcdFx0dGhpcy5wNS5jdXJzb3IodGhpcy5wNS5NT1ZFKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0c2V0T3V0cHV0KCk6IHZvaWQge1xuXHRcdHN3aXRjaCAodGhpcy50b29sKSB7XG5cdFx0XHRjYXNlIFwidGVzdFwiOlxuXHRcdFx0Y2FzZSBcInNlbGVjdFwiOlxuXHRcdFx0XHRpZiAodGhpcy5tb3VzZUlzSG92ZXJTa2V0Y2goKSkge1xuXHRcdFx0XHRcdGxldCBocmVmID0gdGhpcy5ob3ZlcmVkQXJlYSA/IHRoaXMuaG92ZXJlZEFyZWEuZ2V0SHJlZlZlcmJvc2UoKSA6IFwibm9uZVwiO1xuXHRcdFx0XHRcdHRoaXMuc2V0dGluZ3Muc2V0VmFsdWUoXCJPdXRwdXRcIiwgaHJlZik7XG5cdFx0XHRcdH1cblx0XHRcdFx0YnJlYWs7XG5cdFx0fVxuXHR9XG5cblx0c2V0QmFja2dyb3VuZCgpOiB2b2lkIHtcblx0XHR0aGlzLnA1LmJhY2tncm91bmQoMjAwKTtcblx0XHRpZiAoIXRoaXMuaW1nLmRhdGEpIHtcblx0XHRcdHRoaXMucDUubm9TdHJva2UoKTtcblx0XHRcdHRoaXMucDUuZmlsbCgwKTtcblx0XHRcdHRoaXMucDUudGV4dEFsaWduKHRoaXMucDUuQ0VOVEVSLCB0aGlzLnA1LkNFTlRFUik7XG5cdFx0XHR0aGlzLnA1LnRleHRTaXplKDE1KTtcblx0XHRcdGxldCB0ZXh0ID0gJ0RyYWcgYW5kIGRyb3AgYW4gaW1hZ2UgYW5kL29yIGEgLm1hcC5qc29uIHNhdmUgZmlsZSBoZXJlJztcblx0XHRcdHRoaXMucDUudGV4dCh0ZXh0LCB0aGlzLnA1LndpZHRoIC8gMiwgdGhpcy5wNS5oZWlnaHQgLyAyKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogU2V0IHRoZSB0aXRsZSBvZiB0aGUgY2FudmFzIGZyb20gYW4gYXJlYVxuXHQgKi9cblx0c2V0VGl0bGUoYXJlYTogQXJlYXxudWxsKTogdm9pZCB7XG5cdFx0aWYgKHRoaXMudG9vbCA9PSBcInRlc3RcIiAmJiBhcmVhICYmIGFyZWEuZ2V0VGl0bGUoKSkge1xuXHRcdFx0Ly9AdHMtaWdub3JlIHA1IHR5cGVzIGRvZXMgbm90IHNwZWNpZnkgdGhlIGNhbnZhcyBhdHRyaWJ1dGVcblx0XHRcdHRoaXMucDUuY2FudmFzLnNldEF0dHJpYnV0ZShcInRpdGxlXCIsIGFyZWEuZ2V0VGl0bGUoKSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vQHRzLWlnbm9yZSBwNSB0eXBlcyBkb2VzIG5vdCBzcGVjaWZ5IHRoZSBjYW52YXMgYXR0cmlidXRlXG5cdFx0XHR0aGlzLnA1LmNhbnZhcy5yZW1vdmVBdHRyaWJ1dGUoXCJ0aXRsZVwiKTtcblx0XHR9XG5cdH1cblxuXHRzZXRBcmVhU3R5bGUoYXJlYTogQXJlYSk6IHZvaWQge1xuXHRcdGxldCBjb2xvciA9IHRoaXMucDUuY29sb3IoMjU1LCAyNTUsIDI1NSwgMTc4KTtcblx0XHRpZiAodGhpcy50b29sID09IFwidGVzdFwiKSB7XG5cdFx0XHRjb2xvciA9IHRoaXMucDUuY29sb3IoMjU1LCAwKTtcblx0XHR9XG5cdFx0aWYgKCgodGhpcy50b29sID09IFwiZGVsZXRlXCIgfHwgdGhpcy50b29sID09IFwic2VsZWN0XCIpICYmXG5cdFx0XHR0aGlzLm1vdXNlSXNIb3ZlclNrZXRjaCgpICYmXG5cdFx0XHRhcmVhID09IHRoaXMuaG92ZXJlZEFyZWEpIHx8XG5cdFx0XHR0aGlzLnNlbGVjdGlvbi5jb250YWluc0FyZWEoYXJlYSlcblx0XHQpIHtcblx0XHRcdGNvbG9yID0gdGhpcy5wNS5jb2xvcigyNTUsIDIwMCwgMjAwLCAxNzgpOyAvLyBoaWdobGlnaHQgKHNldCBjb2xvciByZWQpXG5cdFx0fVxuXHRcdHRoaXMucDUuZmlsbChjb2xvcik7XG5cdFx0dGhpcy5wNS5zdHJva2VXZWlnaHQoMSAvIHRoaXMudmlldy5zY2FsZSk7XG5cdFx0aWYgKHRoaXMudG9vbCA9PSBcInRlc3RcIikge1xuXHRcdFx0dGhpcy5wNS5ub1N0cm9rZSgpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLnA1LnN0cm9rZSgwKTtcblx0XHR9XG5cdH1cblxuXHRzZXRUZW1wQXJlYShjb29yZDogQ29vcmQpOiB2b2lkIHtcblx0XHRsZXQgY29vcmRzID0gW2Nvb3JkXTtcblx0XHRzd2l0Y2ggKHRoaXMudG9vbCkge1xuXHRcdFx0Y2FzZSBcInJlY3RhbmdsZVwiOlxuXHRcdFx0XHR0aGlzLnRlbXBBcmVhID0gbmV3IEFyZWFSZWN0KGNvb3Jkcyk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSBcImNpcmNsZVwiOlxuXHRcdFx0XHR0aGlzLnRlbXBBcmVhID0gbmV3IEFyZWFDaXJjbGUoY29vcmRzKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIFwicG9seWdvblwiOlxuXHRcdFx0XHR0aGlzLnRlbXBBcmVhID0gbmV3IEFyZWFQb2x5KGNvb3Jkcyk7XG5cdFx0XHRcdHRoaXMudGVtcEFyZWEuYWRkQ29vcmQoY29vcmQpO1xuXHRcdFx0XHRicmVhaztcblx0XHR9XG5cdH1cblxuXHR1cGRhdGVUZW1wQXJlYSgpOiB2b2lkIHtcblx0XHRsZXQgY29vcmQgPSB0aGlzLmRyYXdpbmdDb29yZCgpO1xuXHRcdGlmICghdGhpcy50ZW1wQXJlYS5pc0VtcHR5KCkpIHtcblx0XHRcdHRoaXMudGVtcEFyZWEudXBkYXRlTGFzdENvb3JkKGNvb3JkKTtcblx0XHR9XG5cdH1cblxuXHRleHBvcnRNYXAoKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gSlNPTi5zdHJpbmdpZnkobmV3IFNhdmUodmVyc2lvbiwgdGhpcy5tYXApLCBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuXHRcdFx0aWYgKHZhbHVlIGluc3RhbmNlb2YgSW1hZ2VNYXAgJiYgISh0aGlzIGluc3RhbmNlb2YgU2F2ZSkpIHtcblx0XHRcdFx0cmV0dXJuIHZhbHVlLmdldE5hbWUoKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiB2YWx1ZTtcblx0XHR9KTtcblx0fVxuXG5cdHNhdmUoKTogdm9pZCB7XG5cdFx0Ly9AdHMtaWdub3JlIGVuY29kaW5nIG9wdGlvbnMgZm9yIENocm9tZVxuXHRcdGxldCBibG9iID0gbmV3IEJsb2IoW3RoaXMuZXhwb3J0TWFwKCldLCB7IGVuY29kaW5nOiBcIlVURi04XCIsIHR5cGU6IFwidGV4dC9wbGFpbjtjaGFyc2V0PVVURi04XCIgfSlcblx0XHRkb3dubG9hZChibG9iLCBgJHt0aGlzLm1hcC5nZXROYW1lKCl9Lm1hcC5qc29uYCwgJ2FwcGxpY2F0aW9uL2pzb24nKVxuXHR9XG5cblx0aW1wb3J0TWFwKGpzb246IHN0cmluZyk6IHZvaWQge1xuXHRcdGxldCBvYmplY3QgPSBKU09OLnBhcnNlKGpzb24pO1xuXHRcdGxldCBvYmplY3RNYXAgPSBvYmplY3QubWFwO1xuXHRcdHRoaXMubWFwLnNldEZyb21PYmplY3Qob2JqZWN0TWFwKTtcblx0XHR0aGlzLnNldHRpbmdzLnNldFZhbHVlKFwiTWFwIE5hbWVcIiwgb2JqZWN0TWFwLm5hbWUpO1xuXHRcdHRoaXMuc2V0dGluZ3Muc2V0VmFsdWUoXCJEZWZhdWx0IEFyZWFcIiwgb2JqZWN0TWFwLmhhc0RlZmF1bHRBcmVhKTtcblx0XHR0aGlzLnJlc2V0KCk7XG5cdH1cblxuXHQvKipcblx0ICogQWRkIGFuIGFyZWEgdG8gdGhlIGltYWdlTWFwIG9iamVjdFxuXHQgKi9cblx0Y3JlYXRlQXJlYShhcmVhOiBBcmVhKTogdm9pZCB7XG5cdFx0dGhpcy5tYXAuYWRkQXJlYShhcmVhKTtcblx0XHR0aGlzLnVuZG9NYW5hZ2VyLmFkZCh7XG5cdFx0XHR1bmRvOiAoKSA9PiBhcmVhID0gdGhpcy5tYXAuc2hpZnRBcmVhKCkhLFxuXHRcdFx0cmVkbzogKCkgPT4gdGhpcy5tYXAuYWRkQXJlYShhcmVhLCBmYWxzZSksXG5cdFx0fSk7XG5cdH1cblxuXHQvKipcblx0ICogcmVtb3ZlIGFuIGFyZWEgZnJvbSB0aGUgaW1hZ2VNYXAgb2JqZWN0XG5cdCAqL1xuXHRkZWxldGVBcmVhKGFyZWE6IEFyZWEpOiB2b2lkIHtcblx0XHRsZXQgaWQgPSBhcmVhLmlkO1xuXHRcdGlmIChpZCA9PT0gMCkge1xuXHRcdFx0dGhpcy5zZXR0aW5ncy5zZXRWYWx1ZShcIkRlZmF1bHQgQXJlYVwiLCBmYWxzZSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGxldCBpbmRleCA9IHRoaXMubWFwLnJtdkFyZWEoaWQpO1xuXHRcdFx0dGhpcy51bmRvTWFuYWdlci5hZGQoe1xuXHRcdFx0XHR1bmRvOiAoKSA9PiB0aGlzLm1hcC5pbnNlcnRBcmVhKGFyZWEsIGluZGV4KSxcblx0XHRcdFx0cmVkbzogKCkgPT4gdGhpcy5tYXAucm12QXJlYShpZCksXG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogTW92ZSBhbiBhcmVhIGZvcndhcmQgb3IgYmFja3dhcmRcblx0ICovXG5cdG1vdmVBcmVhKGFyZWE6IEFyZWEsIGRpcmVjdGlvbjogbnVtYmVyKTogdm9pZCB7XG5cdFx0aWYgKHRoaXMubWFwLm1vdmVBcmVhKGFyZWEuaWQsIGRpcmVjdGlvbikgIT09IGZhbHNlKSB7XG5cdFx0XHR0aGlzLnVuZG9NYW5hZ2VyLmFkZCh7XG5cdFx0XHRcdHVuZG86ICgpID0+IHRoaXMubWFwLm1vdmVBcmVhKGFyZWEuaWQsIC1kaXJlY3Rpb24pLFxuXHRcdFx0XHRyZWRvOiAoKSA9PiB0aGlzLm1hcC5tb3ZlQXJlYShhcmVhLmlkLCBkaXJlY3Rpb24pLFxuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIFNldCB0aGUgdXJsIG9mIGFuIGFyZWFcblx0ICovXG5cdHNldEFyZWFVcmwoYXJlYTogQXJlYSk6IHZvaWQge1xuXHRcdGxldCBocmVmID0gYXJlYS5nZXRIcmVmKCk7XG5cdFx0bGV0IGlucHV0ID0gcHJvbXB0KFwiRW50ZXIgdGhlIHBvaW50aW5nIHVybCBvZiB0aGlzIGFyZWFcIiwgaHJlZiA/IGhyZWYgOiBcImh0dHA6Ly9cIik7XG5cdFx0aWYgKGlucHV0KSB7XG5cdFx0XHRhcmVhLnNldEhyZWYoaW5wdXQpO1xuXHRcdFx0dGhpcy51bmRvTWFuYWdlci5hZGQoe1xuXHRcdFx0XHR1bmRvOiAoKSA9PiBhcmVhLnNldEhyZWYoaHJlZiksXG5cdFx0XHRcdHJlZG86ICgpID0+IGFyZWEuc2V0SHJlZihpbnB1dCEpLFxuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIFNldCB0aGUgdGl0bGUgb2YgYW4gYXJlYVxuXHQgKi9cblx0c2V0QXJlYVRpdGxlKGFyZWE6IEFyZWEpOiB2b2lkIHtcblx0XHRsZXQgdGl0bGUgPSBhcmVhLmdldFRpdGxlKCk7XG5cdFx0bGV0IGlucHV0ID0gcHJvbXB0KFwiRW50ZXIgdGhlIERlc2sgbnVtYmVyIG9mIHRoaXMgYXJlYVwiLCB0aXRsZSA/IHRpdGxlIDogXCJcIik7XG5cdFx0aWYgKGlucHV0KSB7XG5cdFx0XHRhcmVhLnNldFRpdGxlKGlucHV0KTtcblx0XHRcdHRoaXMudW5kb01hbmFnZXIuYWRkKHtcblx0XHRcdFx0dW5kbzogKCkgPT4gYXJlYS5zZXRUaXRsZSh0aXRsZSksXG5cdFx0XHRcdHJlZG86ICgpID0+IGFyZWEuc2V0VGl0bGUoaW5wdXQhKSxcblx0XHRcdH0pO1xuXHRcdH1cblx0fVxuXG5cdHNldERlZmF1bHRBcmVhKGJvb2w6IGJvb2xlYW4pOiB2b2lkIHtcblx0XHR0aGlzLm1hcC5zZXREZWZhdWx0QXJlYShib29sKTtcblx0XHR0aGlzLnVuZG9NYW5hZ2VyLmFkZCh7XG5cdFx0XHR1bmRvOiAoKSA9PiB7XG5cdFx0XHRcdHRoaXMubWFwLnNldERlZmF1bHRBcmVhKCFib29sKTsgLy8gc2VtYmxlIHJlZG9uZGFudFxuXHRcdFx0XHR0aGlzLnNldHRpbmdzLnNldFZhbHVlKFwiRGVmYXVsdCBBcmVhXCIsICFib29sKVxuXHRcdFx0fSxcblx0XHRcdHJlZG86ICgpID0+IHtcblx0XHRcdFx0dGhpcy5tYXAuc2V0RGVmYXVsdEFyZWEoYm9vbCk7IC8vIHNlbWJsZSByZWRvbmRhbnRcblx0XHRcdFx0dGhpcy5zZXR0aW5ncy5zZXRWYWx1ZShcIkRlZmF1bHQgQXJlYVwiLCBib29sKVxuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0Y2xlYXJBcmVhcygpOiB2b2lkIHtcblx0XHRsZXQgYXJlYXMgPSB0aGlzLm1hcC5nZXRBcmVhcyhmYWxzZSk7XG5cdFx0dGhpcy5tYXAuY2xlYXJBcmVhcygpO1xuXHRcdHRoaXMudW5kb01hbmFnZXIuYWRkKHtcblx0XHRcdHVuZG86ICgpID0+IHRoaXMubWFwLnNldEFyZWFzKGFyZWFzKSxcblx0XHRcdHJlZG86ICgpID0+IHRoaXMubWFwLmNsZWFyQXJlYXMoKSxcblx0XHR9KTtcblx0fVxuXG5cdHJlc2V0KCk6IHZvaWQge1xuXHRcdHRoaXMudW5kb01hbmFnZXIuY2xlYXIoKTtcblx0fVxufSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFnQkE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7O0FBRUE7QUFDQTtBQUNBO0FBMENBOzs7OztBQUtBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUExQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBdUJBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7OyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/p5.image-map-creator.ts\n");

/***/ }),

/***/ "./src/utils.ts":
/*!**********************!*\
  !*** ./src/utils.ts ***!
  \**********************/
/*! exports provided: between, round, openWindow */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"between\", function() { return between; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"round\", function() { return round; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"openWindow\", function() { return openWindow; });\nfunction between(val, refA, refB, included) {\r\n    if (included === void 0) { included = true; }\r\n    if (refA > refB) {\r\n        var refT = refA;\r\n        refA = refB;\r\n        refB = refT;\r\n    }\r\n    return included ? val >= refA && val <= refB : val > refA && val < refB;\r\n}\r\nfunction round(x, digits) {\r\n    return parseFloat(x.toFixed(digits));\r\n}\r\nfunction openWindow(url, width, height) {\r\n    if (width === void 0) { width = 400; }\r\n    if (height === void 0) { height = 300; }\r\n    window.open(url, \"_blank\", \"width=\" + width + \",height=\" + height);\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdXRpbHMudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMudHM/N2RkYSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gYmV0d2Vlbih2YWw6IG51bWJlciwgcmVmQTogbnVtYmVyLCByZWZCOiBudW1iZXIsIGluY2x1ZGVkID0gdHJ1ZSk6IGJvb2xlYW4ge1xuXHRpZiAocmVmQSA+IHJlZkIpIHtcblx0XHRsZXQgcmVmVCA9IHJlZkE7XG5cdFx0cmVmQSA9IHJlZkI7XG5cdFx0cmVmQiA9IHJlZlQ7XG5cdH1cblx0cmV0dXJuIGluY2x1ZGVkID8gdmFsID49IHJlZkEgJiYgdmFsIDw9IHJlZkIgOiB2YWwgPiByZWZBICYmIHZhbCA8IHJlZkJcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdW5kKHg6IG51bWJlciwgZGlnaXRzOiBudW1iZXIpOiBudW1iZXIge1xuXHRyZXR1cm4gcGFyc2VGbG9hdCh4LnRvRml4ZWQoZGlnaXRzKSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG9wZW5XaW5kb3codXJsOiBzdHJpbmcsIHdpZHRoID0gNDAwLCBoZWlnaHQgPSAzMDApOiB2b2lkIHtcblx0d2luZG93Lm9wZW4odXJsLCBcIl9ibGFua1wiLCBgd2lkdGg9JHt3aWR0aH0saGVpZ2h0PSR7aGVpZ2h0fWApO1xufSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/utils.ts\n");

/***/ })

/******/ });
});